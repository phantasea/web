<!DOCTYPE html>
<html>
  <head>
    <link rel="canonical" href="http://blog.csdn.net/spark_csdn/article/details/57080034"/> 
    <script type="text/javascript">
        var username = "spark_csdn";
        var _blogger = username;
        var blog_address = "http://blog.csdn.net/spark_csdn";
        var static_host = "http://csdnimg.cn/release/phoenix/";
        var currentUserName = ""; 
        var fileName = '57080034';
        var commentscount = 0;
        var islock = false;
        window.quickReplyflag = true;
        var totalFloor = 0;
        var isBole = false;
        var isDigg = false;
        var isExpert = false;
        var isAdm = false;
        var baiduKey = "ffmepg+%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6";
        var needInsertBaidu = false;
        var isShowAds = true;
    </script>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <script src="http://c.csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="http://c.csdnimg.cn/public/static/css/avatar.css">
                <link rel="stylesheet" href="http://csdnimg.cn/release/phoenix/production/main-aa20801f57.css">
          <link rel="stylesheet" href="http://c.csdnimg.cn/public/common/toolbar/content_toolbar_css/content_toolbar.css">

    <script src="http://csdnimg.cn/rabbit/exposure-click/main-1.0.5.js"></script>
    <script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/tracking-1.0.2.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://csdnimg.cn/release/phoenix/production/main-8faf05cfc6.js"></script>

    <script src="http://dup.baidustatic.com/js/ds.js"></script>
    <script type="text/javascript">
        // Traffic Stats of the entire Web site By baidu
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?6bcd52f51e9b3dce32bec4a3997715ac";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        // Traffic Stats of the entire Web site By baidu end
    </script>
    <meta name="description" content="ffmpeg合并视频的方法有三种。国内大多数仅介绍了其中之一。于是觉得有必要翻译一下。其实在ffmpeg的 FAQ文档中有比较详细的说明。



 使用concat协议进行视频文件的合并

这种方式的适用场景是：视频容器是MPEG-1, MPEG-2 PS或DV等可以直接进行合并的。换句话说，其实可以直接用cat或者copy之类的命令来对视频直接进行合并。很多文章介绍了这种方法，但适用" />
    <meta name="keywords" content="合并,ffmpeg" />
    <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
    <title>使用ffmpeg合并视频文件的三种方法 - CSDN博客</title>
    <link href="http://csdnimg.cn/public/favicon.ico" rel="SHORTCUT ICON">
              <script src="//csdnimg.cn/search/baidu_search-1.0.0.js?v=201802071056&autorun=true&install=true&keyword=ffmepg+%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6"  type="text/javascript"></script>
                      <link rel="stylesheet" href="http://csdnimg.cn/release/phoenix/production/htmledit_views-b569b0e3ef.css">
      </head>
<body>
<script id="toolbar-tpl-scriptId" prod="download" skin="black" src="http://c.csdnimg.cn/public/common/toolbar/js/content_toolbar.js" type="text/javascript" domain="http://blog.csdn.net/"></script>
<div class="container clearfix">
  <main>
    <div style="display:none;">
      <img src="" onerror='setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){window.location.href="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);'>
    </div>
    <article>
        <h1 class="csdn_top">使用ffmpeg合并视频文件的三种方法</h1>
        <div class="article_bar clearfix">
            <div class="artical_tag">
                <span class="original">
                转载                </span>
                <span class="time">2017年02月25日 14:21:08</span>
            </div>

            <ul class="article_tags clearfix csdn-tracking-statistics tracking-click" data-mod="popu_377" >
                <li class="tit">标签：</li>

<!--          [startarticletags]-->
                                                            <li><a href="http://so.csdn.net/so/search/s.do?q=合并&t=blog" target="_blank">合并</a> <span>/</span></li>
                                            <li><a href="http://so.csdn.net/so/search/s.do?q=ffmpeg&t=blog" target="_blank">ffmpeg</a> <span>/</span></li>
                                    <!--          [endarticletags]-->
            </ul>
            <ul class="right_bar">
                <li><button class="btn-noborder"><i class="icon iconfont icon-read"></i><span class="txt">1666</span></button></li>
                <li class="edit">
                    <a class="btn-noborder" href="" >
                        <i class="icon iconfont icon-bianji"></i><span class="txt">编辑</span>
                    </a>
                </li>
                <li class="del">
                    <a class="btn-noborder" onclick="javascript:deleteArticle(fileName);return false;">
                        <i class="icon iconfont icon-shanchu"></i><span class="txt">删除</span>
                    </a>
                </li>
            </ul>
        </div>
        <div id="article_content" class="article_content csdn-tracking-statistics tracking-click" data-mod="popu_519" data-dsm="post">
                            <div class="htmledit_views">
                        
<p style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:1.7em; margin-top:0px; margin-bottom:0.75em; text-indent:1em">
ffmpeg合并视频的方法有三种。国内大多数仅介绍了其中之一。于是觉得有必要翻译一下。其实在ffmpeg的&nbsp;<a target="_blank" target="_blank" href="https://ffmpeg.mplayerhq.hu/faq.html#How-can-I-concatenate-video-files_003f" rel="nofollow,noindex" style="color:rgb(148,148,148); text-decoration:none; outline:none 0px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:rgb(148,148,148); font-style:italic; font-weight:bold">FAQ文档中有比较详细的说明。</a></p>
<ol style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:1.7em; padding:0px; margin:0px 0px 0.75em 25px">
<li style="line-height:1.7em">
<h3 style="margin:0px 0px 0.5em; padding:0px; font-family:inherit; line-height:1.6em; color:inherit; font-size:18px; text-indent:1em">
<a target="_blank" name="t0" style="color:rgb(51,102,153)"></a>&nbsp;使用concat协议进行视频文件的合并</h3>
<p style="margin-top:0px; margin-bottom:0.75em; line-height:1.7em; text-indent:1em">
这种方式的适用场景是：视频容器是MPEG-1, MPEG-2 PS或DV等可以直接进行合并的。换句话说，其实可以直接用cat或者copy之类的命令来对视频直接进行合并。很多文章介绍了这种方法，但适用性却没有提及。这并不是一个通用的方法。典型的命令示例如下：</p>
<pre code_snippet_id="2227214" snippet_file_name="blog_20170225_1_1809860"  class="prettyprint undefined" name="code" style="white-space: pre-wrap; word-wrap: break-word; position: relative; overflow: auto; padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; background-color: rgb(246, 246, 246);">ffmpeg -i concat:&quot;intermediate1.mpg|intermediate2.mpg&quot; -c copy intermediate_all.mpg</pre></li><li style="line-height:1.7em">
<h3 style="margin:0px 0px 0.5em; padding:0px; font-family:inherit; line-height:1.6em; color:inherit; font-size:18px; text-indent:1em">
<a target="_blank" name="t1" style="color:rgb(51,102,153)"></a>&nbsp;使用concat demuxer进行视频文件的合并</h3>
<p style="margin-top:0px; margin-bottom:0.75em; line-height:1.7em; text-indent:1em">
这种合并方式的适用场景是：当容器&#26684;式不支持文件层次的合并，而又不想（不需要）进行再编码的操作的时候。这种方式对源视频同样有同&#26684;式同性质的要求。其详细语法参见&nbsp;<a target="_blank" target="_blank" href="https://ffmpeg.mplayerhq.hu/ffmpeg-formats.html#concat-1" rel="nofollow,noindex" style="color:rgb(148,148,148); text-decoration:none; outline:none 0px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:rgb(148,148,148); font-style:italic; font-weight:bold">这里</a>&nbsp;。典型的命令示例如下：</p>
<pre code_snippet_id="2227214" snippet_file_name="blog_20170225_2_1744603"  class="prettyprint undefined" name="code" style="white-space: pre-wrap; word-wrap: break-word; position: relative; overflow: auto; padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; background-color: rgb(246, 246, 246);">ffmpeg -f concat -i Cam01.txt -c copy Cam01.mp4</pre>
<p style="margin-top:0px; margin-bottom:0.75em; line-height:1.7em; text-indent:1em">
其中，Cam01.txt 为包含了输入文件的描述文件。</p>
</li><li style="line-height:1.7em">
<h3 style="margin:0px 0px 0.5em; padding:0px; font-family:inherit; line-height:1.6em; color:inherit; font-size:18px; text-indent:1em">
<a target="_blank" name="t2" style="color:rgb(51,102,153)"></a>&nbsp;使用concat滤镜（filter）进行视频文件的合并：</h3>
<p style="margin-top:0px; margin-bottom:0.75em; line-height:1.7em; text-indent:1em">
当需要进行任意程度的重新编解码时，官方推荐使用的方法即是用concat滤镜来进行视频文件的合并处理。详细说明参见&nbsp;<a target="_blank" target="_blank" href="https://ffmpeg.mplayerhq.hu/ffmpeg-filters.html#concat" rel="nofollow,noindex" style="color:rgb(148,148,148); text-decoration:none; outline:none 0px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:rgb(148,148,148); font-style:italic; font-weight:bold">这里</a>&nbsp;。典型命令示例如下：</p>
<pre code_snippet_id="2227214" snippet_file_name="blog_20170225_3_142203"  class="prettyprint perl" name="code" style="white-space: pre-wrap; word-wrap: break-word; position: relative; overflow: auto; padding: 0.3em; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; margin-top: 0px; margin-bottom: 1.5em; font-size: 12px; line-height: 1.5em; word-break: break-all; background-color: rgb(246, 246, 246);">ffmpeg -i opening.mkv -i episode.mkv -i ending.mkv -filter_complex \
  <span class="string" style="color: rgb(221, 17, 68);">'[0:0] [0:1] [0:2] [1:0] [1:1] [1:2] [2:0] [2:1] [2:2]
   concat=n=3:v=1:a=2 [v] [a1] [a2]'</span> \
  -<span class="keyword" style="font-weight: bold;">map</span> <span class="string" style="color: rgb(221, 17, 68);">'[v]'</span> -<span class="keyword" style="font-weight: bold;">map</span> <span class="string" style="color: rgb(221, 17, 68);">'[a1]'</span> -<span class="keyword" style="font-weight: bold;">map</span> <span class="string" style="color: rgb(221, 17, 68);">'[a2]'</span> output.mkv</pre>
<p style="margin-top:0px; margin-bottom:0.75em; line-height:1.7em; text-indent:1em">
这段命令目的是将三段双语&#26684;式的视频合并至最终的一段视频(output.mkv)。参数n=3说明待合成的视频有三段，v=1说明视频流为一，a=2说明音频流为二。 -map参数的详细说明可以从Filtergraph文档中找到。</p>
</li></ol>
<div style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:27.2px; text-indent:16px">
<br>
</div>
<div style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:27.2px; text-indent:16px">
<a target="_blank" target="_blank" href="http://blog.csdn.net/doublefi123/article/details/47276739" style="color:rgb(0,0,0); text-decoration:none; font-family:'Microsoft YaHei'; font-size:20px; line-height:30px">FFMpeg无损合并视频的多种方法</a></div>
<div style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:27.2px; text-indent:16px">
<a target="_blank" target="_blank" href="http://blog.csdn.net/doublefi123/article/details/47276739" style="color:rgb(51,102,153); text-decoration:none">http://blog.csdn.net/doublefi123/article/details/47276739</a><br>
</div>
<div style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:27.2px; text-indent:16px">
<br>
</div>
<div style="color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; font-size:16px; line-height:27.2px; text-indent:16px">
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
众所周知，从某些视频网站下载的视频是分段的。比如新浪视频每隔6分钟分段，俗称“<a target="_blank" target="_blank" href="http://wiki.acfun.tv/index.php/6%E5%88%86%E9%92%9F%E8%AF%85%E5%92%92" style="color:rgb(51,102,153); text-decoration:none">6分钟诅咒</a>”。</div>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
现在的任务是将这些视频片段合并起来，并且尽量无损。</div>
<h4 style="margin:0px; padding:0px; line-height:26px; position:relative; font-size:22px; font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; color:rgb(68,68,68)">
<a target="_blank" name="t3" style="color:rgb(51,102,153)"></a><a target="_blank" target="_blank" name="t0" style="color:rgb(51,102,153)"></a><strong>方法一：FFmpeg concat 协议</strong></h4>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
对于 MPEG &#26684;式的视频，可以直接连接：</div>
<blockquote style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -i &quot;concat:input1.mpg|input2.mpg|input3.mpg&quot; -c copy output.mpg</tt></blockquote>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
对于非 MPEG &#26684;式容器，但是是 MPEG 编码器（H.264、DivX、XviD、MPEG4、MPEG2、AAC、MP2、MP3 等），可以包装进 TS &#26684;式的容器再合并。在新浪视频，有很多视频使用 H.264 编码器，可以采用这个方法</div>
<blockquote style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -i input1.flv -c copy -bsf:v h264_mp4toannexb -f mpegts input1.ts<tt style="font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont"></tt></tt></div>
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -i input2.flv -c copy -bsf:v h264_mp4toannexb -f mpegts input2.ts<tt style="font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont"></tt></tt></div>
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -i input3.flv -c copy -bsf:v h264_mp4toannexb -f mpegts input3.ts<tt style="font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont"></tt></tt></div>
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -i &quot;concat:input1.ts|input2.ts|input3.ts&quot; -c copy -bsf:a aac_adtstoasc -movflags &#43;faststart output.mp4</tt></div>
</blockquote>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
保存 QuickTime/MP4 &#26684;式容器的时候，建议加上&nbsp;<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">-movflags
 &#43;faststart</tt>。这样分享文件给别人的时候可以边下边看。</div>
<h4 style="margin:0px; padding:0px; line-height:26px; position:relative; font-size:22px; font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; color:rgb(68,68,68)">
<a target="_blank" name="t4" style="color:rgb(51,102,153)"></a><a target="_blank" target="_blank" name="t1" style="color:rgb(51,102,153)"></a><strong>方法二：FFmpeg concat 分离器</strong></h4>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
这种方法成功率很高，也是最好的，但是需要 FFmpeg 1.1 以上版本。先创建一个文本文件<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">filelist.txt</tt>：</div>
<blockquote style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">file
 'input1.mkv'</tt></div>
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">file
 'input2.mkv'</tt></div>
<div><tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">file
 'input3.mkv'</tt></div>
</blockquote>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
然后：</div>
<blockquote style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -f concat -i filelist.txt -c copy output.mkv</tt></blockquote>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
注意：使用 FFmpeg concat 分离器时，如果文件名有奇怪的字符，要在&nbsp;<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">filelist.txt</tt>&nbsp;中转义。</div>
<h4 style="margin:0px; padding:0px; line-height:26px; position:relative; font-size:22px; font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; color:rgb(68,68,68)">
<a target="_blank" name="t5" style="color:rgb(51,102,153)"></a><a target="_blank" target="_blank" name="t2" style="color:rgb(51,102,153)"></a><strong>方法三：Mencoder 连接文件并重建索引</strong></h4>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
这种方法只对很少的视频&#26684;式生效。幸运的是，新浪视频使用的 FLV &#26684;式是可以这样连接的。对于没有使用 MPEG 编码器的视频（如 FLV1 编码器），可以尝试这种方法，或许能够成功。</div>
<blockquote style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">mencoder
 -forceidx -of lavf -oac copy -ovc copy -o output.flv input1.flv input2.flv input3.flv</tt></blockquote>
<h4 style="margin:0px; padding:0px; line-height:26px; position:relative; font-size:22px; font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; color:rgb(68,68,68)">
<a target="_blank" name="t6" style="color:rgb(51,102,153)"></a><a target="_blank" target="_blank" name="t3" style="color:rgb(51,102,153)"></a><strong>方法四：使用 FFmpeg concat 过滤器重新编码（有损）</strong></h4>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
语法有点复杂，但是其实不难。这个方法可以合并不同编码器的视频片段，也可以作为其他方法失效的后备措施。</div>
<blockquote style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg
 -i input1.mp4 -i input2.webm -i input3.avi -filter_complex '[0:0] [0:1] [1:0] [1:1] [2:0] [2:1] concat=n=3:v=1:a=1 [v] [a]' -map '[v]' -map '[a]'&nbsp;<span style="color:grey">&lt;编码器选项&gt;</span>&nbsp;output.mkv</tt></blockquote>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
如你所见，上面的命令合并了三种不同&#26684;式的文件，FFmpeg concat 过滤器会重新编码它们。<strong>注意这是有损压缩。</strong></div>
<div style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">[0:0]
 [0:1] [1:0] [1:1] [2:0] [2:1]</tt>&nbsp;分别表示第一个输入文件的视频、音频、第二个输入文件的视频、音频、第三个输入文件的视频、音频。<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">concat=n=3:v=1:a=1</tt>&nbsp;表示有三个输入文件，输出一条视频流和一条音频流。<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">[v]
 [a]</tt>&nbsp;就是得到的视频流和音频流的名字，注意在 bash 等 shell 中需要用引号，防止通配符扩展。</div>
<h4 style="margin:0px; padding:0px; line-height:26px; position:relative; font-size:22px; font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; color:rgb(68,68,68)">
<a target="_blank" name="t7" style="color:rgb(51,102,153)"></a><a target="_blank" target="_blank" name="t4" style="color:rgb(51,102,153)"></a><strong>提示</strong></h4>
<ol style="font-size:14px; color:rgb(68,68,68); font-family:'Lucida Grande','Lucida Sans Unicode',Cantarell,Ubuntu,'Sogue UI','Nimbus Sans L','Droid Sans','DejaVu Sans','Liberation Sans',FreeSans,'Helvetica Neue',Helvetica,Arial,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei','WenQuanYi Zen Hei','Microsoft Yahei',SimHei,sans-serif,'AR PL New Sung','AR PL UMing CN',SimSun,'WenQuanYi Bitmap Song'; line-height:19.6px">
<li style="padding:0px; margin:0px 0px 0.25em">以上三种方法，在可能的情况下，最好使用第二种。第一种次之，第三种更次。第四种是后备方案，尽量避免。</li><li style="padding:0px; margin:0px 0px 0.25em">规&#26684;不同的视频合并后可能会有无法预测的结果。</li><li style="padding:0px; margin:0px 0px 0.25em">有些媒体需要先分离视频和音频，合并完成后再封装回去。</li><li style="padding:0px; margin:0px 0px 0.25em">对于 Packed B-Frames 的视频，如果封装成 MKV &#26684;式的时候提示&nbsp;<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">Can't
 write packet with unknown timestamp</tt>，尝试<a target="_blank" target="_blank" href="https://trac.ffmpeg.org/ticket/1552" title="1552 (Packed B-frames cannot be remuxed into mkv) – FFmpeg" style="color:rgb(51,102,153); text-decoration:none">在 FFmpeg 命令的&nbsp;<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">ffmpeg</tt>&nbsp;后面加上&nbsp;<tt style="line-height:normal; font-family:Monaco,Consolas,'DejaVu Sans Mono','Lucida Console','Ubuntu Mono','Droid Sans Mono','Nimbus Mono L','Courier New',Courier,'Liberation Mono',FreeMono,STXihei,'Heiti SC',STHeiti,'Hiragino Sans GB','Hiragino Sans GB',XHei,'Droid Sans Fallback','WenQuanYi Micro Hei Mono','WenQuanYi Zen Hei Mono',SimHei,monospace,'AR PL New Sung','AR PL UMing CN',NSimSun,'WenQuanYi Bitmap Song',Unifont">-fflags
 &#43;genpts</tt></a></li></ol>
</div>
                </div>
                    </div>
    </article>
      <div class="readall_box csdn-tracking-statistics tracking-click" data-mod="popu_376">
          <div class="read_more_mask"></div>
          <a class="btn btn-large btn-gray-fred read_more_btn" target="_self">阅读全文</a>
      </div>
      <div class="article_copyright">
         
              </div>
      <ul class="article_collect clearfix csdn-tracking-statistics tracking-click"  data-mod="popu_378">
          <li class="tit">本文已收录于以下专栏：</li>
<!--          [startarticlecolumns]-->
                                <!--          [endarticlecolumns]-->
      </ul>
      <div class="comment_box clearfix" id="comments">
          <div id="comment_form">
              <div id="commentsbmitarear">
                              </div>
          </div>
      </div>
      <div class="comment_li_outbox">
          <div id="comment_list"></div>
      </div>

      <div class="more_comment">
          <div id="comment_bar" class="trackgin-ad" data-mod="popu_385"></div>
      </div>

      <!-- <h3 class="recommend_tit" id="related">相关文章推荐</h3> -->
      <div class="recommend_list clearfix" id="rasss">
                                          <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/u012416398/article/details/48546593"  target="_blank" strategy="BlogCommendFromBaidu_0">
                    <dd>
                        <h2>ffmpeg 音频合并</h2>
                        <div class="summary">
                            1. 音频合并(两个音频会重叠)

ffmpeg -i first.mp3 -i second.mp3 -filter_complex amix=inputs=2:duration=first:dro...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/C/0/8/3_u012416398.jpg" alt="u012416398" title="u012416398"></li>
                            <li class="user_name">u012416398</li>
                            <li class="time">2015年09月18日 15:24</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>3873</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/dxpqxb/article/details/76640328"  target="_blank" strategy="BlogCommendFromBaidu_1">
                    <dd>
                        <h2>使用ffmpeg命令实现合并多个音频为一个音频的方法</h2>
                        <div class="summary">
                            使用ffmpeg实现合并多个音频为一个音频的方法




可以使用ffmpeg的filter功能来进行这个操作，而且效果很好




amerge也可以实现，但是这里就介绍一下使用...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/1/5/9/3_dxpqxb.jpg" alt="dxpqxb" title="dxpqxb"></li>
                            <li class="user_name">dxpqxb</li>
                            <li class="time">2017年08月03日 17:45</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>880</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                          <dl class="">
            <script>
            (function() {
              var s = "_" + Math.random().toString(36).slice(2);
              document.write('<div id="' + s + '"></div>');
              (window.slotbydup=window.slotbydup || []).push({
                id: '4765209',
                container: s,
                size: '808,120',
                display: 'inlay-fix'
              });
            })();
            </script>
          </dl>
                                        <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/doublefi123/article/details/47276739"  target="_blank" strategy="BlogCommendFromBaidu_2">
                    <dd>
                        <h2>FFMpeg无损合并视频的多种方法</h2>
                        <div class="summary">
                            众所周知，从某些视频网站下载的视频是分段的。比如新浪视频每隔6分钟分段，俗称“6分钟诅咒”。

现在的任务是将这些视频片段合并起来，并且尽量无损。

方法一：FFmpeg concat 协议...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/7/E/7/3_doublefi123.jpg" alt="doublefi123" title="doublefi123"></li>
                            <li class="user_name">doublefi123</li>
                            <li class="time">2015年08月04日 14:51</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>36208</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/leixiaohua1020/article/details/39802913"  target="_blank" strategy="BlogCommendFromBaidu_3">
                    <dd>
                        <h2>最简单的基于FFmpeg的封装格式处理：视音频复用器（muxer）</h2>
                        <div class="summary">
                            打算记录一下基于FFmpeg的封装格式处理方面的例子。包括了视音频分离，复用，封装格式转换。这是第3篇。本文记录一个基于FFmpeg的视音频复用器（Simplest FFmpeg muxer）。视音频...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/A/7/6/3_leixiaohua1020.jpg" alt="leixiaohua1020" title="leixiaohua1020"></li>
                            <li class="user_name">leixiaohua1020</li>
                            <li class="time">2014年10月09日 00:47</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>53301</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/u012850192/article/details/52084109"  target="_blank" strategy="BlogCommendFromBaidu_4">
                    <dd>
                        <h2>ffmpeg无损合并视频的多种方法</h2>
                        <div class="summary">
                            众所周知，从某些视频网站下载的视频是分段的。比如新浪视频每隔6分钟分段，俗称“6分钟诅咒”。

现在的任务是将这些视频片段合并起来，并且尽量无损。

方法一：FFmpeg concat 协议...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/C/C/B/3_u012850192.jpg" alt="u012850192" title="u012850192"></li>
                            <li class="user_name">u012850192</li>
                            <li class="time">2016年08月01日 11:19</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>1521</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/xiaojun111111/article/details/52438230"  target="_blank" strategy="BlogCommendFromBaidu_5">
                    <dd>
                        <h2>使用ffmpeg合并视频文件的三种方法</h2>
                        <div class="summary">
                            ffmpeg合并视频的方法有三种。国内大多数仅介绍了其中之一。于是觉得有必要翻译一下。其实在ffmpeg的 FAQ文档中有比较详细的说明。






 使用concat协议进行视频文件...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/1/B/8/3_xiaojun111111.jpg" alt="xiaojun111111" title="xiaojun111111"></li>
                            <li class="user_name">xiaojun111111</li>
                            <li class="time">2016年09月05日 10:47</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>5046</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/spark_csdn/article/details/57080034"  target="_blank" strategy="searchFromBaidu_6">
                    <dd>
                        <h2>使用ffmpeg合并视频文件的三种方法</h2>
                        <div class="summary">
                            ffmpeg合并视频的方法有三种。国内大多数仅介绍了其中之一。于是觉得有必要翻译一下。其实在ffmpeg的 FAQ文档中有比较详细的说明。



 使用concat协议进行视频文件的合并
...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/8/5/3/3_spark_csdn.jpg" alt="spark_csdn" title="spark_csdn"></li>
                            <li class="user_name">spark_csdn</li>
                            <li class="time">2017年02月25日 14:21</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>1666</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/old_imp/article/details/10153859"  target="_blank" strategy="BlogCommendFromBaidu_7">
                    <dd>
                        <h2>ffmpeg合并两个视频</h2>
                        <div class="summary">
                            我需要在程序里面实现合并两个视频的功能，用的是C#，但是直接能使用的成熟工具好像并不多，这两天找了很多工具：
aforge.NET 可以处理视频但是只能处理视频画面，声音处理不了，对我来说没用。
ac...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/3/6/4/3_old_imp.jpg" alt="old_imp" title="old_imp"></li>
                            <li class="user_name">old_imp</li>
                            <li class="time">2013年08月21日 17:10</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>17643</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/u012587637/article/details/51689824"  target="_blank" strategy="BlogCommendFromBaidu_8">
                    <dd>
                        <h2>使用ffmpeg合并视频文件的三种方法</h2>
                        <div class="summary">
                            时间 2015-01-02 17:28:58  IT社区推荐资讯
原文  http://itindex.net/detail/52379-ffmpeg-合并-视频
主题 FFmpeg


...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/9/B/7/3_u012587637.jpg" alt="u012587637" title="u012587637"></li>
                            <li class="user_name">u012587637</li>
                            <li class="time">2016年06月16日 10:08</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>1306</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                                                    <dl class="clearfix csdn-tracking-statistics recommend_article" data-mod="popu_387" data-poputype="feed"  data-feed-show="false"  data-dsm="post">
                <a href="http://blog.csdn.net/suifenglie/article/details/73962873"  target="_blank" strategy="BlogCommendFromBaidu_9">
                    <dd>
                        <h2>FFMpeg无损合并视频的多种方法</h2>
                        <div class="summary">
                            众所周知，从某些视频网站下载的视频是分段的。比如新浪视频每隔6分钟分段，俗称“6分钟诅咒”。

现在的任务是将这些视频片段合并起来，并且尽量无损。

方法一：FFmpeg concat 协议...                        </div>

                        <ul>
                            <li class="avatar_img"><img src="http://avatar.csdn.net/9/9/4/3_suifenglie.jpg" alt="suifenglie" title="suifenglie"></li>
                            <li class="user_name">suifenglie</li>
                            <li class="time">2017年06月30日 11:24</li>
                            <li class="visited_num"><i class="icon iconfont icon-read"></i><span>993</span></li>
                        </ul>
                    </dd>
                </a>
            </dl>
                              </div>
  </main>
<aside>
    <div class="right_box user_info">
    <dl class="inf_bar clearfix">
        <dt class="csdn-tracking-statistics tracking-click" data-mod="popu_381">
                <a href="http://blog.csdn.net/spark_csdn" target="_blank">
                    <img src="http://avatar.csdn.net/8/5/3/3_spark_csdn.jpg" class="avatar_pic">
        </a>
      </dt><dd>
            <h3 class="csdn-tracking-statistics tracking-click"  data-mod="popu_380"><a href="http://blog.csdn.net/spark_csdn" target="_blank" id="uid">spark_csdn</a></h3>
            <div class="medals" title="">
                      </div>
                    </dd>
    </dl>
    <div class="inf_number_box clearfix">
        <dl title="15">
            <dt>原创</dt>
            <dd>15</dd>
        </dl>
        <dl title="0">
            <dt>粉丝</dt>
            <dd id='fan'>0</dd>
        </dl>
        <dl title="0">
            <dt>喜欢</dt>
            <dd>0</dd>
        </dl>
        <dl title="1">
          <dt>评论</dt>
          <dd>1</dd>
        </dl>
    </div>

</div>
<div class="interflow clearfix">
      <div class="badge gradeAndbadge">
        <div>
                                    <img src='http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/chizhiyiheng.png' alt='持之以恒'>
                                            </div>
    </div>
      <div class="grade gradeAndbadge gradewidths">
      <span>等级：</span>
      <div>
        <a href="http://blog.csdn.net/home/help.html#level" title="2级,点击查看等级说明" target="_blank">
          <img class="grade-img" src="http://c.csdnimg.cn/jifen/images/xunzhang/jianzhang/blog2.png" alt="2级,点击查看等级说明">
        </a>
      </div>
    </div>
    <div class="gradeAndbadge gradewidths" title="11375">
        <span>访问量：</span>
        <span class="num odd-overhidden">1万+</span>
    </div>

    <div class="gradeAndbadge gradewidths" title="276">
      <span>积分：</span>
      <span  class="num odd-overhidden">276</span>
    </div>
    <div class="gradeAndbadge gradewidths" title="280831">
        <span>排名：</span>
        <span class="num odd-overhidden">28万+</span>
    </div>

</div>
          <div class="extension_other csdn-tracking-statistics tracking-click" data-mod="popu_389">
          <!--u3032528-->
        <div class="flashrecommend">
                        <script type="text/javascript" src="//cee1.iteye.com/bwocoltly.js"></script>
                    </div>
      </div>
            <div class="writings">
      <div class="public_signal clearfix">
        <h3>他的最新文章</h3>
        <a href="http://blog.csdn.net/spark_csdn" target="_blank" class="more"><span>更多文章</span></a>
      </div>
        <ul class="inf_list clearfix csdn-tracking-statistics tracking-click" data-mod="popu_382">
                        <li class="clearfix">
                <a href="http://blog.csdn.net/spark_csdn/article/details/78616162" target="_blank">C++  jsoncpp编译及链接库的使用</a>
            </li>
                        <li class="clearfix">
                <a href="http://blog.csdn.net/spark_csdn/article/details/78616069" target="_blank">使用 C++ 库 jsoncpp 处理 JSON 数据</a>
            </li>
                        <li class="clearfix">
                <a href="http://blog.csdn.net/spark_csdn/article/details/78615343" target="_blank">C++解析JSON之jsoncpp</a>
            </li>
                        <li class="clearfix">
                <a href="http://blog.csdn.net/spark_csdn/article/details/78614607" target="_blank">静态成员函数和非静态成员变量</a>
            </li>
                        <li class="clearfix">
                <a href="http://blog.csdn.net/spark_csdn/article/details/49561677" target="_blank">Foundation 之 NSData</a>
            </li>
                    </ul>
    </div>
                <div class="user-hotArticle sort ClassSort">
            <h3>文章分类</h3>
            <ul class="hotArticle-list sort-list ClassSort-list">
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5746189" class="odd-overhidden floatL">Objective-C</a>
                        <div class="read list-left floatR"><span>14篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5749663" class="odd-overhidden floatL">OS X</a>
                        <div class="read list-left floatR"><span>10篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5757049" class="odd-overhidden floatL">Compile</a>
                        <div class="read list-left floatR"><span>3篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5786851" class="odd-overhidden floatL">Android</a>
                        <div class="read list-left floatR"><span>1篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5787205" class="odd-overhidden floatL">Linux</a>
                        <div class="read list-left floatR"><span>1篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5802455" class="odd-overhidden floatL">协议</a>
                        <div class="read list-left floatR"><span>1篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/5831905" class="odd-overhidden floatL">iOS</a>
                        <div class="read list-left floatR"><span>10篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/6747100" class="odd-overhidden floatL">媒体</a>
                        <div class="read list-left floatR"><span>1篇</span></div>
                    </li>
                                    <li class="clearfix">
                        <a href="http://blog.csdn.net/spark_csdn/article/category/7305664" class="odd-overhidden floatL">C++</a>
                        <div class="read list-left floatR"><span>4篇</span></div>
                    </li>
                            </ul>
            <div class="unfold-btn">
              <span>展开</span><i class="icon iconfont icon-xiajiantou"></i>
            </div>
        </div>
    <!--    [StartShowSelfColumn]-->
    <!--    [EndShowSelfColumn]-->
            <div class="user-hotArticle sort timeSort">
          <h3>文章存档</h3>
          <ul class="hotArticle-list timeSort-list">
                            <li class="clearfix">
                  <a href="http://blog.csdn.net/spark_csdn/article/month/2017/11" class="odd-overhidden floatL">2017年11月</a>
                  <div class="read list-left floatR"><span>4篇</span></div>
                </li>
                            <li class="clearfix">
                  <a href="http://blog.csdn.net/spark_csdn/article/month/2017/02" class="odd-overhidden floatL">2017年2月</a>
                  <div class="read list-left floatR"><span>1篇</span></div>
                </li>
                            <li class="clearfix">
                  <a href="http://blog.csdn.net/spark_csdn/article/month/2015/11" class="odd-overhidden floatL">2015年11月</a>
                  <div class="read list-left floatR"><span>4篇</span></div>
                </li>
                            <li class="clearfix">
                  <a href="http://blog.csdn.net/spark_csdn/article/month/2015/10" class="odd-overhidden floatL">2015年10月</a>
                  <div class="read list-left floatR"><span>5篇</span></div>
                </li>
                            <li class="clearfix">
                  <a href="http://blog.csdn.net/spark_csdn/article/month/2015/09" class="odd-overhidden floatL">2015年9月</a>
                  <div class="read list-left floatR"><span>7篇</span></div>
                </li>
                            <li class="clearfix">
                  <a href="http://blog.csdn.net/spark_csdn/article/month/2015/08" class="odd-overhidden floatL">2015年8月</a>
                  <div class="read list-left floatR"><span>5篇</span></div>
                </li>
                      </ul>
          <div class="unfold-btn">
            <span>展开</span><i class="icon iconfont icon-xiajiantou"></i>
          </div>
        </div>
            <div class="user-hotArticle">
        <h3>他的热门文章</h3>
        <ul class="hotArticle-list csdn-tracking-statistics tracking-click" data-mod="popu_521">
<!--        [StartHotArticles]-->
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/48316395">NVMe的优势</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>1731</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/57080034">使用ffmpeg合并视频文件的三种方法</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>1655</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/47752449">@property的属性 strong 和 weak 深刻理解（强引用与弱引用）</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>1233</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/48180907">Apt-cacher-ng 配置Linux代理网络</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>930</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/48630313">iOS开发 - UI组件（视图集）</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>664</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/48179899">Android为什么卡顿？为什么用起来不如iOS流畅</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>515</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/49155539">Cocoa中的设计模式(MVC模式\委托模式\键值观察模式)</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>513</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/48315013">UI界面：手写UI代码或者使用xib和StoryBoard制作UI界面的区别和分析</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>452</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/49561677">Foundation 之 NSData</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>415</span></div>
                </li>
                            <li>
                    <a href="http://blog.csdn.net/spark_csdn/article/details/47783245">App 从Windows到OS X的移植</a>
                    <div class="read list-left"><i class="icon iconfont icon-read"></i><span>323</span></div>
                </li>
            <!--        [EndHotArticles]-->
        </ul>
    </div>
    
<!--    [startcustom]-->
    <!--    [endcustom]-->
  <div class="fixRight_box" style="height:256px">
    <div class="fixRight">
                    <!--u3163270-->
                        <script type="text/javascript" src="//cee1.iteye.com/avneunkwb.js"></script>
                          <div class="persion_article"></div>
    </div>
  </div>
</aside>
</div>

<div class="left_fixed">
    <div class="left_show_button">
        <span>
          <i class="icon iconfont icon-youjiantou"></i>
        </span>
    </div>
    <ul class="left_menu" id="share_box">
        <li>
            <button class="left-fixed-btn btn-like csdn-tracking-statistics tracking-click" data-mod="popu_373" target="_self" title="点赞">
                <a href="javascript:void(0);" class="iconbox border_red" ><i class="icon iconfont icon-dianzan"></i></a>
                <a class="txt" href="javascript:void(0);">0</a>
            </button>
        </li>
        <li id="blog_artical_directory">
            <button class="left-fixed-btn left_menu_btn csdn-tracking-statistics tracking-click" data-mod="popu_372" target="_self" title="目录">
                <a href="javascript:void(0);" class="iconbox border_black" ><i class="icon iconfont icon-mulu"></i></a>
            </button>
        </li>
        <li class="menu_con">
            <div class="list_father">
                <div class="arr_box">
                    <button class="btn-noborder arr-btn scroll-down  left_scroll_down"><i class="icon iconfont icon-xiajiantou"></i></button>
                    <button class="btn-noborder arr-btn scroll-up left_scroll_top"><i class="icon iconfont icon-shangjiantou"></i></button>
                </div>
                <div class="arr"></div>
                <div id="csdnBlogDir"></div>
            </div>
        </li>
        <!--        <li>-->
        <!--            <button class="left-fixed-btn btn-like tracking-ad" data-mod="popu_373" target="_self">-->
        <!--                <span class="iconbox border_red"><i class="icon iconfont icon-xihuan-"></i></span>-->
        <!--                <span class="txt">喜欢</span>-->
        <!--                <span class="untxt">取消喜欢</span>-->
        <!--            </button>-->
        <!--        </li>-->
        <li>
            <button class="left-fixed-btn csdn-tracking-statistics tracking-click" data-mod="popu_374"  id="com-quick-collect" target="_self" title="收藏">
                <a href="javascript:void(0);" class="iconbox border_purple" ><i class="icon iconfont icon-shoucang"></i></a>
            </button>
        </li>
        <li>
            <button class="left-fixed-btn btn-pinglun csdn-tracking-statistics tracking-click" data-mod="popu_544" title="评论">
                <a href="javascript:void(0);" class="iconbox border_purple" ><i class="icon iconfont icon-pinglun"></i></a>
            </button>
        </li>
        <li class="bdsharebuttonbox csdn-tracking-statistics tracking-click" data-mod="popu_172">
            <a class="bds_tsina outside left-fixed-btn" data-cmd="tsina" title="分享到新浪微博"></a>
            <span class="iconbox border_red2"><i class="icon iconfont icon-xinlang"></i></span>
        </li>
        <li class="bdsharebuttonbox csdn-tracking-statistics tracking-click" data-mod="popu_172">
            <a class="bds_weixin outside left-fixed-btn" data-cmd="weixin" title="分享到微信"></a>
            <span class="iconbox border_green"><i class="icon iconfont icon-weixin"></i></span>
        </li>
        <li class="bdsharebuttonbox csdn-tracking-statistics tracking-click" data-mod="popu_172">
            <a class="bds_qzone outside left-fixed-btn" data-cmd="qzone" title="分享到QQ空间"></a>
            <span class="iconbox border_blue"><i class="icon iconfont icon-QQ"></i></span>
        </li>
        <li id="share_box">
            
            <div class="bdsharebuttonbox csdn-tracking-statistics tracking-click" data-mod="popu_172">
                
                
                
            </div>
        </li>
    </ul>
</div>
<div id="pop_win"></div>
<div id="popup_mask"></div>
<div class="pop_CA_cover" ></div>
<div class="pop pop_CA" >
    <div class="CA_header">
        收藏助手
        <span class="cancel_icon"  id="fapancle" ></span>
    </div>
    <iframe src="" id="collectIframe" frameborder="0" width="100%" height="360"  scrolling="no" ></iframe>
</div>
<!--举报-->
<div id="report_dialog" style="top: 250px; left: 343.5px;"><div id="panel_report">
    <div class="panel_head">不良信息举报</div>
    <form method="post" id="frmReport" class="panel_body">
        <table border="0" cellpadding="0" cellspacing="4" class="pop_table">
            <tbody><tr><td colspan="2">您举报文章：<a href="http://blog.csdn.net/spark_csdn/article/details/57080034" target="_blank">使用ffmpeg合并视频文件的三种方法</a></td></tr>
            <tr>
                <th style="width:60px;">举报原因：</th>
                <td id="panel_reporttype">
                    <label><input type="radio" class="report_type" id="report_sex" name="report_type" value="1">色情</label>
                    <label><input type="radio" class="report_type" id="report_Politics" name="report_type" value="2">政治</label>
                    <label><input type="radio" class="report_type" id="report_copy" name="report_type" value="3">抄袭</label>
                    <label><input type="radio" class="report_type" id="report_ad" name="report_type" value="4">广告</label>
                    <label><input type="radio" class="report_type" id="report_want" name="report_type" value="5">招聘</label>
                    <label><input type="radio" class="report_type" id="report_call" name="report_type" value="6">骂人</label>
                    <br>
                    <label><input type="radio" class="report_type" id="report_other" name="report_type" value="7">其他</label>
                    <input type="text" name="report_other_content" id="report_other_content" maxlength="30" style="display: none;">
                </td>
            </tr>
            <tr id="panel_originalurl" style="display: none;">
                <th>原文地址：</th>
                <td>
                    <input id="originalurl" value="http://" name="originalurl" type="text" style="width: 90%;">
                </td>
            </tr>
            <tr>
                <th id="sp_reason">原因补充：</th>
                <td>
                    <textarea id="report_description" style="width: 300px;" rows="3" name="report_description"></textarea>
                    <p id="sp_n" style="color:#999;margin:0px;padding:0px;">(最多只允许输入30个字)</p>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input id="btnSubmitReport" name="submit" type="image" align="middle" class="btn_1" src="http://csdnimg.cn/release/phoenix/images/btn_submit.jpg">
                    <span style="padding-left:20px;"></span>
                    <img id="btnCloseReportDialog" src="http://csdnimg.cn/release/phoenix/images/btn_cancel.jpg" align="middle">
                    <div id="error" style="color: Red">
                    </div>
                </td>
            </tr>
            </tbody></table>
    </form>
</div>
    <script language="javascript" type="text/javascript">
        var isComment=0;
        //显示隐藏地址
        $(function () {
          console.log("version:phoenix");
            if(isComment){
                $("#report_description").attr("disabled",true);
                $("#sp_n").hide();
                $("#sp_reason").html("评论内容：");
            }
            $(".report_type").click(function () {
                $("#panel_originalurl,#report_other_content").hide();
                switch ($(this).val()) {
                    case '3':
                        $("#panel_originalurl").show();
                        $("#originalurl").focus();
                        break;
                    case '7':
                        if(isComment){
                            $("#report_other_content").show().focus();
                        }
                        break;
                }

            });

            $("#frmReport").submit(function () {
                if (!currentUserName) {

                    if (confirm("您的操作必须登录，是否登录？")) {
                        location.href = "http://passport.csdn.net/account/login?from=" + encodeURIComponent(location.href);
                        return false;
                    }
                    return false;
                }

                var reportType = $("input[name=report_type]:checked").val();
                if(!reportType){
                    alert("请选择举报原因！");
                    return false;
                }
                var otherInfo = "";
                switch (reportType) {
                    case '3':
                        otherInfo = $("#originalurl").val();
                        if (otherInfo == ""||otherInfo=="http://") {
                            alert("举报抄袭必须提供原创文章地址！");
                            $("#originalurl").focus();
                            return false;
                        } else if(!checkeURL(otherInfo)) {
                            alert("请输入正确的原创文章地址！");
                            $("#originalurl").focus();
                            return false;
                        }
                        break;
                    case '7':
                        otherInfo = $("#report_other_content").val();
                        if (isComment && !otherInfo) {
                            alert("请填写举报的具体原因！");
                            $("#report_other_content").focus();
                            return false;
                        }
                        if(!isComment){
                            if(!$("#report_description").val()){
                                alert("请填写举报的具体原因！");
                                $("#report_description").focus();
                                return false;
                            }
                        }
                        break;
                }
                if(!isComment){
                    if($("#report_description").val().length>30){
                        alert("举报原因最多只允许输入30个字！");
                        return false;
                    }
                }
	            nowTime = {
		            year: new Date().getFullYear(),
		            month: parseInt(new Date().getMonth())+1,
		            day: new Date().getDate(),
		            hours: parseInt(new Date().getHours())+1,
		            minutes: parseInt(new Date().getMinutes())+1,
		            seconds: parseInt(new Date().getSeconds())+1
	            };
	            var data = {
		            articleId: fileName,
		            commentId: 0,
		            reportType: reportType,
		            originalurl: $("#originalurl").val(),
		            report_other_content: $("#report_other_content").val(),
		            report_description: $("#report_description").val(),
		            currentUserName: currentUserName,
		            updatetime: nowTime.year+'/'+nowTime.month+'/'+nowTime.day+' '+ nowTime.hours+':'+nowTime.minutes+':'+seconds,
		            blogUser: username
	            };
	            if(!isComment){//如果是举报文章
		            data.report_other_content = data.report_description;
		            // data.report_description = "1. 神经网络这是一个常见的神经网络的图：这是一个常见的三层神经网络的基本构成，Layer L1是输入层，Layer L2是隐含层";
	            }

	            $.post(blog_address + "/common/report?id="+fileName+"&t=2", data, function (data) {
		            if (data.result == 1){
			            SetError("感谢您的举报，我们会尽快审核！");
		            }else{
			            if (data.content) alert(data.content);
		            }

	            });
                return false;
            });

            $("#btnCloseReportDialog").click(function () {
                CloseDiv();
            });

        });

        //提示后关闭方法
        function SetError(error) {
            $("#btnCloseReportDialog").trigger("click");
            alert(error);
            CloseDiv();
        }

        //关闭方法
        function CloseDiv() {

            $.removeMask();
            $("#report_dialog").hide();
            return false;
        }

        //验证url
        function checkeURL(url){
            return /^http(s)?:\/\/([\w-]+\.)+[\w-]+/i.test(url);
        }
    </script>
</div>
<!--  fixme 后期清理掉  -->
<div id="a52b5334d" style="width: 1px; height: 1px; display: none;">
    <script id="adJs52b5334"></script>
    <script>document.getElementById("adJs52b5334").src = "http://ads.csdn.net/js/opt/52b5334.js?t=" + Math.random();</script>
</div>
<script>
    $(".MathJax").remove();
</script>
<script type="text/javascript" src="//static.blog.csdn.net/mdeditor/public/res/bower-libs/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<!-- <script type="text/javascript" src="http://passport.csdn.net/content/loginbox/login.js"></script> -->
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<script type="text/javascript" >
    if($(".article_collect li").length==1){$(".article_collect").hide();}
    if($(".article_tags li").length==1){$(".article_tags").hide();}
    $(".edit a").attr("href","http://mp.blog.csdn.net/postedit/"+fileName);
    $.each($(".edu_li a"),function(){$(this).attr("href",$(this).attr("href").replace("blog7","blog9"))});
    new CNick('#uid').showNickname();

    if($("#fan").html()=="")
    {
	    $("#fan").html(0);
    }
</script>
<script src="http://c.csdnimg.cn/public/common/append_mark/appendMark.min.js?v=5.00.43" type="text/javascript"></script>
<script type="text/javascript">
    appendMark($('.recommend_list').children('a').find('dt'),$('.extension_other'),$('.yd_a_d_feed_cla'))
</script>
<script src='http://csdnimg.cn/pubfooter/js/publib_footer-1.0.3.js?v201802051726' data-isfootertrack="false"></script>
<script src='http://csdnimg.cn/public/common/gotop/js/goTop-v1.0.min.js?v20180305174820'></script>
<script>
    GoTop({
        right: 8,
        hasReport: true,
        reportFun: function() {
            $.createMask();
            var r = blog_address + "/common/report?id=" + fileName + "&t=" + 2;
            if (3 == 2) {
                var s = n.parentNode.parentNode.parentNode.getAttribute("floor");
                r += "&floor=" + s
            }
            var i = (document.documentElement.clientHeight - 400) / 2 + (document.documentElement.scrollTop || document.body.scrollTop),
                a = (document.documentElement.clientWidth - 400) / 2;

            $("#report_dialog").load(r).css({
                //top: i + "px",
                top: '20%',
                left: a
            }).show()
        }
    })
</script>
<div id="loginWrap"></div>
<div id="dlMask"></div>
</body>
