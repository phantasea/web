<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg><meta name=theme-color content=#ffffff><meta name=msvalidate.01 content=F610E4068826B9ADAA7E61D3D80A0BD9><style>body,h1,h2,h3,h4,h5,h6,html,li,nav,p,ul{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}nav{display:block}.p-paging ul li,ul.primary li{display:inline}html{border-top:6px solid #000}body{font:75%/1.5em Georgia,serif;max-width:40.49984em;color:#000;margin:0 auto;padding:1em}h1,h2,h3,h4,h5,h6{margin-bottom:1.42382em;font-weight:400}dl,ol,p,ul{margin-bottom:1.5em}ol,ul{margin-left:1.5em}ul{list-style-type:circle}ol{list-style-type:lower-roman}h1{margin:1em 0 .46981em;font:italic 2em/1.125em hoefler text,Baskerville,"pt serif",Times,times new roman,serif;line-height:1.125em;font-size:2em}h2{line-height:1.77777em;margin-bottom:1em;font-size:1.2em}a{border-bottom:1px solid #c8c8c8;text-decoration:none;color:#505050}ul.primary{margin-left:0;float:left;list-style:none}ul.primary li{margin-right:20px}@media screen and (min-width:15.652em){body{font-size:87.5%}}@media screen and (min-width:19.9375em){body{font-size:100%;padding:1.5em}h1{font-size:3em}}@media screen and (min-width:29.9375em){body{padding:1.5em 3em;max-width:34.3em}ol,ul{margin-left:0}}@media screen and (min-width:38em){body{padding:4.5em 3em 7.59372em}h1{font-size:4em}}.p-paging{float:left;width:100%;margin-bottom:1.42382em}.p-paging ul{list-style:none;width:100%}.p-paging ul li.next{float:right}.p-paging ul li.previous{float:left}.date{color:#999;float:left;clear:both;width:100%}.dropcap:first-letter{font:3.32956em/.7em Georgia,serif;margin:.2em .15em .1em 0;float:left}p.meta{color:#666;font-style:italic;clear:left}h2.toc{border-bottom:1px solid #000}</style><link href=https://shapeshed.com/atom.xml rel=alternate type=application/rss+xml title="George Ornbo"><link href=https://shapeshed.com/atom.xml rel=feed type=application/rss+xml title="George Ornbo"><title>Linux and Unix xargs command tutorial with examples | George Ornbo</title><meta property=og:title content="Linux and Unix xargs command tutorial with examples | George Ornbo"><meta property=og:type content=article><meta property=og:url content=https://shapeshed.com/unix-xargs/><meta property=og:site_name content="George Ornbo"><meta name=twitter:image content=https://shapeshed.com/images/articles/xargs.png><meta property=og:image content=https://shapeshed.com/images/articles/xargs.png><meta name=author content="George Ornbo"><meta name=twitter:card content=summary><meta name=twitter:title content="Linux and Unix xargs command tutorial with examples | George Ornbo"><meta name=twitter:site content=@shapeshed><meta name=twitter:creator content=@shapeshed><meta name=twitter:domain content=shapeshed.com><meta name=twitter:description content="Tutorial on using xargs, a UNIX and Linux command for building and executing command lines from standard input. Examples of cutting by character, byte position, cutting based on delimiter and how to modify the output delimiter."><meta name=description content="Tutorial on using xargs, a UNIX and Linux command for building and executing command lines from standard input. Examples of cutting by character, byte position, cutting based on delimiter and how to modify the output delimiter."><header><nav><ul class=primary><li><a href=/>Home</a><li><a href=/archive/>Archive</a><li><a href=/contact/>Contact</a></ul></nav></header><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://shapeshed.com/"},"headline":"Linux and Unix xargs command tutorial with examples | George Ornbo","image":{"@type":"ImageObject","url":"https://shapeshed.com/images/george-700.jpg","height":700,"width":700},"copyrightYear":"2017","url":"https://shapeshed.com/unix-xargs/","datePublished":"2017-09-11T00:00:00JST","dateModified":"2017-09-11T00:00:00JST","author":{"@type":"Person","name":"George Ornbo","image":"https://shapeshed.com/images/george-400.jpg"},"publisher":{"@type":"Organization","name":"Shape Shed","logo":{"@type":"ImageObject","url":"https://shapeshed.com/images/george-60.jpg","height":60,"width":60}},"description":"Tutorial on using xargs, a UNIX and Linux command for building and executing command lines from standard input. Examples of cutting by character, byte position, cutting based on delimiter and how to modify the output delimiter.","timeRequired":"3 minutes","wordCount":"520","articleBody"</script><p class=date>Last updated <time datetime=2017-09-11T00:00:00 data-updated=true>Monday, Sep 11, 2017</time><h1>Linux and Unix xargs command tutorial with examples</h1><h2 class=dropcap>Tutorial on using xargs, a UNIX and Linux command for building and executing command lines from standard input. Examples of cutting by character, byte position, cutting based on delimiter and how to modify the output delimiter.</h2><p class=meta>Estimated reading time: 3 minutes<h2 class=toc>Table of contents</h2><nav id=TableOfContents><ul><li><ul><li><a href=#what-is-the-xargs-command-in-unix>What is the xargs command in UNIX?</a><li><a href=#how-to-use-xargs>How to use xargs</a><li><a href=#how-to-use-xargs-with-find>How to use xargs with find</a><li><a href=#xargs-v-exec>xargs v exec {}</a><li><a href=#how-to-print-commands-that-are-executed>How to print commands that are executed</a><li><a href=#how-to-view-the-command-and-prompt-for-execution>How to view the command and prompt for execution</a><li><a href=#how-to-run-multiple-commands-with-xargs>How to run multiple commands with xargs</a><li><a href=#further-reading>Further reading</a></ul></ul></nav><p><img src=/images/articles/xargs.png alt="cut man page"><h2 id=what-is-the-xargs-command-in-unix>What is the xargs command in UNIX?</h2><p>The <code>xargs</code> command in UNIX is a command line utility for building an execution pipeline from standard input. Whilst tools like <a href=https://shapeshed.com/unix-grep/><code>grep</code></a> can accept standard input as a parameter, many other tools cannot. Using <code>xargs</code> allows tools like <code>echo</code> and <a href=https://shapeshed.com/unix-rm/><code>rm</code></a> and <a href=https://shapeshed.com/unix-mkdir/><code>mkdir</code></a> to accept standard input as arguments.<h2 id=how-to-use-xargs>How to use xargs</h2><p>By default <code>xargs</code> reads items from standard input as separated by blanks and executes a command once for each argument. In the following example standard input is piped to xargs and the <code>mkdir</code> command is run for each argument, creating three folders.<pre><code>echo 'one two three' | xargs mkdir
ls
one two three
</code></pre><h2 id=how-to-use-xargs-with-find>How to use xargs with find</h2><p>The most common usage of <code>xargs</code> is to use it with the <a href=https://shapeshed.com/unix-find/><code>find</code></a> command. This uses <code>find</code> to search for files or directories and then uses <code>xargs</code> to operate on the results. Typical examples of this are removing files, changing the ownership of files or moving files.<p><code>find</code> and <code>xargs</code> can be used together to operate on files that match certain attributes. In the following example files older than two weeks in the temp folder are found and then piped to the xargs command which runs the <code>rm</code> command on each file and removes them.<pre><code>find /tmp -mtime +14 | xargs rm
</code></pre><h2 id=xargs-v-exec>xargs v exec {}</h2><p>The <code>find</code> command supports the <code>-exec</code> option that allows arbitrary commands to be found on files that are found. The following are equivalent.<pre><code>find ./foo -type f -name &quot;*.txt&quot; -exec rm {} \; 
find ./foo -type f -name &quot;*.txt&quot; | xargs rm
</code></pre><p>So which one is faster? Let&rsquo;s compare a folder with 1000 files in it.<pre><code>time find . -type f -name &quot;*.txt&quot; -exec rm {} \;
0.35s user 0.11s system 99% cpu 0.467 total

time find ./foo -type f -name &quot;*.txt&quot; | xargs rm
0.00s user 0.01s system 75% cpu 0.016 total
</code></pre><p>Clearly using xargs is far more efficient. In fact <a href=https://danielmiessler.com/blog/linux-xargs-vs-exec/>several</a> <a href=https://www.everythingcli.org/find-exec-vs-find-xargs/>benchmarks</a> suggest using <code>xargs</code> over <code>exec {}</code> is six times more efficient.<h2 id=how-to-print-commands-that-are-executed>How to print commands that are executed</h2><p>The <code>-t</code> option prints each command that will be executed to the terminal. This can be helpful when debugging scripts.<pre><code>echo 'one two three' | xargs -t rm
rm one two three
</code></pre><h2 id=how-to-view-the-command-and-prompt-for-execution>How to view the command and prompt for execution</h2><p>The <code>-p</code> command will print the command to be executed and prompt the user to run it. This can be useful for destructive operations where you really want to be sure on the command to be run.
l<pre><code>echo 'one two three' | xargs -p touch
touch one two three ?...
</code></pre><h2 id=how-to-run-multiple-commands-with-xargs>How to run multiple commands with xargs</h2><p>It is possible to run multiple commands with <code>xargs</code> by using the <code>-I</code> flag. This replaces occurrences of the argument with the argument passed to xargs. The following prints echos a string and creates a folder.<pre><code>cat foo.txt
one
two
three

cat foo.txt | xargs -I % sh -c 'echo %; mkdir %'
one 
two
three

ls 
one two three
</code></pre><h2 id=further-reading>Further reading</h2><ul><li><a href=http://man7.org/linux/man-pages/man1/xargs.1.html>xargs man page</a><li><a href=https://danielmiessler.com/blog/linux-xargs-vs-exec/>xargs vs. exec {}</a><li><a href=https://www.everythingcli.org/find-exec-vs-find-xargs/>find exec vs find xargs</a><br></ul><p class=highlight>Have an update or suggestion for this article?
<a href=https://github.com/shapeshed/shapeshed.com/edit/master/content/post/unix-xargs.md>You can edit it here and send me a pull request.</a><h2>Tags</h2><ul id=tags><li><a href=/tags/unix>UNIX</a><li><a href=/tags/linux>Linux</a></ul><h2>Recent Posts</h2><ul><li><p><a href=https://shapeshed.com/hashicorp-vault-ldap/>Using HashiCorp Vault with LDAP</a><br>How to use HashiCorp Vault to setup an LDAP backed secret store with read-only access for users in groups and read-write access for specific users<p><li><p><a href=https://shapeshed.com/unix-xargs/>Linux and Unix xargs command tutorial with examples</a><br>Tutorial on using xargs, a UNIX and Linux command for building and executing command lines from standard input. Examples of cutting by character, byte position, cutting based on delimiter and how to modify the output delimiter.<p><li><p><a href=https://shapeshed.com/copy-a-file-in-go/>Copy a file in Go</a><br>How to copy a file in Go. The ioutil package does not offer a shorthand way of copying a file. Instead the os package should be used.<p></ul><footer><h2>About the author</h2><img width=120 height=120 src=/images/george-120.jpg alt="Picture of George Ornbo" title="George Ornbo" class=mugshot><p>George Ornbo is a hacker, futurist, blogger and Dad based in Buckinghamshire, England.<p>He is the author of <a href=http://nodejsbook.io class=highlight>Sams Teach Yourself Node.js in 24 Hours</a>. He can be found in most of the usual places as shapeshed including <a href=https://twitter.com/shapeshed class=highlight onclick="ga('send','event','Link','click','Twitter');">Twitter</a> and <a href=https://github.com/shapeshed class=highlight>GitHub</a>.<p><a href=/ class=highlight>← http://shapeshed.com</a><p>Content is licensed under a Creative Commons <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-324369-3','auto');ga('send','pageview');</script><script>var cb=function(){var l=document.createElement('link');l.rel='stylesheet';l.href='/css/fe2cc2f24c949fab27a5df931f4c74c7.css';var h=document.getElementsByTagName('head')[0];h.parentNode.insertBefore(l,h);};var raf=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;if(raf)raf(cb);else window.addEventListener('load',cb);</script>