

<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Aljosa&#039;s blog | Mini howtos &#8230;</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://blog.spanger.org/xmlrpc.php">
<!--[if lt IE 9]>
<script src="http://blog.spanger.org/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<style type="text/css">
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: , CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2014 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.bash .de1, .bash .de2 {}
.bash  {font-family:monospace;}
.bash .imp {font-weight: bold; color: red;}
.bash li, .bash .li1 {font-weight: normal; vertical-align:top;}
.bash .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.bash .li2 {font-weight: bold; vertical-align:top;}
.bash .kw1 {color: #000000; font-weight: bold;}
.bash .kw2 {color: #c20cb9; font-weight: bold;}
.bash .kw3 {color: #7a0874; font-weight: bold;}
.bash .co0 {color: #666666; font-style: italic;}
.bash .co1 {color: #800000;}
.bash .co2 {color: #cc0000; font-style: italic;}
.bash .co3 {color: #000000; font-weight: bold;}
.bash .co4 {color: #666666;}
.bash .es1 {color: #000099; font-weight: bold;}
.bash .es2 {color: #007800;}
.bash .es3 {color: #007800;}
.bash .es4 {color: #007800;}
.bash .es5 {color: #780078;}
.bash .es_h {color: #000099; font-weight: bold;}
.bash .br0 {color: #7a0874; font-weight: bold;}
.bash .sy0 {color: #000000; font-weight: bold;}
.bash .st0 {color: #ff0000;}
.bash .st_h {color: #ff0000;}
.bash .nu0 {color: #000000;}
.bash .re0 {color: #007800;}
.bash .re1 {color: #007800;}
.bash .re2 {color: #007800;}
.bash .re4 {color: #007800;}
.bash .re5 {color: #660033;}
.bash .ln-xtra, .bash li.ln-xtra, .bash div.ln-xtra {background-color: #ffc;}
.bash span.xtra { display:block; }
</style>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link href='https://fonts.gstatic.com' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="Aljosa&#039;s blog &raquo; Feed" href="https://blog.spanger.org/?feed=rss2" />
<link rel="alternate" type="application/rss+xml" title="Aljosa&#039;s blog &raquo; Comments Feed" href="https://blog.spanger.org/?feed=comments-rss2" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.spanger.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='http://blog.spanger.org/wp-includes/css/dist/block-library/style.min.css?ver=5.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-theme-css'  href='http://blog.spanger.org/wp-includes/css/dist/block-library/theme.min.css?ver=5.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='cptch_stylesheet-css'  href='http://blog.spanger.org/wp-content/plugins/captcha/css/front_end_style.css?ver=4.4.5' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='http://blog.spanger.org/wp-includes/css/dashicons.min.css?ver=5.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='cptch_desktop_style-css'  href='http://blog.spanger.org/wp-content/plugins/captcha/css/desktop_style.css?ver=4.4.5' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-css'  href='http://blog.spanger.org/wp-content/plugins/cookie-law-info/public/css/cookie-law-info-public.css?ver=1.7.8' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-gdpr-css'  href='http://blog.spanger.org/wp-content/plugins/cookie-law-info/public/css/cookie-law-info-gdpr.css?ver=1.7.8' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='http://blog.spanger.org/wp-content/themes/twentytwelve/style.css?ver=5.2.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-block-style-css'  href='http://blog.spanger.org/wp-content/themes/twentytwelve/css/blocks.css?ver=20181230' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://blog.spanger.org/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='wpgeshi-wp-geshi-highlight-css'  href='http://blog.spanger.org/wp-content/plugins/wp-geshi-highlight/wp-geshi-highlight.css?ver=5.2.2' type='text/css' media='all' />
<script type='text/javascript' src='http://blog.spanger.org/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='http://blog.spanger.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"https:\/\/blog.spanger.org\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.spanger.org/wp-content/plugins/cookie-law-info/public/js/cookie-law-info-public.js?ver=1.7.8'></script>
<link rel='https://api.w.org/' href='https://blog.spanger.org/index.php?rest_route=/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://blog.spanger.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.spanger.org/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.2.2" />
<!-- Analytics by WP-Statistics v12.6.7 - https://wp-statistics.com/ -->
		<script type="text/javascript">
			var cli_flush_cache=2;
		</script>
			<style type="text/css" id="twentytwelve-header-css">
			.site-header h1 a,
		.site-header h2 {
			color: #444;
		}
		</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #6b6b6b; }
</style>
	</head>

<body class="home blog custom-background wp-embed-responsive custom-font-enabled">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="https://blog.spanger.org/" title="Aljosa&#039;s blog" rel="home">Aljosa&#039;s blog</a></h1>
			<h2 class="site-description">Mini howtos &#8230;</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle">Menu</button>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="menu-category-container"><ul id="menu-category" class="nav-menu"><li id="menu-item-531" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-531"><a href="https://blog.spanger.org/?cat=6">Linux stuff</a></li>
<li id="menu-item-535" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-535"><a href="https://blog.spanger.org/?cat=31">Zimbra</a></li>
<li id="menu-item-533" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-533"><a href="https://blog.spanger.org/?cat=7">Windows tricks</a></li>
<li id="menu-item-536" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-536"><a href="https://blog.spanger.org/?cat=10">Cisco</a></li>
<li id="menu-item-532" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-532"><a href="https://blog.spanger.org/?cat=9">MacOS X</a></li>
</ul></div>		</nav><!-- #site-navigation -->

				<a href="https://blog.spanger.org/"><img src="http://blog.spanger.org/wp-content/uploads/2013/01/cropped-keyboard-211.jpg" class="header-image" width="920" height="150" alt="Aljosa&#039;s blog" /></a>
			</header><!-- #masthead -->

	<div id="main" class="wrapper">

	<div id="primary" class="site-content">
		<div id="content" role="main">
		
										
	<article id="post-1716" class="post-1716 post type-post status-publish format-standard hentry category-linux-stuff tag-arch-linux">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1716" rel="bookmark">Archlinux installation notes</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<p>KEYBOARD</p>
<p>For slovenian keyboard</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span><span class="kw2">loadkeys</span> slovene</pre></div></div></div></div></div></div></div>


<p>PARTITION</p>
<p>BIOS/GPT</p>
<p>Bios motherboard with gpt partition scheme</p>
<p>Use tools like parted, gdisk.</p>
<p>Prepare partitions</p>
<p>Gdisk</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># gdisk /dev/sda</span>
Create small <span class="nu0">1</span>-2Mb partition <span class="kw1">for</span> bios <span class="br0">&#40;</span>code: EF02<span class="br0">&#41;</span>
Create small <span class="nu0">1</span> Gb partition <span class="kw1">for</span> BOOT <span class="br0">&#40;</span>code: <span class="nu0">8300</span><span class="br0">&#41;</span>
Create swap partition <span class="kw1">in</span> the <span class="kw2">size</span> of RAM or at least 2Gb <span class="br0">&#40;</span>code: <span class="nu0">8200</span><span class="br0">&#41;</span>
Create root partition 40Gb
Create home partition from the rest of the disk space</pre></div></div></div></div></div></div></div>


<p>Format partitions (mkfs. , mkswap, swapon)</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># mkfs.ext2 /dev/sda2 BOOT</span>
<span class="co0"># mkswap /dev/sda3 SWAP</span>
<span class="co0"># swapon /dev/sda3</span>
<span class="co0"># mkfs.ext4 /dev/sda4 ROOT</span>
<span class="co0"># mkfs.ext4 /dev/sda5 HOME</span></pre></div></div></div></div></div></div></div>


<p>EFI/GPT</p>
<p>EFI motherboard with GPT partition scheme.</p>
<p>Prepare partitions</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span><span class="kw2">gdisk</span></pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span><span class="kw2">gdisk</span> <span class="sy0">/</span>dev<span class="sy0">/</span>sda</pre></div></div></div></div></div></div></div>


<p>Create small 1 Gb partition for EFI (code: EF00)<br />
Create swap partition in the size of RAM or at least 2Gb (code: 8200)<br />
Create root partition 40Gb (it could be smaller)<br />
Create home partition from the rest of the disk size.</p>
<p>You could create separate partitions (VAR, OPT).</p>
<p>Format partitions</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># mkfs.fat -F32 /dev/sda1 EFI</span>
<span class="co0"># mkswap /dev/sda3 SWAP</span>
<span class="co0"># swapon /dev/sda3</span>
<span class="co0"># mkfs.ext4 /dev/sda4 ROOT</span>
<span class="co0"># mkfs.ext4 /dev/sda5 HOME</span></pre></div></div></div></div></div></div></div>


<p>Mount partitions (root, boot, home)</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># mount /dev/sda4 /mnt</span>
<span class="co0"># mkdir /mnt/{boot,home}</span>
<span class="co0"># mount /dev/sda1 /mnt/boot</span>
<span class="co0"># mount /dev/sda5 /mnt/home</span></pre></div></div></div></div></div></div></div>


<p>Base system installation</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>pacstrap <span class="re5">-i</span> <span class="sy0">/</span>mnt base base-devel</pre></div></div></div></div></div></div></div>


<p>Create mount points in fstab</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>genfstab <span class="re5">-U</span> <span class="sy0">/</span>mnt <span class="sy0">&gt;</span> <span class="sy0">/</span>mnt<span class="sy0">/</span>etc<span class="sy0">/</span>fstab</pre></div></div></div></div></div></div></div>


<p>CHROOT</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>arch-chroot <span class="sy0">/</span>mnt <span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">bash</span></pre></div></div></div></div></div></div></div>


<p>Install extra programs with pacman</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>pacman <span class="re5">-S</span> <span class="kw2">vim</span> dhclient iw wpa_supplicant <span class="kw2">dialog</span> firefox chromium gedit nautilus vlc terminator thunderbird pssh x11-ssh-askpass dunst rednotebook</pre></div></div></div></div></div></div></div>


<p>Define/configure locale settings</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/locale.gen</span>
uncomment your default language <span class="br0">&#40;</span><span class="kw1">for</span> example en_US.UTF-<span class="nu0">8</span><span class="br0">&#41;</span>
<span class="co0"># locale-gen</span>
<span class="co0"># vim /etc/locale.conf</span>
<span class="re2">LANG</span>=en_US.UTF-<span class="nu0">8</span>
<span class="co0"># vim /etc/vconsole.conf</span>
<span class="re2">KEYMAP</span>=slovene</pre></div></div></div></div></div></div></div>


<p>TIME configuration</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># tzselect</span>
<span class="co0"># ln -sf /usr/share/zoneinfo/Europe/Ljubljana /etc/localtime</span>
<span class="co0"># hwclock --systohc --utc</span></pre></div></div></div></div></div></div></div>


<p>NTP or CHRONY</p>
<p>NTP daemon</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S ntp</span>
<span class="co0"># vim /etc/ntp.conf</span>
<span class="co0"># sysctl enable ntpd</span></pre></div></div></div></div></div></div></div>


<p>CHRONY<br />
https://wiki.archlinux.org/index.php/Chrony</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S chrony</span>
<span class="kw3">echo</span> <span class="st0">&quot;1 SHA1 HEX:<span class="es4">$(tr -d -c '[:xdigit:]' &amp;lt; /dev/urandom | head -c 40)</span>&quot;</span> <span class="sy0">&amp;</span>gt; <span class="sy0">/</span>etc<span class="sy0">/</span>chrony.keys
<span class="co0"># chmod 640 /etc/chrony.keys</span>
<span class="co0"># vim /etc/chrony.conf</span>
pool arch.pool.ntp.org iburst
pool arch.pool.ntp.org offline
server offline
server offline
server offline
maxupdateskew <span class="nu0">5</span>
driftfile <span class="sy0">/</span>var<span class="sy0">/</span>lib<span class="sy0">/</span>chrony<span class="sy0">/</span>drift
keyfile <span class="sy0">/</span>etc<span class="sy0">/</span>chrony.keys
rtconutc
rtcsync</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># systemctl restart chrony</span>
<span class="co0"># systemctl enable chrony</span></pre></div></div></div></div></div></div></div>


<p>INITRAMFS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>mkinitcpio <span class="re5">-p</span> linux</pre></div></div></div></div></div></div></div>


<p>Install/configure BOOTLOADER</p>
<p>BIOS/GPT</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S grub</span>
<span class="co0"># grub-install --recheck /dev/sda</span>
<span class="co0"># grub-mkconfig -o /boot/grub/grub.cfg</span></pre></div></div></div></div></div></div></div>


<p>UEFI/GPT</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>bootctl <span class="kw2">install</span></pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /boot/loader/entries/arch.conf</span>
title Arch Linux
linux <span class="sy0">/</span>vmlinuz-linux
initrd <span class="sy0">/</span>initramfs-linux.img
options <span class="re2">root</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>sda4 rw</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /boot/loader/loader.conf</span>
timeout <span class="nu0">3</span>
default <span class="kw2">arch</span>
editor <span class="nu0">1</span> <span class="br0">&#40;</span>after successful reboot change to <span class="nu0">0</span>, <span class="kw1">for</span> security reasons<span class="br0">&#41;</span></pre></div></div></div></div></div></div></div>


<p>EFI Viewer/Manager</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S efibootmgr</span>
<span class="co0"># efibootmgr -v</span></pre></div></div></div></div></div></div></div>


<p>HOSTNAME</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span><span class="kw3">echo</span> newhostname <span class="sy0">&amp;</span>gt; <span class="sy0">/</span>etc<span class="sy0">/</span><span class="kw2">hostname</span></pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/hosts</span>
&nbsp;
127.0.0.1 localhost.localdomain localhost newhostname
::<span class="nu0">1</span> localhost.localdomain localhost newhostname</pre></div></div></div></div></div></div></div>


<p>Define ROOT PASSWORD</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span><span class="kw2">passwd</span></pre></div></div></div></div></div></div></div>


<p>EXIT FROM CHROOT MODE</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"> Ctrl + D</pre></div></div></div></div></div></div></div>


<p>RESTART PC</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>reboot</pre></div></div></div></div></div></div></div>


<p>ADD FIRST USERS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>useradd <span class="re5">-m</span> <span class="re5">-G</span> wheel <span class="re5">-s</span> <span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">bash</span> newuser</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span><span class="kw2">passwd</span> newuser</pre></div></div></div></div></div></div></div>


<p>YAOURT</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S wget git curl lsof</span>
&nbsp;
$ <span class="kw2">git clone</span> https:<span class="sy0">//</span>aur.archlinux.org<span class="sy0">/</span>package-query.git
Cloning into <span class="st_h">'package-query'</span>...
remote: Counting objects: <span class="nu0">16</span>, done.
remote: Compressing objects: <span class="nu0">100</span><span class="sy0">%</span> <span class="br0">&#40;</span><span class="nu0">16</span><span class="sy0">/</span><span class="nu0">16</span><span class="br0">&#41;</span>, done.
remote: Total <span class="nu0">16</span> <span class="br0">&#40;</span>delta <span class="nu0">0</span><span class="br0">&#41;</span>, reused <span class="nu0">16</span> <span class="br0">&#40;</span>delta <span class="nu0">0</span><span class="br0">&#41;</span>
Unpacking objects: <span class="nu0">100</span><span class="sy0">%</span> <span class="br0">&#40;</span><span class="nu0">16</span><span class="sy0">/</span><span class="nu0">16</span><span class="br0">&#41;</span>, done.
Checking connectivity... done.
&nbsp;
$ <span class="kw3">cd</span> package-query
$ makepkg <span class="re5">-si</span>
$ <span class="kw3">cd</span> ..
&nbsp;
$ <span class="kw2">git clone</span> https:<span class="sy0">//</span>aur.archlinux.org<span class="sy0">/</span>yaourt.git
Cloning into <span class="st_h">'yaourt'</span>...
remote: Counting objects: <span class="nu0">14</span>, done.
remote: Compressing objects: <span class="nu0">100</span><span class="sy0">%</span> <span class="br0">&#40;</span><span class="nu0">11</span><span class="sy0">/</span><span class="nu0">11</span><span class="br0">&#41;</span>, done.
remote: Total <span class="nu0">14</span> <span class="br0">&#40;</span>delta <span class="nu0">3</span><span class="br0">&#41;</span>, reused <span class="nu0">14</span> <span class="br0">&#40;</span>delta <span class="nu0">3</span><span class="br0">&#41;</span>
Unpacking objects: <span class="nu0">100</span><span class="sy0">%</span> <span class="br0">&#40;</span><span class="nu0">14</span><span class="sy0">/</span><span class="nu0">14</span><span class="br0">&#41;</span>, done.
Checking connectivity... done.
&nbsp;
$ <span class="kw3">cd</span> yaourt
$ makepkg <span class="re5">-si</span>
$ <span class="kw3">cd</span> ..
&nbsp;
$ rehash</pre></div></div></div></div></div></div></div>


<p>XSERVER</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S xorg-server xorg-xrandr xorg-xrdb xautolock xorg-xinit</span>
$ yaourt <span class="re5">-S</span> xf86-video-ati mesa-libgl mesa-vdpau <span class="br0">&#40;</span><span class="kw1">for</span> radeon video cards<span class="br0">&#41;</span>
$ yaourt <span class="re5">-S</span> xf86-video-intel <span class="br0">&#40;</span><span class="kw1">for</span> intel video cards<span class="br0">&#41;</span></pre></div></div></div></div></div></div></div>


<p>SOUND</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S pulseaudio pulseaudio-alsa alsa-utils</span>
$ yaourt <span class="re5">-S</span> cmus</pre></div></div></div></div></div></div></div>


<p>SUDO</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>pacman <span class="re5">-S</span> <span class="kw2">sudo</span></pre></div></div></div></div></div></div></div>


<p>Run visudo and uncomment wheel group.<br />
Add newuser to wheel group.</p>
<p>ZSH (shell)</p>
<p>https://github.com/robbyrussell/oh-my-zsh</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S zsh</span>
$ <span class="kw2">sh</span> <span class="re5">-c</span> <span class="st0">&quot;<span class="es4">$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)</span>&quot;</span></pre></div></div></div></div></div></div></div>


<p>ENCRYPT HOME DIRECTORY</p>
<p><a href="https://wiki.archlinux.org/index.php/ECryptfs#Encrypting_a_home_directory" target="_blank">https://wiki.archlinux.org/index.php/ECryptfs#Encrypting_a_home_directory</a></p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ yaourt <span class="re5">-S</span> ecryptfs-utils
<span class="co0"># modprobe ecryptfs</span>
<span class="co0"># ecryptfs-migrate-home -u newuser</span></pre></div></div></div></div></div></div></div>


<p>Login as new user</p>
<p><em>use README for help<br />
</em><br />
remove temporary map /home/newuser.LJHFLAHL</p>
<p>PAM-a ecrypt configuration</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/pam.d/system-auth</span>
&nbsp;
Open <span class="sy0">/</span>etc<span class="sy0">/</span>pam.d<span class="sy0">/</span>system-auth and after the line containing auth required pam_unix.so add:
auth required pam_ecryptfs.so unwrap
Next, above the line containing password required pam_unix.so insert:
password optional pam_ecryptfs.so
And finally, after the line session required pam_unix.so add:
session optional pam_ecryptfs.so</pre></div></div></div></div></div></div></div>


<p>I3 window manager</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>pacman <span class="re5">-S</span> i3-wm i3lock i3status dmenu</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ <span class="kw2">vim</span> .i3<span class="sy0">/</span>config
<span class="co0"># This file has been auto-generated by i3-config-wizard(1).</span>
<span class="co0"># It will not be overwritten, so edit it as you like.</span>
<span class="co0">#</span>
<span class="co0"># Should you change your keyboard layout some time, delete</span>
<span class="co0"># this file and re-run i3-config-wizard(1).</span>
<span class="co0">#</span>
&nbsp;
<span class="co0"># i3 config file (v4)</span>
<span class="co0">#</span>
<span class="co0"># Please see http://i3wm.org/docs/userguide.html for a complete reference!</span>
&nbsp;
<span class="co0"># Windows key</span>
<span class="kw1">set</span> <span class="re1">$mod</span> Mod4
&nbsp;
<span class="co0"># set $mod Mod1 &amp;lt;-- alt</span>
&nbsp;
<span class="co0"># Font for window titles. Will also be used by the bar unless a different font</span>
<span class="co0"># is used in the bar {} block below.</span>
font pango:monospace <span class="nu0">8</span>
&nbsp;
<span class="co0"># This font is widely installed, provides lots of unicode glyphs, right-to-left</span>
<span class="co0"># text rendering and scalability on retina/hidpi displays (thanks to pango).</span>
font pango:DejaVu Sans Mono <span class="nu0">8</span>
&nbsp;
<span class="co0"># Before i3 v4.8, we used to recommend this one as the default:</span>
<span class="co0"># font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1</span>
<span class="co0"># The font above is very space-efficient, that is, it looks good, sharp and</span>
<span class="co0"># clear in small sizes. However, its unicode glyph coverage is limited, the old</span>
<span class="co0"># X core fonts rendering does not support right-to-left and this being a bitmap</span>
<span class="co0"># font, it doesn’t scale on retina/hidpi displays.</span>
&nbsp;
<span class="co0"># Use Mouse+$mod to drag floating windows to their wanted position</span>
floating_modifier <span class="re1">$mod</span>
&nbsp;
<span class="co0"># start a terminal</span>
bindsym <span class="re1">$mod</span>+Return <span class="kw3">exec</span> i3-sensible-terminal
&nbsp;
<span class="co0"># kill focused window</span>
bindsym <span class="re1">$mod</span>+Shift+q <span class="kw2">kill</span>
&nbsp;
<span class="co0"># start dmenu (a program launcher)</span>
bindsym <span class="re1">$mod</span>+d <span class="kw3">exec</span> dmenu_run
<span class="co0"># There also is the (new) i3-dmenu-desktop which only displays applications</span>
<span class="co0"># shipping a .desktop file. It is a wrapper around dmenu, so you need that</span>
<span class="co0"># installed.</span>
<span class="co0"># bindsym $mod+d exec --no-startup-id i3-dmenu-desktop</span>
&nbsp;
<span class="co0"># change focus</span>
bindsym <span class="re1">$mod</span>+j focus left
bindsym <span class="re1">$mod</span>+k focus down
bindsym <span class="re1">$mod</span>+l focus up
bindsym <span class="re1">$mod</span>+ccaron focus right
&nbsp;
<span class="co0"># alternatively, you can use the cursor keys:</span>
bindsym <span class="re1">$mod</span>+Left focus left
bindsym <span class="re1">$mod</span>+Down focus down
bindsym <span class="re1">$mod</span>+Up focus up
bindsym <span class="re1">$mod</span>+Right focus right
&nbsp;
<span class="co0"># move focused window</span>
bindsym <span class="re1">$mod</span>+Shift+j move left
bindsym <span class="re1">$mod</span>+Shift+k move down
bindsym <span class="re1">$mod</span>+Shift+l move up
bindsym <span class="re1">$mod</span>+Shift+ccaron move right
&nbsp;
<span class="co0"># alternatively, you can use the cursor keys:</span>
bindsym <span class="re1">$mod</span>+Shift+Left move left
bindsym <span class="re1">$mod</span>+Shift+Down move down
bindsym <span class="re1">$mod</span>+Shift+Up move up
bindsym <span class="re1">$mod</span>+Shift+Right move right
&nbsp;
<span class="co0"># split in horizontal orientation</span>
bindsym <span class="re1">$mod</span>+h <span class="kw2">split</span> h
&nbsp;
<span class="co0"># split in vertical orientation</span>
bindsym <span class="re1">$mod</span>+v <span class="kw2">split</span> v
&nbsp;
<span class="co0"># enter fullscreen mode for the focused container</span>
bindsym <span class="re1">$mod</span>+f fullscreen toggle
&nbsp;
<span class="co0"># change container layout (stacked, tabbed, toggle split)</span>
bindsym <span class="re1">$mod</span>+s layout stacking
bindsym <span class="re1">$mod</span>+<span class="kw2">w</span> layout tabbed
bindsym <span class="re1">$mod</span>+e layout toggle <span class="kw2">split</span>
&nbsp;
<span class="co0"># toggle tiling / floating</span>
bindsym <span class="re1">$mod</span>+Shift+space floating toggle
&nbsp;
<span class="co0"># change focus between tiling / floating windows</span>
bindsym <span class="re1">$mod</span>+space focus mode_toggle
&nbsp;
<span class="co0"># focus the parent container</span>
bindsym <span class="re1">$mod</span>+a focus parent
&nbsp;
<span class="co0"># focus the child container</span>
<span class="co0">#bindsym $mod+d focus child</span>
&nbsp;
<span class="co0"># Name the workspaces</span>
<span class="kw1">set</span> <span class="re1">$tag1</span> <span class="st0">&quot;1: term&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag2</span> <span class="st0">&quot;2: www&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag3</span> <span class="st0">&quot;3: mail&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag4</span> <span class="st0">&quot;4: edit&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag5</span> <span class="st0">&quot;5: nautilus&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag6</span> <span class="st0">&quot;6: virtual&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag7</span> <span class="st0">&quot;7: music&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag8</span> <span class="st0">&quot;8: video&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag9</span> <span class="st0">&quot;9: tor&quot;</span>
<span class="kw1">set</span> <span class="re1">$tag10</span> <span class="st0">&quot;10: term&quot;</span>
&nbsp;
<span class="co0"># assignment apps to a named workspace</span>
<span class="co0">#assign [class=&quot;^Terminator$&quot;] → &quot;1: term&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Tor Browser$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;2: www&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Firefox$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;2: www&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Chromium$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;2: www&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Thunderbird$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;3: mail&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Gedit$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;4: edit&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^libreoffice-startcenter$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;4: edit&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Nautilus$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;5: nautilus&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^VirtualBox$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;6: virtual&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Clementine$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;7: music&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Vlc$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;8: video&quot;</span>
assign <span class="br0">&#91;</span><span class="re2">class</span>=<span class="st0">&quot;^Transmission-gtk$&quot;</span><span class="br0">&#93;</span> → <span class="st0">&quot;9: tor&quot;</span>
&nbsp;
<span class="co0"># switch to workspace</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">1</span> workspace <span class="re1">$tag1</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">2</span> workspace <span class="re1">$tag2</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">3</span> workspace <span class="re1">$tag3</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">4</span> workspace <span class="re1">$tag4</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">5</span> workspace <span class="re1">$tag5</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">6</span> workspace <span class="re1">$tag6</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">7</span> workspace <span class="re1">$tag7</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">8</span> workspace <span class="re1">$tag8</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">9</span> workspace <span class="re1">$tag9</span>
bindsym <span class="re1">$mod</span>+<span class="nu0">0</span> workspace <span class="re1">$tag10</span>
&nbsp;
<span class="co0"># move focused container to workspace</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">1</span> move container to workspace <span class="re1">$tag1</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">2</span> move container to workspace <span class="re1">$tag2</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">3</span> move container to workspace <span class="re1">$tag3</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">4</span> move container to workspace <span class="re1">$tag4</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">5</span> move container to workspace <span class="re1">$tag5</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">6</span> move container to workspace <span class="re1">$tag6</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">7</span> move container to workspace <span class="re1">$tag7</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">8</span> move container to workspace <span class="re1">$tag8</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">9</span> move container to workspace <span class="re1">$tag9</span>
bindsym <span class="re1">$mod</span>+Shift+<span class="nu0">0</span> move container to workspace <span class="re1">$tag10</span>
&nbsp;
<span class="co0"># reload the configuration file</span>
bindsym <span class="re1">$mod</span>+Shift+c reload
<span class="co0"># restart i3 inplace (preserves your layout/session, can be used to upgrade i3)</span>
bindsym <span class="re1">$mod</span>+Shift+r restart
<span class="co0"># exit i3 (logs you out of your X session)</span>
bindsym <span class="re1">$mod</span>+Shift+e <span class="kw3">exec</span> <span class="st0">&quot;i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'&quot;</span>
&nbsp;
<span class="co0"># resize window (you can also use the mouse for that)</span>
mode <span class="st0">&quot;resize&quot;</span> <span class="br0">&#123;</span>
 <span class="co0"># These bindings trigger as soon as you enter the resize mode</span>
&nbsp;
 <span class="co0"># Pressing left will shrink the window’s width.</span>
 <span class="co0"># Pressing right will grow the window’s width.</span>
 <span class="co0"># Pressing up will shrink the window’s height.</span>
 <span class="co0"># Pressing down will grow the window’s height.</span>
 bindsym j resize shrink width <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
 bindsym k resize grow height <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
 bindsym l resize shrink height <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
 bindsym ccaron resize grow width <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
&nbsp;
 <span class="co0"># same bindings, but for the arrow keys</span>
 bindsym Left resize shrink width <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
 bindsym Down resize grow height <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
 bindsym Up resize shrink height <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
 bindsym Right resize grow width <span class="nu0">10</span> px or <span class="nu0">10</span> ppt
&nbsp;
 <span class="co0"># back to normal: Enter or Escape</span>
 bindsym Return mode <span class="st0">&quot;default&quot;</span>
 bindsym Escape mode <span class="st0">&quot;default&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
bindsym <span class="re1">$mod</span>+r mode <span class="st0">&quot;resize&quot;</span>
&nbsp;
<span class="co0"># Start i3bar to display a workspace bar (plus the system information i3status</span>
<span class="co0"># finds out, if available)</span>
<span class="co0">#bar {</span>
<span class="co0"># status_command i3status</span>
<span class="co0">#}</span>
<span class="co0">#</span>
bar <span class="br0">&#123;</span>
 font <span class="re5">-misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1</span>
 font pango:DejaVu Sans Mono <span class="nu0">8</span>
&nbsp;
 colors <span class="br0">&#123;</span>
 <span class="co0"># Whole color settings</span>
 background <span class="co0">#000000</span>
 statusline <span class="co0">#ffffff</span>
 separator <span class="co0">#666666</span>
&nbsp;
 <span class="co0"># Type border background font</span>
 focused_workspace <span class="co0">#008fff #007fff #ffffff</span>
 active_workspace <span class="co0">#333333 #5f676a #ffffff</span>
 inactive_workspace <span class="co0">#333333 #222222 #888888</span>
 urgent_workspace <span class="co0">#aa0000 #990000 #ffffff</span>
 <span class="br0">&#125;</span>
 <span class="co0"># i3bar position</span>
 position top
 <span class="co0"># Using custom i3status.conf</span>
 status_command i3status <span class="re5">-c</span> ~<span class="sy0">/</span>.i3<span class="sy0">/</span>i3status.conf
<span class="br0">&#125;</span>
<span class="co0"># floating programs #</span>
<span class="co0">#for_window [instance=&quot;torbrowser&quot;] floating enable</span>
<span class="co0">###</span>
<span class="co0">#</span>
<span class="co0">###################################</span>
<span class="co0"># after 5 min lock screen </span>
<span class="co0">#exec --no-startup-id xset dpms 600 </span>
<span class="co0">#</span>
<span class="kw3">exec</span> <span class="re5">--no-startup-id</span> xautolock <span class="re5">-time</span> <span class="nu0">5</span> <span class="re5">-locker</span> <span class="st0">&quot;i3lock -u -t -e -c 000000 -i ~/Pictures/Ozadja/lock5.png -n&quot;</span> <span class="sy0">&amp;</span>amp;
&nbsp;
<span class="co0">##################</span>
<span class="co0"># Startup programs</span>
<span class="co0">#</span>
<span class="co0"># setup background</span>
<span class="kw3">exec</span> <span class="re5">--no-startup-id</span> feh <span class="re5">--bg-fill</span> ~<span class="sy0">/</span>Pictures<span class="sy0">/</span>Ozadja<span class="sy0">/</span>wall3.jpg
<span class="co0"># start network manager</span>
<span class="kw3">exec</span> <span class="re5">--no-startup-id</span> nm-applet
<span class="co0"># setup slovenian keyboard</span>
<span class="kw3">exec</span> <span class="re5">--no-startup-id</span> setxkbmap <span class="re5">-layout</span> si
<span class="co0"># za pravilno delovanje jave</span>
<span class="kw3">exec</span> <span class="re5">--no-startup-id</span> wmname LG3D <span class="sy0">&amp;</span>amp;
<span class="co0"># setup displays</span>
<span class="co0">#exec ~/.i3/detect_displays.sh</span>
&nbsp;
&nbsp;
<span class="co0">######################################</span>
<span class="co0"># i3lock shutdown, reboot, lock screen</span>
<span class="kw1">set</span> <span class="re1">$Locker</span> i3lock <span class="re5">-u</span> <span class="re5">-t</span> <span class="re5">-e</span> <span class="re5">-c</span> 000000 <span class="re5">-i</span> ~<span class="sy0">/</span>Pictures<span class="sy0">/</span>Ozadja<span class="sy0">/</span>lock5.png <span class="re5">-n</span> <span class="sy0">&amp;</span>amp;<span class="sy0">&amp;</span>amp; <span class="kw2">sleep</span> <span class="nu0">1</span>
&nbsp;
<span class="kw1">set</span> <span class="re1">$mode_system</span> System <span class="br0">&#40;</span>l<span class="br0">&#41;</span> lock, <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="kw3">logout</span>, <span class="br0">&#40;</span>s<span class="br0">&#41;</span> <span class="kw3">suspend</span>, <span class="br0">&#40;</span>h<span class="br0">&#41;</span> hibernate, <span class="br0">&#40;</span>r<span class="br0">&#41;</span> reboot, <span class="br0">&#40;</span>Shift+s<span class="br0">&#41;</span> shutdown
mode <span class="st0">&quot;<span class="es2">$mode_system</span>&quot;</span> <span class="br0">&#123;</span>
 bindsym l <span class="kw3">exec</span> <span class="re5">--no-startup-id</span> <span class="re1">$Locker</span>, mode <span class="st0">&quot;default&quot;</span>
 bindsym e <span class="kw3">exec</span> <span class="re5">--no-startup-id</span> i3-msg <span class="kw3">exit</span>, mode <span class="st0">&quot;default&quot;</span>
 bindsym s <span class="kw3">exec</span> <span class="re5">--no-startup-id</span> <span class="re1">$Locker</span> <span class="sy0">&amp;</span>amp;<span class="sy0">&amp;</span>amp; systemctl <span class="kw3">suspend</span>, mode <span class="st0">&quot;default&quot;</span>
 bindsym h <span class="kw3">exec</span> <span class="re5">--no-startup-id</span> <span class="re1">$Locker</span> <span class="sy0">&amp;</span>amp;<span class="sy0">&amp;</span>amp; systemctl hibernate, mode <span class="st0">&quot;default&quot;</span>
 bindsym r <span class="kw3">exec</span> <span class="re5">--no-startup-id</span> systemctl reboot, mode <span class="st0">&quot;default&quot;</span>
 bindsym Shift+s <span class="kw3">exec</span> <span class="re5">--no-startup-id</span> systemctl poweroff -i, mode <span class="st0">&quot;default&quot;</span> 
&nbsp;
 <span class="co0"># back to normal: Enter or Escape</span>
 bindsym Return mode <span class="st0">&quot;default&quot;</span>
 bindsym Escape mode <span class="st0">&quot;default&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
bindsym <span class="re1">$mod</span>+Pause mode <span class="st0">&quot;<span class="es2">$mode_system</span>&quot;</span> 
<span class="co0">######################################</span>
<span class="co0">#</span>
<span class="co0"># pulse audio volume control</span>
<span class="co0">#bindsym XF86AudioLowerVolume exec /usr/bin/pactl set-sink-volume 0 -- '-5%'</span>
<span class="co0">#bindsym XF86AudioRaiseVolume exec /usr/bin/pactl set-sink-volume 0 -- '+5%'</span>
<span class="co0">#bindsym XF86AudioMute exec /usr/bin/pactl set-sink-volume 0 0</span>
<span class="co0">#bindsym XF86Launch1 exec /usr/bin/pactl play-sample that_was_easy</span>
<span class="co0">#bindsym XF86MonBrightnessUp exec /usr/bin/xbacklight -inc 10</span>
<span class="co0">#bindsym XF86MonBrightnessDown exec /usr/bin/xbacklight -dec 5</span></pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ <span class="kw2">vim</span> .i3<span class="sy0">/</span>i3status.conf
&nbsp;
<span class="co0"># i3status configuration file.</span>
<span class="co0"># see &quot;man i3status&quot; for documentation.</span>
&nbsp;
<span class="co0"># It is important that this file is edited as UTF-8.</span>
<span class="co0"># The following line should contain a sharp s:</span>
<span class="co0"># ß</span>
<span class="co0"># If the above line is not correctly displayed, fix your editor first!</span>
&nbsp;
general <span class="br0">&#123;</span>
 output_format = <span class="st0">&quot;i3bar&quot;</span>
 colors = <span class="kw2">true</span>
 interval = <span class="nu0">5</span>
<span class="br0">&#125;</span>
&nbsp;
order += <span class="st0">&quot;cpu_usage&quot;</span>
order += <span class="st0">&quot;cpu_temperature 0&quot;</span>
<span class="co0">#order += &quot;ipv6&quot;</span>
order += <span class="st0">&quot;disk /home&quot;</span>
<span class="co0">#order += &quot;run_watch DHCP&quot;</span>
<span class="co0">#order += &quot;run_watch VPN&quot;</span>
<span class="co0">#order += &quot;wireless _first_&quot;</span>
order += <span class="st0">&quot;ethernet _first_&quot;</span>
<span class="co0">#order += &quot;battery 0&quot;</span>
<span class="co0">#order += &quot;load&quot;</span>
order += <span class="st0">&quot;volume master&quot;</span>
order += <span class="st0">&quot;tztime local&quot;</span>
&nbsp;
wireless _first_ <span class="br0">&#123;</span>
 format_up = <span class="st0">&quot;Wifi: (%quality at %essid, %bitrate) %ip&quot;</span>
 format_down = <span class="st0">&quot;W: down&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
ethernet _first_ <span class="br0">&#123;</span>
 <span class="co0"># if you use %speed, i3status requires root privileges</span>
 format_up = <span class="st0">&quot;Eth: %ip (%speed)&quot;</span>
 format_down = <span class="st0">&quot;Eth: down&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
battery <span class="nu0">0</span> <span class="br0">&#123;</span>
 format = <span class="st0">&quot;Bat: %status %percentage %remaining&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="co0">#battery 0 {</span>
<span class="co0"># format = &quot;%status %percentage %remaining %emptytime&quot;</span>
<span class="co0"># format_down = &quot;No battery&quot;</span>
<span class="co0"># status_chr = &quot;⚇ CHR&quot;&quot;</span>
<span class="co0"># status_bat = &quot;⚡ BAT&quot;</span>
<span class="co0"># status_full = &quot;☻ FULL&quot;</span>
<span class="co0"># path = &quot;/sys/class/power_supply/BAT0/uevent&quot;</span>
<span class="co0"># low_threshold = 10</span>
<span class="co0">#}</span>
&nbsp;
cpu_temperature <span class="nu0">0</span> <span class="br0">&#123;</span>
 format = <span class="st0">&quot;CPU Temp: %degrees °C&quot;</span>
 path = <span class="st0">&quot;/sys/devices/platform/coretemp.0/hwmon/hwmon1/temp1_input&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
cpu_usage <span class="br0">&#123;</span>
 format = <span class="st0">&quot;CPU: %usage&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
run_watch DHCP <span class="br0">&#123;</span>
 pidfile = <span class="st0">&quot;/var/run/dhclient*.pid&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
run_watch VPN <span class="br0">&#123;</span>
 pidfile = <span class="st0">&quot;/var/run/vpnc/pid&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
tztime <span class="kw3">local</span> <span class="br0">&#123;</span>
 format = <span class="st0">&quot;%d-%m-%Y %H:%M:%S&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
load <span class="br0">&#123;</span>
 format = <span class="st0">&quot;%1min&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
disk <span class="st0">&quot;/home&quot;</span> <span class="br0">&#123;</span>
 format = <span class="st0">&quot;Home: %avail free&quot;</span>
<span class="br0">&#125;</span>
&nbsp;
volume master <span class="br0">&#123;</span>
 format = <span class="st0">&quot;♪: %volume&quot;</span>
 format_muted = <span class="st0">&quot;♪: muted (%volume)&quot;</span>
 device = <span class="st0">&quot;default&quot;</span>
 mixer = <span class="st0">&quot;Master&quot;</span>
 mixer_idx = <span class="nu0">0</span>
<span class="br0">&#125;</span></pre></div></div></div></div></div></div></div>


<p>FONTS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>pacman <span class="re5">-S</span> ttf-dejavu ttf-ubuntu-font-family ttf-ms-fonts<span class="br0">&#40;</span><span class="kw1">for</span> winbox<span class="br0">&#41;</span></pre></div></div></div></div></div></div></div>


<p>NETWORK MANAGER</p>
<p><a href="https://wiki.archlinux.org/index.php/NetworkManager#Configuration" target="_blank">https://wiki.archlinux.org/index.php/NetworkManager#Configuration</a></p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S networkmanager networkmanager-openvpn</span>
<span class="co0"># systemctl enable NetworkManager.service</span>
Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>dbus-org.freedesktop.NetworkManager.service to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>NetworkManager.service.
Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>multi-user.target.wants<span class="sy0">/</span>NetworkManager.service to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>NetworkManager.service.
Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>dbus-org.freedesktop.nm-dispatcher.service to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>NetworkManager-dispatcher.service.</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>pacman <span class="re5">-S</span> polkit-gnome</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/group</span>
network:x:<span class="nu0">90</span>:newuser pre<span class="sy0">&amp;</span>gt;<span class="co0"># vim /etc/polkit-1/rules.d/50-org.freedesktop.NetworkManager.rules</span>
&nbsp;
polkit.addRule<span class="br0">&#40;</span><span class="kw1">function</span><span class="br0">&#40;</span>action, subject<span class="br0">&#41;</span> <span class="br0">&#123;</span>
<span class="kw1">if</span> <span class="br0">&#40;</span>action.id.indexOf<span class="br0">&#40;</span><span class="st0">&quot;org.freedesktop.NetworkManager.&quot;</span><span class="br0">&#41;</span> == <span class="nu0">0</span> <span class="sy0">&amp;</span>amp;<span class="sy0">&amp;</span>amp; subject.isInGroup<span class="br0">&#40;</span><span class="st0">&quot;network&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
<span class="kw3">return</span> polkit.Result.YES;
<span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="br0">&#41;</span>;</pre></div></div></div></div></div></div></div>


<p>LAPTOP (hibernate laptop at 5% of the battery life</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/udev/rules.d/99-lowbat.rules</span>
&nbsp;
<span class="co0"># Suspend the system when battery level drops to 5% or lower</span>
<span class="re2">SUBSYSTEM</span>==<span class="st0">&quot;power_supply&quot;</span>, ATTR<span class="br0">&#123;</span>status<span class="br0">&#125;</span>==<span class="st0">&quot;Discharging&quot;</span>, ATTR<span class="br0">&#123;</span>capacity<span class="br0">&#125;</span>==<span class="st0">&quot;[0-5]&quot;</span>, RUN+=<span class="st0">&quot;/usr/bin/systemctl hibernate&quot;</span></pre></div></div></div></div></div></div></div>


<p>TOUCHPAD</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/X11/xorg.conf.d/50-synaptics.conf</span>
Section <span class="st0">&quot;InputClass&quot;</span>
 Identifier <span class="st0">&quot;touchpad&quot;</span>
 Driver <span class="st0">&quot;synaptics&quot;</span>
 MatchIsTouchpad <span class="st0">&quot;on&quot;</span>
 Option <span class="st0">&quot;TapButton1&quot;</span> <span class="st0">&quot;1&quot;</span>
 Option <span class="st0">&quot;TapButton2&quot;</span> <span class="st0">&quot;2&quot;</span>
 Option <span class="st0">&quot;TapButton3&quot;</span> <span class="st0">&quot;3&quot;</span>
 Option <span class="st0">&quot;VertEdgeScroll&quot;</span> <span class="st0">&quot;on&quot;</span>
 Option <span class="st0">&quot;VertTwoFingerScroll&quot;</span> <span class="st0">&quot;on&quot;</span>
 Option <span class="st0">&quot;HorizEdgeScroll&quot;</span> <span class="st0">&quot;on&quot;</span>
 Option <span class="st0">&quot;HorizTwoFingerScroll&quot;</span> <span class="st0">&quot;on&quot;</span>
 Option <span class="st0">&quot;CircularScrolling&quot;</span> <span class="st0">&quot;on&quot;</span>
 Option <span class="st0">&quot;CircScrollTrigger&quot;</span> <span class="st0">&quot;2&quot;</span>
 Option <span class="st0">&quot;EmulateTwoFingerMinZ&quot;</span> <span class="st0">&quot;40&quot;</span>
 Option <span class="st0">&quot;EmulateTwoFingerMinW&quot;</span> <span class="st0">&quot;8&quot;</span>
 Option <span class="st0">&quot;CoastingSpeed&quot;</span> <span class="st0">&quot;0&quot;</span>
 Option <span class="st0">&quot;FingerLow&quot;</span> <span class="st0">&quot;35&quot;</span>
 Option <span class="st0">&quot;FingerHigh&quot;</span> <span class="st0">&quot;40&quot;</span>
EndSection</pre></div></div></div></div></div></div></div>


<p>VIRTUALIZATION</p>
<p>VIRTUALBOX</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman -S virtualbox gksu</span>
$ yaourt <span class="re5">-S</span> virtualbox-ext-oracle</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/modules-load.d/virtualbox.conf</span>
vboxdrv
vboxnetflt
vboxnetadp
vboxpci</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ <span class="kw2">sudo</span> gpasswd <span class="re5">-a</span> newuser vboxusers
Adding user newuser to group vboxusers</pre></div></div></div></div></div></div></div>


<p>LIBVIRT (KVM)</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ yaourt <span class="re5">-S</span> ebtables bridge-utils dnsmasq qemu virt-viewer
$ yaourt <span class="re5">-S</span> libguestfs <span class="br0">&#40;</span>tools <span class="kw1">for</span> edit qcow2 images<span class="br0">&#41;</span></pre></div></div></div></div></div></div></div>


<p>Define storage pool<br />
<em>example: directory on external usb drive</em></p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4"># </span>virsh pool-define-as usb <span class="kw2">dir</span> - - - - <span class="sy0">/</span>run<span class="sy0">/</span>media<span class="sy0">/</span>newuser<span class="sy0">/</span>141226ea-ea1c-4d93-aa2a-dfc0ed87ebc8<span class="sy0">/</span>VM</pre></div></div></div></div></div></div></div>


<p>Import new image</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ virt-install \
<span class="re5">--name</span> servername \
<span class="re5">--memory</span> <span class="nu0">1024</span> \
<span class="re5">--disk</span> <span class="sy0">/</span>run<span class="sy0">/</span>media<span class="sy0">/</span>newuser<span class="sy0">/</span>141226ea-ea1c-4d93-aa2a-dfc0ed87ebc8<span class="sy0">/</span>VM<span class="sy0">/</span>eduroam2.img \
<span class="re5">--import</span></pre></div></div></div></div></div></div></div>


<p>NESTED VIRTUALIZATION</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/modprobe.d/modprobe.conf</span>
options kvm_intel <span class="re2">nested</span>=<span class="nu0">1</span></pre></div></div></div></div></div></div></div>


<p>PICTURE VIEWERS/EDITORS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> shutter <span class="kw2">gimp</span> feh</pre></div></div></div></div></div></div></div>


<p>RDESKTOP (remotely manage windows computers)</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"> $ yaourt <span class="re5">-S</span> rdesktop</pre></div></div></div></div></div></div></div>


<p>OFFICE</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> libreoffice-still</pre></div></div></div></div></div></div></div>


<p>PDF reader</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> evince</pre></div></div></div></div></div></div></div>


<p>NETWORK TOOLS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> dnsutils <span class="kw2">whois</span> ipcalc wireshark-cli <span class="kw2">nmap</span> minicom net-tools</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">For wireshark ...
<span class="co0"># gpasswd -a newuser wireshark</span>
  Adding user newuser to group wireshark
<span class="co0"># newgrp wireshark</span></pre></div></div></div></div></div></div></div>


<p>DISK test tools</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> smartmontools</pre></div></div></div></div></div></div></div>


<p>PRINTERS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> cups cups-pdf</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># systemctl start org.cups.cupsd.service</span>
<span class="co0"># systemctl enable org.cups.cupsd.service</span>
 Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>printer.target.wants<span class="sy0">/</span>org.cups.cupsd.service to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>org.cups.cupsd.service.
 Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>sockets.target.wants<span class="sy0">/</span>org.cups.cupsd.socket to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>org.cups.cupsd.socket.
 Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>multi-user.target.wants<span class="sy0">/</span>org.cups.cupsd.path to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>org.cups.cupsd.path.</pre></div></div></div></div></div></div></div>


<p>From webpage http://localhost:631, we can add new printers</p>
<p>LCMC &#8211; cluster administration</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> jre7-openjdk lcmc</pre></div></div></div></div></div></div></div>


<p>ZIP</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> file-roller p7zip unrar cdrkit</pre></div></div></div></div></div></div></div>


<p>ANTIVIRUS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1">$ yaourt <span class="re5">-S</span> clamav
<span class="co0"># touch /var/lib/clamav/clamd.sock</span>
<span class="co0"># chown clamav:clamav /var/lib/clamav/clamd.sock</span>
<span class="co0"># systemctl restart clamd.service</span></pre></div></div></div></div></div></div></div>


<p>DOS TOOLS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> dosfstools</pre></div></div></div></div></div></div></div>


<p>WINE</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/pacman.conf (uncomment)</span>
<span class="br0">&#91;</span>multilib<span class="br0">&#93;</span>
Include = <span class="sy0">/</span>etc<span class="sy0">/</span>pacman.d<span class="sy0">/</span>mirrorlist
&nbsp;
$ yaourt <span class="re5">-Syu</span>
&nbsp;
$ yaourt <span class="re5">-S</span> <span class="kw2">wine</span> winetricks</pre></div></div></div></div></div></div></div>


<p>FLASHPLAYER</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> flashplugin</pre></div></div></div></div></div></div></div>


<p>TORRENT CLIENTS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> transmission-cli deluge</pre></div></div></div></div></div></div></div>


<p>I2P ANONYMOUS SERVICE DAEMON</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"> $ yaourt <span class="re5">-S</span> i2p
 $ <span class="kw2">sudo</span> systemctl <span class="kw3">enable</span> i2prouter.service
 Created symlink from <span class="sy0">/</span>etc<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>multi-user.target.wants<span class="sy0">/</span>i2prouter.service to <span class="sy0">/</span>usr<span class="sy0">/</span>lib<span class="sy0">/</span>systemd<span class="sy0">/</span>system<span class="sy0">/</span>i2prouter.service.
 $ <span class="kw2">sudo</span> systemctl start i2prouter.service</pre></div></div></div></div></div></div></div>


<p>It works in firefox.</p>
<p>PASSWORD GENERATOR</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> apg</pre></div></div></div></div></div></div></div>


<p>GPG SIGNATURE PROBLEMs<br />
<em><a href="https://wiki.manjaro.org/index.php/Pacman_troubleshooting#.22Failed_to_commit_transaction_.28invalid_or_corrupted_package.29.22_Error" target="_blank">https://wiki.manjaro.org/index.php/Pacman_troubleshooting#.22Failed_to_commit_transaction_.28invalid_or_corrupted_package.29.22_Error</a></em></p>
<p>Solution:</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># pacman-key --init</span>
<span class="co0"># pacman-key --populate archlinux</span>
<span class="co0"># pacman-key --refresh-keys</span>
<span class="co0"># pacman -Sc</span>
<span class="co0"># pacman -Syuu</span></pre></div></div></div></div></div></div></div>


<p>GNOME KEYRING</p>
<p>https://wiki.archlinux.org/index.php/GNOME_Keyring</p>
<p>At the end of files we add:</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/pam.d/login</span>
 session optional pam_gnome_keyring.so auto_start</pre></div></div></div></div></div></div></div>




<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co0"># vim /etc/pam.d/passwd</span>
 password optional pam_gnome_keyring.so</pre></div></div></div></div></div></div></div>


<p>SENSORS</p>


<div class="wp-geshi-highlight-wrap5"><div class="wp-geshi-highlight-wrap4"><div class="wp-geshi-highlight-wrap3"><div class="wp-geshi-highlight-wrap2"><div class="wp-geshi-highlight-wrap"><div class="wp-geshi-highlight"><div class="bash"><pre class="de1"><span class="co4">$ </span>yaourt <span class="re5">-S</span> lm_sensors</pre></div></div></div></div></div></div></div>


<p>URL: <a href="https://wiki.archlinux.org/" target="_blank">https://wiki.archlinux.org/</a></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a> and tagged <a href="https://blog.spanger.org/?tag=arch-linux" rel="tag">arch linux</a> on <a href="https://blog.spanger.org/?p=1716" title="2:37 pm" rel="bookmark"><time class="entry-date" datetime="2016-04-06T14:37:51+01:00">06/04/2016</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1587" class="post-1587 post type-post status-publish format-standard hentry category-linux-stuff category-nedoloceno tag-bash tag-color tag-script tag-terminal tag-xresurces tag-xterm">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1587" rel="bookmark">Randomize xterm colors</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<p>A bash script to <a href="http://blog.spanger.org/wp-content/uploads/2014/07/terminali.jpg" title="randomize" target="_blank">randomize</a> the xterm colors defined in the .Xresources file.</p>
<p><strong>Requirements</strong>: An original .Xresources file. It must, among other definitions, specify all the neccesary colors in the following form (order is irrellevant):</p>
<pre>xterm*color0    :  #151503
xterm*color1    :  #843706
xterm*color2    :  #69750e
...
xterm*color15    :  #f4dfd8
xterm*background    :  #211d22</pre>
<p><strong>Usage</strong>:<br />
Navigate to the directory where your system&#8217;s .Xresources file is located (most likely your home directory). Make sure it complies with the listed requirements. If so, copy it into a new file to which we from now on refer as the original file. Else edit it so it does and then create the copy:</p>
<pre> cp .Xresources .XresourcesOriginal </pre>
<p>Now we are ready to run the script. Verify that it is located in current directory and classified executable. Then run:</p>
<pre> ./randXcolors .XresourcesOriginal .Xresources 10 </pre>
<p>Fell free to replace the number 10 with any integer in range from 0 to 255. That is the limit on the randomization range. As it increases the output will in average differ more and more from the original.<br />
After the new .Xresources is generated, you can load it:</p>
<pre> xrdb .Xresources </pre>
<p>Restart your xterm to see the change take place. Repeating this process a couple of times will likely provide you with a truly amazing xterm color scheme.</p>
<p><strong>Code</strong>:<br />
Paste this into the randXcolor file.</p>
<p><!-- HTML generated using hilite.me --></p>
<div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.0em .0em .0em .0em">
<pre style="margin: 0; line-height: 125%"><span style="color: #8f5902; font-style: italic">#!/bin/bash </span>

<span style="color: #8f5902; font-style: italic"># randXcolors - a bash script to randomize xterm colors</span>

<span style="color: #8f5902; font-style: italic"># Operating on the standard Xresources file it changes the xterm*color* and</span>
<span style="color: #8f5902; font-style: italic"># xterm*background variables in order to produce a copy with colors randomized.#</span>
<span style="color: #8f5902; font-style: italic"># The new color definitions are placed at the end of the new file.</span>

<span style="color: #8f5902; font-style: italic"># args: 1. filename - Original Xresources file</span>
<span style="color: #8f5902; font-style: italic">#       2. filename - Output Xresurces file</span>
<span style="color: #8f5902; font-style: italic">#       3. integer - The radius of randomization with regard to the 255 color</span>
<span style="color: #8f5902; font-style: italic">#           range</span>

usage<span style="color: #ce5c00; font-weight: bold">(){</span>
    <span style="color: #204a87">echo</span> -e <span style="color: #4e9a06">&quot;Usage: $0 originalFilename destinationFilename randomRadius\n&quot;</span>
    <span style="color: #204a87">exit </span>1
<span style="color: #ce5c00; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">function </span>rgb2hex<span style="color: #ce5c00; font-weight: bold">()</span>
<span style="color: #8f5902; font-style: italic">#args: RRRGGGBBB color, -001&lt;RRR&lt;256 etc.</span>
<span style="color: #8f5902; font-style: italic">#returns #HEXHEX color</span>
<span style="color: #ce5c00; font-weight: bold">{</span>
    <span style="color: #204a87">local </span><span style="color: #000000">hex1</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">printf</span> <span style="color: #4e9a06">&#39;%02x&#39;</span> <span style="color: #204a87; font-weight: bold">$((</span><span style="color: #0000cf; font-weight: bold">10</span><span style="color: #8f5902; font-style: italic">#${1:0:3}))) #10# transf 2 dec, $1 is arg</span>
    <span style="color: #204a87">local </span><span style="color: #000000">hex2</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">printf</span> <span style="color: #4e9a06">&#39;%02x&#39;</span> <span style="color: #204a87; font-weight: bold">$((</span><span style="color: #0000cf; font-weight: bold">10</span><span style="color: #8f5902; font-style: italic">#${1:3:3})))</span>
    <span style="color: #204a87">local </span><span style="color: #000000">hex3</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">printf</span> <span style="color: #4e9a06">&#39;%02x&#39;</span> <span style="color: #204a87; font-weight: bold">$((</span><span style="color: #0000cf; font-weight: bold">10</span><span style="color: #8f5902; font-style: italic">#${1:6:3})))</span>
    <span style="color: #204a87">echo</span> <span style="color: #4e9a06">&quot;#$hex1$hex2$hex3&quot;</span>
<span style="color: #ce5c00; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">function </span>hex2rgb<span style="color: #ce5c00; font-weight: bold">()</span>
<span style="color: #8f5902; font-style: italic">#args: #HEXHEX color</span>
<span style="color: #8f5902; font-style: italic">#returns RRRGGGBBB color</span>
<span style="color: #ce5c00; font-weight: bold">{</span>
    <span style="color: #204a87">local </span><span style="color: #000000">rgb1</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">printf</span> <span style="color: #4e9a06">&#39;%03d&#39;</span> 0x<span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">1</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">1</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">2</span><span style="color: #204a87; font-weight: bold">})</span>
    <span style="color: #204a87">local </span><span style="color: #000000">rgb2</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">printf</span> <span style="color: #4e9a06">&#39;%03d&#39;</span> 0x<span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">1</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">3</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">2</span><span style="color: #204a87; font-weight: bold">})</span>
    <span style="color: #204a87">local </span><span style="color: #000000">rgb3</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">printf</span> <span style="color: #4e9a06">&#39;%03d&#39;</span> 0x<span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">1</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">5</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">2</span><span style="color: #204a87; font-weight: bold">})</span>
    <span style="color: #204a87">echo</span> <span style="color: #4e9a06">&quot;$rgb1$rgb2$rgb3&quot;</span>
<span style="color: #ce5c00; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">function </span>randomizeHex<span style="color: #ce5c00; font-weight: bold">()</span>
<span style="color: #8f5902; font-style: italic">#args #HEXHEX color, randomization radius</span>
<span style="color: #8f5902; font-style: italic">#returns #HEXHEX randomized color</span>
<span style="color: #ce5c00; font-weight: bold">{</span>
    <span style="color: #204a87">local </span><span style="color: #000000">rgb</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span>hex2rgb <span style="color: #000000">$1</span><span style="color: #204a87; font-weight: bold">)</span>
    <span style="color: #204a87">declare</span> <span style="color: #ce5c00; font-weight: bold">-</span>a <span style="color: #204a87">local </span><span style="color: #000000">rgbArr</span><span style="color: #ce5c00; font-weight: bold">=(</span><span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">rgb</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">0</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">3</span><span style="color: #204a87; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">rgb</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">3</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">3</span><span style="color: #204a87; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">rgb</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">6</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">3</span><span style="color: #204a87; font-weight: bold">}</span><span style="color: #ce5c00; font-weight: bold">)</span>
    <span style="color: #204a87">local </span><span style="color: #000000">rgbRand</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #4e9a06">&quot;&quot;</span>
    <span style="color: #204a87; font-weight: bold">for </span>i in <span style="color: #4e9a06">&quot;${rgbArr[@]}&quot;</span>
    <span style="color: #204a87; font-weight: bold">do</span>
<span style="color: #204a87; font-weight: bold">        </span><span style="color: #204a87">local </span><span style="color: #000000">substr</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$(</span><span style="color: #204a87">echo</span> <span style="color: #204a87; font-weight: bold">$(($(</span>shuf -i 0-<span style="color: #204a87; font-weight: bold">$((</span><span style="color: #000000">$2</span> <span style="color: #ce5c00; font-weight: bold">+</span> <span style="color: #000000">$2</span><span style="color: #204a87; font-weight: bold">))</span> -n 1<span style="color: #204a87; font-weight: bold">)</span> <span style="color: #ce5c00; font-weight: bold">-</span> <span style="color: #000000">$2</span><span style="color: #204a87; font-weight: bold">)))</span>
        <span style="color: #204a87">local </span><span style="color: #000000">sum</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$((</span><span style="color: #0000cf; font-weight: bold">10</span><span style="color: #8f5902; font-style: italic">#$i + $substr))</span>
        <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #ce5c00; font-weight: bold">[</span> <span style="color: #000000">$sum</span> <span style="color: #ce5c00; font-weight: bold">-</span>gt <span style="color: #4e9a06">&quot;255&quot;</span> <span style="color: #ce5c00; font-weight: bold">]</span>; <span style="color: #204a87; font-weight: bold">then</span>
<span style="color: #204a87; font-weight: bold">            </span><span style="color: #000000">sum</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #4e9a06">&quot;255&quot;</span>
        <span style="color: #204a87; font-weight: bold">elif</span> <span style="color: #ce5c00; font-weight: bold">[</span> <span style="color: #000000">$sum</span> <span style="color: #ce5c00; font-weight: bold">-</span>lt <span style="color: #4e9a06">&quot;0&quot;</span> <span style="color: #ce5c00; font-weight: bold">]</span>; <span style="color: #204a87; font-weight: bold">then</span>
<span style="color: #204a87; font-weight: bold">            </span><span style="color: #000000">sum</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #4e9a06">&quot;0&quot;</span>
        <span style="color: #204a87; font-weight: bold">fi</span>
<span style="color: #204a87; font-weight: bold">        </span><span style="color: #000000">rgbRand</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #4e9a06">&quot;$rgbRand$(printf &#39;%03d&#39; $sum)&quot;</span>
    <span style="color: #204a87; font-weight: bold">done</span>
<span style="color: #204a87; font-weight: bold">    </span><span style="color: #204a87">echo</span> <span style="color: #204a87; font-weight: bold">$(</span>rgb2hex <span style="color: #000000">$rgbRand</span><span style="color: #204a87; font-weight: bold">)</span>
<span style="color: #ce5c00; font-weight: bold">}</span>

<span style="color: #8f5902; font-style: italic">#input check</span>
<span style="color: #ce5c00; font-weight: bold">[[</span> <span style="color: #000000">$# </span><span style="color: #ce5c00; font-weight: bold">-</span>ne <span style="color: #0000cf; font-weight: bold">3</span> <span style="color: #ce5c00; font-weight: bold">]]</span> <span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> <span style="color: #204a87">echo</span> <span style="color: #ce5c00; font-weight: bold">-</span>e <span style="color: #4e9a06">&quot;\nERROR\nWrong number of arguments.\n&quot;</span> <span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> usage
<span style="color: #ce5c00; font-weight: bold">[[</span> <span style="color: #000000">$1</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #000000">$2</span> <span style="color: #ce5c00; font-weight: bold">]]</span> <span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> <span style="color: #204a87">echo</span> <span style="color: #ce5c00; font-weight: bold">-</span>e <span style="color: #4e9a06">&quot;\nERROR\nDo not use the same file as input and&quot;\</span>
    <span style="color: #4e9a06">&quot;output.\nExiting...\n&quot;\ </span><span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> <span style="color: #204a87">exit </span><span style="color: #0000cf; font-weight: bold">1</span>
<span style="color: #ce5c00; font-weight: bold">[[</span> <span style="color: #000000">$3</span> <span style="color: #ce5c00; font-weight: bold">-</span>gt <span style="color: #0000cf; font-weight: bold">255</span> <span style="color: #ce5c00; font-weight: bold">]]</span> <span style="color: #ce5c00; font-weight: bold">||</span> <span style="color: #ce5c00; font-weight: bold">[[</span> <span style="color: #000000">$3</span> <span style="color: #ce5c00; font-weight: bold">-</span>lt <span style="color: #0000cf; font-weight: bold">0</span> <span style="color: #ce5c00; font-weight: bold">]]</span> <span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> <span style="color: #204a87">echo</span> <span style="color: #ce5c00; font-weight: bold">-</span>e <span style="color: #4e9a06">&quot;\nERROR.\nThe randomization&quot;\</span>
    <span style="color: #4e9a06">&quot;radius too large or too small to make any sense.\nUse values between 0&quot;\</span>
    <span style="color: #4e9a06">&quot;and 255, with less then 100 recommended.\nExiting...\n&quot;</span> <span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> <span style="color: #204a87">exit </span><span style="color: #0000cf; font-weight: bold">1</span>

<span style="color: #8f5902; font-style: italic">#&quot;main&quot; function</span>
cp <span style="color: #4e9a06">&quot;$PWD/$1&quot;</span> <span style="color: #4e9a06">&quot;$PWD/$2&quot;</span>
sed <span style="color: #ce5c00; font-weight: bold">-</span>i <span style="color: #4e9a06">&#39;/[Xx][Tt]erm\*color*/d&#39;</span> <span style="color: #4e9a06">&quot;$PWD/$2&quot;</span>
sed <span style="color: #ce5c00; font-weight: bold">-</span>i <span style="color: #4e9a06">&#39;/[Xx][Tt]erm\*background*/d&#39;</span> <span style="color: #4e9a06">&quot;$PWD/$2&quot;</span>
<span style="color: #000000">count</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #0000cf; font-weight: bold">0</span>
<span style="color: #204a87; font-weight: bold">while </span><span style="color: #204a87">read </span>l; <span style="color: #204a87; font-weight: bold">do</span>
<span style="color: #204a87; font-weight: bold">    if</span> <span style="color: #ce5c00; font-weight: bold">[</span> <span style="color: #204a87; font-weight: bold">${</span><span style="color: #000000">l</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">0</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #000000">1</span><span style="color: #204a87; font-weight: bold">}</span> !<span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&quot;!&quot;</span> <span style="color: #ce5c00; font-weight: bold">]</span>; <span style="color: #204a87; font-weight: bold">then</span> <span style="color: #8f5902; font-style: italic">#dont touch comments</span>
        <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #ce5c00; font-weight: bold">[[</span> <span style="color: #000000">$l</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #ce5c00; font-weight: bold">*[</span>Xx<span style="color: #ce5c00; font-weight: bold">][</span>Tt<span style="color: #ce5c00; font-weight: bold">]</span>erm<span style="color: #4e9a06">\*</span>color* <span style="color: #ce5c00; font-weight: bold">]]</span>; <span style="color: #204a87; font-weight: bold">then</span>
<span style="color: #204a87; font-weight: bold">            </span><span style="color: #204a87">echo</span> <span style="color: #4e9a06">&quot;xterm*color&quot;</span><span style="color: #000000">$count</span><span style="color: #4e9a06">&quot;    :  &quot;</span><span style="color: #204a87; font-weight: bold">$(</span>randomizeHex <span style="color: #4e9a06">&quot;#${l#*#}&quot;</span> <span style="color: #000000">$3</span><span style="color: #204a87; font-weight: bold">)</span> <span style="color: #4e9a06">\</span>
                &gt;&gt; <span style="color: #4e9a06">&quot;$PWD/$2&quot;</span>
            <span style="color: #000000">count</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #204a87; font-weight: bold">$((</span><span style="color: #000000">$count</span> <span style="color: #ce5c00; font-weight: bold">+</span> <span style="color: #0000cf; font-weight: bold">1</span><span style="color: #204a87; font-weight: bold">))</span>
        <span style="color: #204a87; font-weight: bold">elif</span> <span style="color: #ce5c00; font-weight: bold">[[</span> <span style="color: #000000">$l</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #ce5c00; font-weight: bold">*[</span>Xx<span style="color: #ce5c00; font-weight: bold">][</span>Tt<span style="color: #ce5c00; font-weight: bold">]</span>erm<span style="color: #4e9a06">\*</span>background* <span style="color: #ce5c00; font-weight: bold">]]</span>; <span style="color: #204a87; font-weight: bold">then</span>
<span style="color: #204a87; font-weight: bold">            </span><span style="color: #204a87">echo</span> <span style="color: #4e9a06">&quot;xterm*background    :  &quot;</span><span style="color: #204a87; font-weight: bold">$(</span>randomizeHex <span style="color: #4e9a06">&quot;#${l#*#}&quot;</span> <span style="color: #000000">$3</span><span style="color: #204a87; font-weight: bold">)</span> <span style="color: #4e9a06">\</span>
                &gt;&gt; <span style="color: #4e9a06">&quot;$PWD/$2&quot;</span>
        <span style="color: #204a87; font-weight: bold">fi</span>
<span style="color: #204a87; font-weight: bold">    fi</span>
<span style="color: #204a87; font-weight: bold">done</span> &lt; <span style="color: #4e9a06">&quot;$PWD/$1&quot;</span>
</pre>
</div>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a>, <a href="https://blog.spanger.org/?cat=1" rel="category">Nedoloceno</a> and tagged <a href="https://blog.spanger.org/?tag=bash" rel="tag">bash</a>, <a href="https://blog.spanger.org/?tag=color" rel="tag">color</a>, <a href="https://blog.spanger.org/?tag=script" rel="tag">script</a>, <a href="https://blog.spanger.org/?tag=terminal" rel="tag">terminal</a>, <a href="https://blog.spanger.org/?tag=xresurces" rel="tag">xresurces</a>, <a href="https://blog.spanger.org/?tag=xterm" rel="tag">xterm</a> on <a href="https://blog.spanger.org/?p=1587" title="1:45 am" rel="bookmark"><time class="entry-date" datetime="2014-07-05T01:45:46+01:00">05/07/2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=4" title="View all posts by Klemen" rel="author">Klemen</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1538" class="post-1538 post type-post status-publish format-standard hentry category-linux-stuff tag-bbb tag-beaglebone-black tag-debian tag-embedded tag-sd-card tag-ssh">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1538" rel="bookmark">Debian on BBB</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<p>These are instructions on how to <strong>put Debian for Beaglebone Black (BBB) on a SD card without using an additional SD card reader</strong>.</p>
<p><strong>Hardware</strong> required: Beaglebone Black and a GNU/Linux computer, both connected to the same LAN, and a micro SD card.<br />
<strong>Computer software</strong> required: a web browser, wget, md5sum, 7zip, arp-scan, openssh, dd.<br />
<strong>BBB software</strong> required: a working GNU/Linux running from the eMMC.</p>
<p>Fire up your computer&#8217;s terminal. Chdir into an initially empty directory.</p>
<p><strong>1)</strong> Navigate to the official <strong>BBB webpage</strong> using your preferred browser:</p>
<pre>http://beagleboard.org/latest-images/</pre>
<p><strong>2)</strong> Download the latest Debian (or other) <strong>image</strong> via wget. Choose beetween the bootable and flashing-only version (according to your personal preference). You can also download the file using browser or bit torrent.</p>
<pre>wget http://debian.beagleboard.org/images/bone-debian-7.5-2014-05-14-2gb.img.xz</pre>
<p><strong>3)</strong> Check its <strong>MD5 hash</strong> (optional).</p>
<pre>md5sum *.xz</pre>
<p><strong>4)</strong> <strong>Unzip</strong> the file using 7zip (the extracted file will look like this: IMAGE_NAME.img):</p>
<pre>7z x *.xz</pre>
<p><strong>5)</strong> Make sure your BBB is <strong>connected</strong> to the same local network your machine is connected to using ethernet cable. Also make sure the SD card has been put <strong>into its slot after</strong> BBB had been <strong>turned on</strong> and booted up. </p>
<p>Find your local <strong>ethernet name</strong>. It should look something like eth0. You will be able to find it using this command:</p>
<pre>ls /sys/class/net</pre>
<p><strong>6)</strong> <strong>Arp-scan</strong> your home network to find the BBB&#8217;s IP adress:</p>
<pre>sudo arp-scan --interface=YOUR_ETHERNET_NAME --localnet</pre>
<p><strong>7)</strong> The IP address corresponding to Texas Instruments, Inc in the third column should be your BBB&#8217;s. Now you can <strong>ssh</strong> into your device. If you&#8217;re using the default Ångström distribution, just hit enter when asked for password:</p>
<pre>ssh root@YOUR_BBBS_IP</pre>
<p><strong>8)</strong> List bulk devices to find your SD card&#8217;s <strong>device name</strong>.</p>
<pre>lsblk -f && lsblk</pre>
<p><strong>9)</strong> <strong>Take this step very seriously</strong> since not doing so could do harm to your BBB in step 11. You should be able to find the SD card device name by its size, filetype and name. The BBB comes with a 2GB on-board flash so make sure to filter that one out. The SD may include some partitions, for example mmcblk1p1 and/or mmcblk1p2. In my case, the SD device name was mmcblk1. We will be using the SD_NAME in the following steps.</p>
<p><strong>Memorise</strong> the SD_NAME (or better yet, <strong>write it down</strong>) and unmount all of its partitions:</p>
<pre>umount SD_NAME_PARTITION_MOUNTPOINTS</pre>
<p>Make sure they had been unmounted using lsblk again. </p>
<p><strong>10)</strong> Exit your ssh session:</p>
<pre>exit</pre>
<p><strong>11)</strong> <strong>Please take this final step even more seriously and follow at your own risk</strong>. We will be using the dd image writing command, also known as the Data Destructor. You could easily destroy all data either on your machine or BBB so proceed carefully.</p>
<p><strong>Clone</strong> the image to the SD card using ssh:</p>
<pre>dd if=./IMAGE_NAME.img | ssh root@BBB_IP "dd of=/dev/SD_NAME bs=4M"</pre>
<p><strong>if</strong> stands for input, <strong>of</strong> for output. This will take a while. You should get a coffee. Or make tea. Take a quick nap in front of your computer. Once it&#8217;s done, you should end up with a SD-card ready for eMMC flash or boot.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a> and tagged <a href="https://blog.spanger.org/?tag=bbb" rel="tag">BBB</a>, <a href="https://blog.spanger.org/?tag=beaglebone-black" rel="tag">Beaglebone black</a>, <a href="https://blog.spanger.org/?tag=debian" rel="tag">Debian</a>, <a href="https://blog.spanger.org/?tag=embedded" rel="tag">embedded</a>, <a href="https://blog.spanger.org/?tag=sd-card" rel="tag">SD card</a>, <a href="https://blog.spanger.org/?tag=ssh" rel="tag">ssh</a> on <a href="https://blog.spanger.org/?p=1538" title="3:00 pm" rel="bookmark"><time class="entry-date" datetime="2014-06-23T15:00:32+01:00">23/06/2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=4" title="View all posts by Klemen" rel="author">Klemen</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1503" class="post-1503 post type-post status-publish format-standard hentry category-linux-stuff tag-arch tag-arch-linux tag-aur tag-install-package tag-makepkg tag-pacman">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1503" rel="bookmark">Install a package from AUR on arch linux</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<p>The easiest way to install packages on arch Linux is from the official repositories using pacman. This is also the preferred way since the packages installed this way are updated through system-wide updates.</p>
<p>However – what if the package you need is not available in the official repos? Or perhaps you need a newer version? In this case you can follow this procedure:</p>
<p><strong>1. Look it up on AUR</strong></p>
<p>AUR stands for arch user repository. It is maintained by the community. Many packages are availible. <a title="AUR" href="https://aur.archlinux.org/" target="_blank">AUR</a>.</p>
<p><strong>2. Check it</strong></p>
<p>Check the dependencies. You will need to install them later if they are not installed on your system but no need to worry about that just yet. Read the discussion on the bottom of the page &#8211; it sometimes contains valuable info. If the package is flagged out of date you can consider yourself unlucky. These ones usually don&#8217;t work out of the box. Try &#8211; perhaps it does. Many packages are marked with &#8220;-git&#8221;. These ones use git to install the newest version of the software.</p>
<p><strong>3. Download and untar</strong></p>
<p>Download tarball archive using your browser. It is worthwhile using a special folder for all the programs you build for convenience. Once downloaded locate the file through console and run:</p>
<pre>tar -zxvf package_name.tar.gz

cd package_name</pre>
<p><strong>4. Read the PKGBUILD file and build</strong></p>
<p>PKGBUILD file contains all the information needed to install a package. You are advised to see it before install but it is not necessary.</p>
<p>Then run this command:</p>
<pre>makepkg -src</pre>
<p><strong>s</strong> (syncdeps) installs the missing depencenies using pacman provided they are available through sync repos. In case they are not you can install them the way you are trying to install this one.</p>
<p><strong>r</strong> (rmdeps) removes the dependencies after the build process is completed so your system does not get loaded with programs you do not need.</p>
<p><strong>c</strong> (clean) cleans up leftover work files used during the build process.</p>
<p>In case build process was not not successful you can try to edit PKGBUILD file, leave a comment on the package AUR website or perhaps send a message to the mantainer.</p>
<p><strong>5. Install using pacman</strong></p>
<p>After a successful build process your current folder should contain a file with the extension <strong>.tar.xz</strong>. Install the package like this (as root):</p>
<pre>sudo pacman -U *.tar.xz</pre>
<p><strong>U</strong> (upgrade) upgrades or adds package(s) to the system and installs the required dependencies from sync repos.</p>
<p><strong>6. Mantain</strong></p>
<p>You should treat your system well. Info regarding the arch linux maintenance is availible through the <a title="Maintenance" href="https://wiki.archlinux.org/index.php/Arch_Linux_system_maintenance" target="_blank">arch wiki</a>.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a> and tagged <a href="https://blog.spanger.org/?tag=arch" rel="tag">arch</a>, <a href="https://blog.spanger.org/?tag=arch-linux" rel="tag">arch linux</a>, <a href="https://blog.spanger.org/?tag=aur" rel="tag">AUR</a>, <a href="https://blog.spanger.org/?tag=install-package" rel="tag">install package</a>, <a href="https://blog.spanger.org/?tag=makepkg" rel="tag">makepkg</a>, <a href="https://blog.spanger.org/?tag=pacman" rel="tag">pacman</a> on <a href="https://blog.spanger.org/?p=1503" title="10:58 pm" rel="bookmark"><time class="entry-date" datetime="2014-04-10T22:58:53+01:00">10/04/2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=4" title="View all posts by Klemen" rel="author">Klemen</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1462" class="post-1462 post type-post status-publish format-standard hentry category-cisco tag-cisco-1841 tag-hwic-4esw tag-nat">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1462" rel="bookmark">Cisco 1841 + HWIC-4ESW + NAT</a>
			</h1>
										<div class="comments-link">
					<a href="https://blog.spanger.org/?p=1462#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p><strong>Cisco 1841 ethernet port + dialer interface</strong></p>
<p><strong>interface FastEthernet0/0</strong><br />
description == WAN interface<br />
no ip address<br />
duplex auto<br />
speed auto<br />
pppoe enable group global<br />
pppoe-client dial-pool-number 1<br />
no cdp enable<br />
!<br />
<strong>interface FastEthernet0/1</strong><br />
description == LAN interface<br />
ip address 192.168.1.1 255.255.255.0<br />
ip nat inside<br />
ip virtual-reassembly in<br />
ip tcp adjust-mss 1452<br />
duplex auto<br />
speed auto<br />
!</p>
<p><strong>interface Dialer1</strong><br />
description == pppoe to ISP<br />
ip address negotiated<br />
ip mask-reply<br />
ip directed-broadcast<br />
ip mtu 1492<br />
ip nat outside<br />
ip virtual-reassembly in<br />
encapsulation ppp<br />
dialer pool 1<br />
dialer-group 1<br />
ppp authentication chap pap callin<br />
ppp chap hostname username@domain.tld<br />
ppp chap password 7 060B162A5D4C222C1F<br />
ppp pap sent-username username@domain.tld password 7 030E3100150D592954<br />
ppp ipcp dns request<br />
ppp ipcp route default<br />
ppp ipcp address accept<br />
no cdp enable<br />
!</p>
<p><strong>DHCP POOL</strong></p>
<p>ip dhcp pool LAN<br />
network 192.168.2.0 255.255.255.0<br />
default-router 192.168.1.1<br />
dns-server 8.8.8.8 4.4.4.4<br />
domain-name your-domain.tld</p>
<p><strong>VLAN configuration</strong></p>
<p>interface Vlan2<br />
description == LAN<br />
ip address 192.168.2.1 255.255.255.0<br />
ip helper-address 192.168.1.1<br />
ip nat inside &lt;&#8212; important part in NAT translation<br />
ip virtual-reassembly in</p>
<p><strong>HWIC-4ESW ethernet port configuration</strong></p>
<p>interface FastEthernet0/0/0<br />
description == PC LAN<br />
switchport access vlan 2<br />
no ip address<br />
!<br />
interface FastEthernet0/0/1<br />
description == AP LAN<br />
switchport access vlan 2<br />
no ip address<br />
!</p>
<p><strong>NAT</strong></p>
<p>ip nat inside source list 1 interface Dialer1 overload</p>
<p><strong>NAT ACL</strong></p>
<p>access-list 1 permit 192.168.1.0 0.0.0.255<br />
access-list 1 permit 192.168.2.0 0.0.0.255</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=10" rel="category">Cisco</a> and tagged <a href="https://blog.spanger.org/?tag=cisco-1841" rel="tag">cisco 1841</a>, <a href="https://blog.spanger.org/?tag=hwic-4esw" rel="tag">hwic-4esw</a>, <a href="https://blog.spanger.org/?tag=nat" rel="tag">nat</a> on <a href="https://blog.spanger.org/?p=1462" title="7:36 am" rel="bookmark"><time class="entry-date" datetime="2013-05-20T07:36:27+01:00">20/05/2013</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1454" class="post-1454 post type-post status-publish format-standard hentry category-zimbra tag-backup tag-restore tag-zimbra-2 tag-zmmailbox">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1454" rel="bookmark">Backup &#8211; restore user mailbox in Zimbra</a>
			</h1>
										<div class="comments-link">
					<a href="https://blog.spanger.org/?p=1454#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Elegant way to backup or restore user mailbox in Zimbra.</p>
<p>Tested in Zimbra 8.x and works.</p>
<p>BACKUP user mailbox:</p>
<pre><code>/opt/zimbra/bin/zmmailbox -z -m user@domain.tld getRestURL "//?fmt=zip" &gt; /backup/dir/user@domain.tld.zip</code></pre>
<p>RESTORE user mailbox:</p>
<pre><code>/opt/zimbra/bin/zmmailbox -z -m user@domain.tld postRestURL "//?fmt=zip&amp;resolve=reset" /backup/dir/user@domain.tld.zip</code></pre>
<p><span style="line-height: 1.714285714; font-size: 1rem;">SOURCE:</span></p>
<p><em>http://blog.zimbra.com/blog/archives/2008/09/zcs-to-zcs-migrations.html</em></p>
<p><em>http://www.sfu.ca/~hillman/zimbra-hied-admins/msg00583.html</em></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=31" rel="category">Zimbra</a> and tagged <a href="https://blog.spanger.org/?tag=backup" rel="tag">backup</a>, <a href="https://blog.spanger.org/?tag=restore" rel="tag">restore</a>, <a href="https://blog.spanger.org/?tag=zimbra-2" rel="tag">zimbra</a>, <a href="https://blog.spanger.org/?tag=zmmailbox" rel="tag">zmmailbox</a> on <a href="https://blog.spanger.org/?p=1454" title="9:50 pm" rel="bookmark"><time class="entry-date" datetime="2013-04-24T21:50:43+01:00">24/04/2013</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1335" class="post-1335 post type-post status-publish format-standard hentry category-cisco category-linux-stuff tag-bridge tag-cisco-2 tag-kvm tag-linux tag-trunk tag-vlan">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1335" rel="bookmark">Connect cisco switch and linux server for kvm virtualization</a>
			</h1>
										<div class="comments-link">
					<a href="https://blog.spanger.org/?p=1335#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>We need bridge (brX) interface(s) for linux kvm virtualization. </p>
<p><strong>EXAMPLE FOR 3 VLAN-S</strong></p>
<p><strong>VLAN-s must be defined on Cisco switch</strong></p>
<p>VLAN 10 &#8211; IT vlan<br />
VLAN 20 &#8211; DMZ vlan<br />
VLAN 30 &#8211; guest vlan</p>
<p><strong>Define vlan without ip (L2 switch):</strong></p>
<pre>switch# conf t
switch(config)# vlan 10
switch(config-vlan)# name vlan-it
switch(config-vlan)# end
switch# write</pre>
<p><strong>Define vlan with ip address (L3 switch):</strong></p>
<pre>switch# conf t
switch(config)# interface vlan 10
switch(config-if)# ip adress 192.168.10.1 255.255.255.0
switch(config-if)# description vlan-it
switch(config-if)# end
switch# write</pre>
<p><strong>INTERFACE CONFIGURATION ON CISCO SWITCH</strong></p>
<p>Connection to network interface eth0 on linux server for vlan 10 and vlan 30 (trunk connection):</p>
<pre>interface GigabitEthernet1/0/30
 description == kvm server IT
 switchport trunk encapsulation dot1q
 switchport trunk allowed vlan 10,30
 switchport mode trunk</pre>
<p>Connection to network interface eth1 on linux server for vlan 20 (trunk connection):</p>
<pre>interface GigabitEthernet1/0/31
 description == kvm server DMZ
 switchport trunk encapsulation dot1q
 switchport trunk allowed vlan 20
 switchport mode trunk</pre>
<p><strong>NETWORK CONFIGURATION ON LINUX SERVER (Debian) </strong></p>
<pre>linux-server:~# cat /etc/network/interfaces

# The loopback network interface
auto lo
iface lo inet loopback

# VLAN 10 (IT vlan)
auto eth0.10
iface eth0.10 inet manual
        up ifconfig eth0.10 up

# KVM bridge , VLAN 10, via eth0 (management interface)
auto br10
iface br10 inet static
        address xx.xy.xz.10
        netmask xx.xy.xz.0
        network xx.xy.xz.0
        broadcast xx.xy.xz.255
        gateway xx.xy.xz.1
        dns-nameservers 8.8.8.8 4.4.4.4
        dns-search local.domain.com
        bridge_ports    eth0.10 
        bridge_maxwait  5
        bridge_fd       1
        bridge_stp      on

# VLAN 20 (DMZ vlan)
auto eth1.20
iface   eth1.20 inet manual
        up ifconfig eth1.20 up

# KVM bridge, VLAN 20, via eth1
auto br20
iface br20 inet manual
        bridge_ports    eth1.20
        bridge_maxwait  5
        bridge_fd       1
        bridge_stp      on

# VLAN 30 (guest vlan)
auto eth0.30
iface eth0.30 inet manual
        up ifconfig eth0.30 up

# KVM bridge, VLAN 30, via eth0
auto br30
iface br30 inet manual
        bridge_ports    eth0.30
        bridge_maxwait  5
        bridge_fd       1
        bridge_stp      on</pre>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=10" rel="category">Cisco</a>, <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a> and tagged <a href="https://blog.spanger.org/?tag=bridge" rel="tag">bridge</a>, <a href="https://blog.spanger.org/?tag=cisco-2" rel="tag">cisco</a>, <a href="https://blog.spanger.org/?tag=kvm" rel="tag">kvm</a>, <a href="https://blog.spanger.org/?tag=linux" rel="tag">linux</a>, <a href="https://blog.spanger.org/?tag=trunk" rel="tag">trunk</a>, <a href="https://blog.spanger.org/?tag=vlan" rel="tag">vlan</a> on <a href="https://blog.spanger.org/?p=1335" title="10:41 am" rel="bookmark"><time class="entry-date" datetime="2012-12-28T10:41:23+01:00">28/12/2012</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1325" class="post-1325 post type-post status-publish format-standard hentry category-windows-tricks tag-cmd tag-iisreset tag-reboot">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1325" rel="bookmark">Windows cmd haven</a>
			</h1>
										<div class="comments-link">
					<a href="https://blog.spanger.org/?p=1325#respond"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>Reset IIS and reboot server from cmd</p>
<p>Start &#8211;&gt; run &#8211;&gt; cmd (as admin)</p>
<pre><code>iisreset /reboot</code></pre>
<p>Create directory link (example: move user profile to partition D)</p>
<p>1. Copy user profile to partition D</p>
<p>2. Delete original userprofile on partition C</p>
<p>3. Create link on C partition which points to D partition</p>
<pre><code>C:\Users\mklink -d username-link D:\Users\username-dir</code></pre>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=7" rel="category">Windows tricks</a> and tagged <a href="https://blog.spanger.org/?tag=cmd" rel="tag">cmd</a>, <a href="https://blog.spanger.org/?tag=iisreset" rel="tag">iisreset</a>, <a href="https://blog.spanger.org/?tag=reboot" rel="tag">reboot</a> on <a href="https://blog.spanger.org/?p=1325" title="9:20 am" rel="bookmark"><time class="entry-date" datetime="2012-11-29T09:20:38+01:00">29/11/2012</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1168" class="post-1168 post type-post status-publish format-standard hentry category-linux-stuff category-zimbra tag-centos tag-migration tag-ubuntu tag-zimbra-7 tag-zimbra-8">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1168" rel="bookmark">Zimbra migration from 7 to 8 + 32 bit to 64 bit server</a>
			</h1>
										<div class="comments-link">
					<a href="https://blog.spanger.org/?p=1168#comments">13 Replies</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p><strong>WHAT IS THE GOAL</strong></p>
<p>Migrate Zimbra 7 (mailboxes, documents,&#8230;) to new 64 bit server with Zimbra 8.0.</p>
<p>STEP BY STEP GUIDE</p>
<p><strong>1. PREPARE OLD SERVER</strong></p>
<p>name: mail.domain.tld<br />
OS: Centos 5.8 32 bit<br />
Zimbra: Zimbra 7.2.0</p>
<pre>
<code>[zimbra@oldserver ~]$ cat /etc/redhat-release </code>
<code>CentOS release 5.8 (Final) </code>

<code>[zimbra@oldserver ~]$ zmcontrol -v </code>
<code>Release 7.2.0_GA_2669.RHEL5_20120410001957 CentOS5 FOSS edition.</code>
</pre>
<p>UPGRADE to latest zimbra for Centos 5.8(ZIMBRA 7.2.1)</p>
<pre>
# wget http://files2.zimbra.com/downloads/7.2.1_GA/zcs-7.2.1_GA_2790.RHEL5.20120815212042.tgz 
# tar xvzf zcs-7.2.1_GA ...
# cd zcs-7.2.1_GA ...
# ./install –platform-override
</pre>
<p>ERROR</p>
<p>Do you want to verify message store database integrity? [Y]<br />
Verifying integrity of message store databases. This may take a while.</p>
<p>mysqld is alive</p>
<p>Database errors found.</p>
<p>/opt/zimbra/mysql/bin/mysqlcheck &#8211;defaults-file=/opt/zimbra/conf/my.cnf -S /opt/zimbra/db/mysql.sock -A -C -s -u root &#8211;auto-repair &#8211;password=XXXXXXXX</p>
<p>mysql.general_log<br />
Error : You can&#8217;t use locks with log tables.<br />
mysql.slow_log<br />
Error : You can&#8217;t use locks with log tables.</p>
<p>This is a bug in mysql and does no hurm !!!</p>
<p>Upgrade was successfull. 🙂</p>
<p>Show new zimbra version:</p>
<pre>
[zimbra@oldserver ~]$ zmcontrol -v 
Release 7.2.1_GA_2790.RHEL5_20120815212042 CentOS5 FOSS edition.</pre>
<p>Create backup directory for LDAP</p>
<pre>
<code># mkdir /backup # chown zimbra:zimbra /backup</code></pre>
<p>Backup LDAP</p>
<pre>
<code>[zimbra@oldserver ~]$ /opt/zimbra/libexec/zmslapcat -c /backup </code>
<code>[zimbra@oldserver ~]$ /opt/zimbra/libexec/zmslapcat /backup</code>
</pre>
<p>BACKUP localconfig.xml</p>
<pre><code>[zimbra@oldserver ~]$ cp /opt/zimbra/conf/localconfig.xml /backup</code></pre>
<p>Change IP ADDRESS</p>
<pre>
<code>[root@oldserver ~]# vim /etc/sysconfig/network-scripts/ifcfg-eth0 </code>
<code>change IP to something else</code></pre>
<p>Change HOSTNAME</p>
<pre>
<code># vim /etc/hostname </code>
<code># vim /etc/hosts </code>
<code>change IP and hostname</code>
</pre>
<p>Save mail address for SPAM and HAM accounts</p>
<pre>
<code>[zimbra@mail ~]$ zmprov gacf | grep -i spamis </code>
<code>zimbraSpamIsNotSpamAccount: ham.r4qmxkaq4@domain.tld </code>
<code>zimbraSpamIsSpamAccount: spam.ydhu3gfxuh@domain.tld </code>
<code>zimbraAmavisQuarantineAccount: virus-quarantine.jllqjtji@domain.tld</code>
</pre>
<p><strong>2. PREPARE NEW SERVER</strong></p>
<p>name: mail.domain.tld<br />
OS: Ubuntu 10.04 TLS 64bit<br />
Zimbra: Zimbra 8.0 (first install 7.2.1)</p>
<p>Install Ubuntu server 10.04 LTS (minimal install + ssh server)</p>
<p>Create separate partition /opt for zimbra installation (size depend on size and quantity of mailboxes)</p>
<p>Use old mailserver hostname and IP adress</p>
<pre>
<code># vim /etc/hostname<code>
<code>mail</code>
</pre>
<p>Prepare HOSTS file !!!</p>
<pre># vim /etc/hosts
127.0.0.1 localhost
192.168.1.X mail.domain.tld mail</pre>
<p>Setup SSH</p>
<pre># vim /etc/ssh/sshd_config
AllowUsers zimbra ← add this line at the end</pre>
<p>Download ZIMBRA 7.2.1</p>
<pre># wget http://files2.zimbra.com/downloads/7.2.1_GA/zcs-7.2.1_GA_2790.UBUNTU10_64.20120815212201.tgz</pre>
<p>Untar Zimbra</p>
<pre># tar xvzf zcs-7.2.1...</pre>
<p>Install ZIMBRA 7.2.1 to the NEW SERVER</p>
<pre># cd zcs-7.2.1...
# ./install.sh
... </pre>
<p>DNS ERROR resolving MX for mail.domain.tld<br />
It is suggested that the domain name have an MX record configured in DNS<br />
Change domain name? [Yes]<br />
Create domain: [mail.domain.tld] domain.tld<br />
Create domain: [mail.domain.tld] domain.tld<br />
MX: mail.domain.tld (192.168.10.7)<br />
Interface: 192.168.10.7<br />
Interface: 127.0.0.1</p>
<p>done.</p>
<p>Checking for port conflicts</p>
<p>Main menu</p>
<p>1) Common Configuration:<br />
2) zimbra-ldap: Enabled<br />
3) zimbra-store: Enabled<br />
+Create Admin User: yes<br />
+Admin user to create: admin@domain.tld<br />
******* +Admin Password UNSET<br />
+Anti-virus quarantine user: virus-quarantine.lsmlhshnmy@domain.tld<br />
+Enable automated spam training: yes<br />
+Spam training user: spam.wyqzbievu@domain.tld<br />
+Non-spam(Ham) training user: ham.vccas9hrzf@domain.tld<br />
+SMTP host: mail.domain.tld<br />
+Web server HTTP port: 80<br />
+Web server HTTPS port: 443<br />
+Web server mode: http<br />
+IMAP server port: 143<br />
+IMAP server SSL port: 993<br />
+POP server port: 110<br />
+POP server SSL port: 995<br />
+Use spell check server: yes<br />
+Spell server URL: http://mail.domain.tld:7780/aspell.php<br />
+Configure for use with mail proxy: FALSE<br />
+Configure for use with web proxy: FALSE<br />
+Enable version update checks: TRUE<br />
+Enable version update notifications: TRUE<br />
+Version update notification email: admin@domain.tld<br />
+Version update source email: admin@domain.tld<br />
4) zimbra-mta: Enabled<br />
5) zimbra-snmp: Enabled<br />
6) zimbra-logger: Enabled<br />
7) zimbra-spell: Enabled<br />
8) Default Class of Service Configuration:<br />
r) Start servers after configuration yes<br />
s) Save config to file<br />
x) Expand menu<br />
q) Quit</p>
<p>CHANGE admin password …</p>
<p>4) Admin Password set</p>
<p>CHANGE antivirus quarantine user from old server.</p>
<p>5) Anti-virus quarantine user: virus-quarantine.jllqjtji@domain.tld</p>
<p>CHANGE spam training user from old server.</p>
<p>7) Spam training user: spam.ydku3gfyuh@domain.tld</p>
<p>CHANGE ham training user from old server.</p>
<p>8) Non-spam(Ham) training user: ham.r4ujxkaq4@domain.tld</p>
<p>*** CONFIGURATION COMPLETE - press 'a' to apply<br />
Select from menu, or press 'a' to apply config (? - help) a<br />
Save configuration data to a file? [Yes]<br />
...</p>
<p>As zimbra user do:</p>
<pre>zmcontrol stop
rm -rf /opt/zimbra/data/ldap/config/*
rm -rf /opt/zimbra/data/ldap/hdb/*
mkdir -p /opt/zimbra/data/ldap/hdb/db /opt/zimbra/data/ldap/hdb/logs</pre>
<pre># chown -R zimbra:zimbra /opt/zimbra/data/ldap</pre>
<p><strong>3. COPY DATA TO NEW SERVER</strong></p>
<p>Copy DB_CONFIG from old server to new server</p>
<pre># scp /opt/zimbra/data/ldap/hdb/db/DB_CONFIG mail:/opt/zimbra/data/ldap/hdb/db/</pre>
<p>Create BACKUP directory on NEW SERVER</p>
<pre>root@mail:~# mkdir /backup</pre>
<p>Copy LDAP DATA from OLD SERVER to NEW SERVER</p>
<pre># scp /backup/ldap.bak mail:/backup/
# scp /backup/ldap-config.bak mail:/backup/</pre>
<pre>root@mail:~# chown -R zimbra:zimbra /backup/</pre>
<p>IMPORT LDAP DATA</p>
<p><code></code></p>
<pre>zimbra@mail:~$ /opt/zimbra/openldap/sbin/slapadd -q -n 0 -F /opt/zimbra/data/ldap/config -cv -l /backup/ldap-config.bak
added: "cn=config" (00000001)
added: "cn=module{0},cn=config" (00000001)
added: "cn=schema,cn=config" (00000001)
added: "cn={0}core,cn=schema,cn=config" (00000001)
added: "cn={1}cosine,cn=schema,cn=config" (00000001)
added: "cn={2}inetorgperson,cn=schema,cn=config" (00000001)
added: "cn={3}zimbra,cn=schema,cn=config" (00000001)
added: "cn={4}amavisd,cn=schema,cn=config" (00000001)
added: "olcDatabase={-1}frontend,cn=config" (00000001)
added: "olcDatabase={0}config,cn=config" (00000001)
added: "olcDatabase={1}monitor,cn=config" (00000001)
added: "olcDatabase={2}hdb,cn=config" (00000001)
_#################### 100.00% eta   none elapsed            none fast! 
Closing DB...</pre>
<p>IMPORT LDAP CONFIG</p>
<p><code></code></p>
<pre>zimbra@mail:~$ /opt/zimbra/openldap/sbin/slapadd -q -b "" -F /opt/zimbra/data/ldap/config -cv -l /backup/ldap.bak
added: "cn=zimbra" (00000001)
added: "cn=admins,cn=zimbra" (00000002)
added: "uid=zimbra,cn=admins,cn=zimbra" (00000003)
added: "uid=zmreplica,cn=admins,cn=zimbra" (00000004)
added: "cn=appaccts,cn=zimbra" (00000005)
added: "uid=zmnginx,cn=appaccts,cn=zimbra" (00000006)
added: "uid=zmpostfix,cn=appaccts,cn=zimbra" (00000007)
added: "uid=zmamavis,cn=appaccts,cn=zimbra" (00000008)
added: "cn=zimlets,cn=zimbra" (00000009)
added: "cn=cos,cn=zimbra" (0000000a)
added: "cn=servers,cn=zimbra" (0000000b)
added: "cn=xmppcomponents,cn=zimbra" (0000000c)
added: "cn=globalgrant,cn=zimbra" (0000000d)
added: "cn=config,cn=zimbra" (0000000e)
added: "cn=default,cn=cos,cn=zimbra" (0000000f)
added: "cn=mime,cn=config,cn=zimbra" (00000010)
added: "cn=message/rfc822,cn=mime,cn=config,cn=zimbra" (00000011)
added: "cn=text/html,cn=mime,cn=config,cn=zimbra" (00000012)
added: "cn=text/enriched,cn=mime,cn=config,cn=zimbra" (00000013)
added: "cn=text/plain,cn=mime,cn=config,cn=zimbra" (00000014)
added: "cn=text/calendar,cn=mime,cn=config,cn=zimbra" (00000015)
added: "cn=all,cn=mime,cn=config,cn=zimbra" (00000016)
added: "cn=mail.domain.tld,cn=servers,cn=zimbra" (00000017)
added: "dc=tld" (00000018)
added: "dc=domain,dc=tld" (00000019)
added: "uid=root,ou=people,dc=domain,dc=tld" (0000001b)
added: "uid=postmaster,ou=people,dc=domain,dc=tld" (0000001c)
added: "cn=conference.mail.domain.tld,cn=xmppcomponents,cn=zimbra" (0000001d)
added: "cn=com_zimbra_adminversioncheck,cn=zimlets,cn=zimbra" (0000001e)
added: "cn=com_zimbra_bulkprovision,cn=zimlets,cn=zimbra" (0000001f)
added: "cn=com_zimbra_ymemoticons,cn=zimlets,cn=zimbra" (00000020)
added: "cn=com_zimbra_cert_manager,cn=zimlets,cn=zimbra" (00000021)
added: "cn=com_zimbra_phone,cn=zimlets,cn=zimbra" (00000022)
added: "cn=com_zimbra_date,cn=zimlets,cn=zimbra" (00000023)
added: "cn=com_zimbra_email,cn=zimlets,cn=zimbra" (00000024)
….
#################### 100.00% eta   none elapsed            none fast!         
Closing DB...</pre>
<p>COPY localconfig.xml from OLDSERVER to NEWSERVER</p>
<pre>#  scp /backup/localconfig.xml mail:/backup/</pre>
<p>EDIT localconfig.xml</p>
<p>BACKUP localconfig.xml on the NEWSERVER</p>
<pre>zimbra@mail:~$ cp /opt/zimbra/conf/localconfig.xml /opt/zimbra/conf/localconfig.xml.orig</pre>
<p>EDIT localconfig.xml and change values to values from OLDSERVER<br />
(from /backup/localconfig.xml)<br />
...<br />
a. zimbra_mysql_password<br />
b. mysql_root_password<br />
c. zimbra_logger_mysql_password (Note: Transfer/copy this value to the new 64-bit server only if available from the old 32-bit server.)<br />
d. mailboxd_keystore_password (Note: Transfer/copy this value to the new 64-bit server only if available from the old 32-bit server.)<br />
e. mailboxd_truststore_password<br />
f. mailboxd_keystore_base_password<br />
g. zimbra_ldap_password<br />
h. ldap_root_password<br />
i. ldap_postfix_password<br />
j. ldap_amavis_password<br />
k. ldap_nginx_password<br />
l. ldap_replication_password</p>
<p>REMOVE data from NEW SERVER</p>
<pre>zimbra@mail:~$ rm -rf /opt/zimbra/db/data/*</pre>
<p>COPY DATA from OLD SERVER</p>
<pre>[root@oldserver ~]# scp -r /opt/zimbra/db/data/* mail:/opt/zimbra/db/data/</pre>
<p>Copy MESSAGES and INDEX files from OLD SERVER to NEW SERVER</p>
<pre>[root@oldserver ~]# scp -r /opt/zimbra/store/* mail:/opt/zimbra/store/</pre>
<pre><code>[root@oldserver ~]# scp -r /opt/zimbra/index/* mail:/opt/zimbra/index/</code></pre>
<p>Transfer KEYSTORE</p>
<pre>[root@oldserver ~]# scp /opt/zimbra/mailboxd/etc/keystore mail:/opt/zimbra/mailboxd/etc/keystore</pre>
<p> + Change keystore PASSWORD</p>
<pre>[zimbra@oldserver ~]$ zmlocalconfig -s mailboxd_keystore_password
mailboxd_keystore_password = oldpassword</pre>
<pre>zimbra@mail:~$ zmlocalconfig -e mailboxd_keystore_password=oldpassword ← use oldpassword</pre>
<p>COPY smtp,ldap,nginx CERTIFICATE and KEY from OLD to NEW server</p>
<pre>
# scp /opt/zimbra/conf/smtpd.crt mail:/opt/zimbra/conf/smtpd.crt
# scp /opt/zimbra/conf/smtpd.key mail:/opt/zimbra/conf/smtpd.key
# scp /opt/zimbra/conf/slapd.* mail:/opt/zimbra/conf/
# scp /opt/zimbra/conf/nginx.* mail:/opt/zimbra/conf/
</pre>
<p>COPY ZIMLETS FROM OLD SERVER</p>
<pre>root@mail:~# scp -r root@oldserver:/opt/zimbra/zimlets-deployed/* /opt/zimbra/zimlets-deployed/</pre>
<p>FIX PERMISSION as root</p>
<pre>root@mail:~# chown -R zimbra.zimbra /opt/zimbra
root@mail:~# /opt/zimbra/libexec/zmfixperms</pre>
<p>Start ZIMBRA 7.2.1 on NEW SERVER</p>
<pre>zimbra@mail:~$ zmcontrol start</pre>
<p><strong>FIX ERRORS</strong></p>
<p>ERROR 1</p>
<p>Host mail.domain.tld<br />
Starting ldap...Done.<br />
Unable to determine enabled services from ldap.<br />
Enabled services read from cache. Service list may be inaccurate.<br />
Starting zmconfigd...Done.<br />
Starting logger...Failed.</p>
<p>Starting logswatch...ERROR: service.FAILURE (system failure: ZimbraLdapContext) (cause: javax.net.ssl.SSLHandshakeException sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed)</p>
<p>zimbra logger service is not enabled! failed.<br />
Starting mailbox...Done.<br />
Starting antispam...Done.<br />
Starting antivirus...Failed.<br />
Starting amavisd...Config file "/opt/zimbra/conf/amavisd.conf" does not exist, at /opt/zimbra/amavisd/sbin/amavisd line 1799.<br />
failed.</p>
<p>Starting freshclam...done.<br />
Starting clamd...ERROR: Can't open/parse the config file /opt/zimbra/conf/freshclam.conf<br />
failed.<br />
Starting snmp...Done.<br />
Starting spell...Done.<br />
Starting mta...Failed.<br />
Starting saslauthd...saslauthd[8646] :set_auth_mech : failed to initialize mechanism zimbra</p>
<p>failed.<br />
zmsaslauthdctl failed to start<br />
Starting stats...Done.</p>
<p>SOLUTION 1</p>
<pre>
[root@oldserver ~]# scp /opt/zimbra/conf/amavisd.conf mail:/opt/zimbra/conf/
[root@oldserver ~]# scp /opt/zimbra/conf/freshclam.conf mail:/opt/zimbra/conf/
root@mail:~# /opt/zimbra/libexec/zmfixperms ← fix permission
</pre>
<p>ERROR 2</p>
<p>Starting logswatch...ERROR: service.FAILURE (system failure: ZimbraLdapContext) (cause: javax.net.ssl.SSLHandshakeException sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: signature check failed)<br />
zimbra logger service is not enabled!  Failed.</p>
<p>SOLUTION 2</p>
<p>CREATE CERTIFICATES</p>
<p><code></code></p>
<pre># sh reg-ssl-zimbra.sh ← run script as root

script to regenerate certificate
***********************************************************************************
#!/bin/bash
################################################################################################################
# Regenerate SSL Cert
################################################################################################################
su - zimbra -c 'zmcontrol stop'
rm -rf /opt/zimbra/ssl/*
rm -rf /opt/zimbra/ssl/.rnd
/opt/zimbra/java/bin/keytool -delete -alias my_ca -keystore /opt/zimbra/java/jre/lib/security/cacerts -storepass changeit
/opt/zimbra/java/bin/keytool -delete -alias jetty -keystore /opt/zimbra/mailboxd/etc/keystore -storepass `su - zimbra -c 'zmlocalconfig -s -m nokey mailboxd_keystore_password'`
vi  /opt/zimbra/bin/zmcertmgr

# Find line 
# SUBJECT="/C=US/ST=N\/A/L=N\/A/O=Zimbra Collaboration Suite/OU=Zimbra Collaboration Suite/CN=${zimbra_server_hostname}" 
# and change to your company name

# then find and change you want value days expire cert validation_days=365 to validation_days=3650
# save /opt/zimbra/bin/zmcertmgr

/opt/zimbra/bin/zmcertmgr createca -new
/opt/zimbra/bin/zmcertmgr deployca -localonly
/opt/zimbra/bin/zmcertmgr createcrt self -new
/opt/zimbra/bin/zmcertmgr deploycrt self

su - zimbra -c 'zmcontrol start'

/opt/zimbra/bin/zmcertmgr deploycrt self
/opt/zimbra/bin/zmcertmgr deployca

su - zimbra -c 'zmupdateauthkeys'
/opt/zimbra/bin/zmcertmgr viewdeployedcrt
### End Script **********************************************************************</pre>
<p>......</p>
<p>Host mail.domain.tld<br />
Starting ldap...Done.<br />
Starting zmconfigd...Done.<br />
Starting logger...Done.<br />
Starting mailbox...Done.<br />
Starting antispam...Done.<br />
Starting antivirus...Done.<br />
Starting snmp...Done.<br />
Starting spell...Done.<br />
Starting mta...Done.<br />
Starting stats...Done.</p>
<p>** Saving server config key zimbraSSLCertificate...done.<br />
** Saving server config key zimbraSSLPrivateKey...done.<br />
** Installing mta certificate and key...done.<br />
** Installing slapd certificate and key...done.<br />
** Installing proxy certificate and key...done.<br />
** Creating pkcs12 file /opt/zimbra/ssl/zimbra/jetty.pkcs12...done.<br />
** Creating keystore file /opt/zimbra/mailboxd/etc/keystore...done.<br />
** Installing CA to /opt/zimbra/conf/ca...done.<br />
** Importing CA /opt/zimbra/ssl/zimbra/ca/ca.pem into CACERTS...done.<br />
** Saving global config key zimbraCertAuthorityCertSelfSigned...done.<br />
** Saving global config key zimbraCertAuthorityKeySelfSigned...done.<br />
** Copying CA to /opt/zimbra/conf/ca...done.<br />
Updating keys for mail.domain.tld<br />
Fetching key for mail.domain.tld<br />
Updating keys for mail.domain.tld<br />
Updating /opt/zimbra/.ssh/authorized_keys</p>
<p>::service mta::</p>
<p>notBefore=Sep 30 13:19:52 2012 GMT<br />
notAfter=Sep 29 13:19:52 2017 GMT<br />
subject= /C=US/ST=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
issuer= /C=US/ST=N/A/L=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
SubjectAltName=</p>
<p>::service proxy::</p>
<p>notBefore=Sep 30 13:19:52 2012 GMT<br />
notAfter=Sep 29 13:19:52 2017 GMT<br />
subject= /C=US/ST=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
issuer= /C=US/ST=N/A/L=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
SubjectAltName=</p>
<p>::service mailboxd::</p>
<p>notBefore=Sep 30 13:19:52 2012 GMT<br />
notAfter=Sep 29 13:19:52 2017 GMT<br />
subject= /C=US/ST=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
issuer= /C=US/ST=N/A/L=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
SubjectAltName=</p>
<p>::service ldap::</p>
<p>notBefore=Sep 30 13:19:52 2012 GMT<br />
notAfter=Sep 29 13:19:52 2017 GMT<br />
subject= /C=US/ST=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
issuer= /C=US/ST=N/A/L=N/A/O=ClickME/OU=IT/CN=mail.domain.tld<br />
SubjectAltName=</p>
<p>ERROR 3</p>
<p>Message: system failure: Cannot WRITE index directory (mailbox=6 idxPath=/opt/zimbra/index/0/6/index/0) Error code: service.FAILURE Method: [unknown] Details:soap:Receiver</p>
<p>SOLUTION 3</p>
<pre># chown -R zimbra.zimbra /opt/zimbra
# /opt/zimbra/libexec/zmfixperms</pre>
<p>ERROR 4</p>
<p>Click to MAILQUEUE on WEB CONSOLE produce:</p>
<p>Message: system failure: exception during auth {RemoteManager: mail.domain.tld-&gt;zimbra@mail.domain.tld:22} Error code: service.FAILURE Method: [unknown] Details:soap:Receiver</p>
<p>Message: system failure: exception during auth {RemoteManager: mail.domain.tld-&gt;zimbra@mail.domain.tld:22} Error code: service.FAILURE Method: [unknown] Details:soap:Receiver</p>
<p>SOLUTION 4 ???</p>
<p>zimbra@mail:~$ zmprov ms mail.domain.tld zimbraRemoteManagementPort 22</p>
<p>PROBABLY INTERFACES FILE !!!!</p>
<p>There was no gateway in /etc/network/interfaces</p>
<p>add gateway 192.168.1.1</p>
<p>After I changed interfaces file, restart network with</p>
<p># service networking restart</p>
<p>Pay attention at hosts file !!!</p>
<pre>zimbra@mail:~$ cat /etc/hosts
127.0.0.1      localhost
192.168.1.X    mail.domain.tld   mail</pre>
<p>NOW everything works fine.</p>
<p>Test MAIL SERVER by sending and receiving mail.</p>
<p><strong>4. UPGRADE TO ZIMBRA 8.0</strong></p>
<p>Download new Zimbra</p>
<pre># wget http://files2.zimbra.com/downloads/8.0.0_GA/zcs-8.0.0_GA_5434.UBUNTU10_64.20120907144627.tgz</pre>
<p>Unpack ...</p>
<pre># tar xvzf zcs-8.0.0_GA_5434.UBUNTU10_64.20120907144627.tgz </pre>
<p>Install zimbra ... </p>
<pre># cd zcs-8.0.0_GA_5434.UBUNTU10_64.20120907144627
# screen ./install.sh</pre>
<p>….</p>
<p>Starting mysql...done.<br />
ERROR 1133 (42000) at line 2: Can't find any matching row in the user table<br />
ERROR 1396 (HY000) at line 1: Operation DROP USER failed for ''@'mail'</p>
<p><strong><i>Zimbra 8.0 now works. 🙂</i></strong></p>
<p>Check running SERVICES;</p>
<pre># netstat -tupane | less

tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 0 105652 23807/sshd
tcp 0 0 0.0.0.0:25 0.0.0.0:* LISTEN 0 310009 19028/master
tcp 0 0 0.0.0.0:443 0.0.0.0:* LISTEN 0 321441 23103/java
tcp 0 0 0.0.0.0:7071 0.0.0.0:* LISTEN 0 321442 23103/java
tcp 0 0 0.0.0.0:7072 0.0.0.0:* LISTEN 0 321443 23103/java
tcp 0 0 0.0.0.0:993 0.0.0.0:* LISTEN 0 321436 23103/java
tcp 0 0 0.0.0.0:995 0.0.0.0:* LISTEN 0 321432 23103/java
</pre>
<p>Setup a FIREWALL:</p>
<pre># ufw allow proto tcp from 192.168.1.0/24 to any port 22
# ufw allow proto tcp from 192.168.1.0/24 to any port 7071
# ufw allow proto tcp from 192.168.1.0/24 to any port 7072
# ufw allow proto tcp from any to any port 25
# ufw allow proto tcp from any to any port 443
# ufw allow proto tcp from any to any port 993
# ufw enable
# ufw logging on
</pre>
<p>HELP from Zimbra wiki:</p>
<p>http://wiki.zimbra.com/wiki/Platform_and_OS_Independent_ZCS_to_ZCS_Migration_Using_Rsync<br />
http://wiki.zimbra.com/wiki/Network_Edition:_Moving_from_32-bit_to_64-bit_Server<br />
http://wiki.zimbra.com/wiki/Server_Live_sync</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a>, <a href="https://blog.spanger.org/?cat=31" rel="category">Zimbra</a> and tagged <a href="https://blog.spanger.org/?tag=centos" rel="tag">centos</a>, <a href="https://blog.spanger.org/?tag=migration" rel="tag">migration</a>, <a href="https://blog.spanger.org/?tag=ubuntu" rel="tag">Ubuntu</a>, <a href="https://blog.spanger.org/?tag=zimbra-7" rel="tag">Zimbra 7</a>, <a href="https://blog.spanger.org/?tag=zimbra-8" rel="tag">zimbra 8</a> on <a href="https://blog.spanger.org/?p=1168" title="5:13 pm" rel="bookmark"><time class="entry-date" datetime="2012-10-01T17:13:15+01:00">01/10/2012</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
	<article id="post-1138" class="post-1138 post type-post status-publish format-standard hentry category-linux-stuff tag-bigger-drive tag-failed-drive tag-fdisk tag-mdadm tag-raid-1">
				<header class="entry-header">
			
						<h1 class="entry-title">
				<a href="https://blog.spanger.org/?p=1138" rel="bookmark">replace failed disk in raid 1</a>
			</h1>
										<div class="comments-link">
					<a href="https://blog.spanger.org/?p=1138#comments">2 Replies</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<p>SCENARIO:</p>
<p>OS: linux debian 6</p>
<p>Software Raid: raid 1 created with mdadm</p>
<p>Failed drive: sata drive (/dev/sda) of size 500Gb</p>
<p>New drive: same size or bigger sata drive. In my case 1Tb sata drive</p>
<p>WHAT TO DO:</p>
<p>1. Shutdown server,<br />
2. Replace failed disk,<br />
3. Start server,<br />
4. Rebuild Raid 1,<br />
5. Update grub.</p>
<p>LOOK FOR WORKING DISK</p>
<p>With fdisk I looked how is active disk in Raid 1 configured.</p>
<pre>
<code>root@server:~# fdisk /dev/sdb </code>
<code>Command (m for help): p </code>

<code>Device Boot Start End Blocks Id System </code>
<code>/dev/sdb1 * 1 13 104391 fd Linux raid autodetect </code>
<code>/dev/sdb2 14 293 2249100 fd Linux raid autodetect </code>
<code>/dev/sdb3 294 60801 486030510 fd Linux raid autodetec </code></pre>
<p>I used fdisk to create same size raid partitions on new disk:</p>
<p>PREPARE NEW DISK</p>
<pre><code># fdisk /dev/sda</code>
n p 1 
n p 2
n p 3

n - new partition
p - primary partition
t - type of partition (used fd (Linux raid) for all 3 partitions on disk /dev/sda)
a - add bootable flag to first partition
w - write changes to disk</pre>
<p>REBUILD RAID 1 with MDADM:</p>
<pre><code># mdadm /dev/md0 -a /dev/sda1 </code></pre>
<p>NEW DISK:</p>
<pre><code>root@server:~# fdisk /dev/sda </code>
<code>Command (m for help): p </code>
<code>Device Boot Start End Blocks Id System </code>
<code>/dev/sda1 * 1 13 104391 fd Linux raid autodetect </code>
<code>/dev/sda2 14 293 2249100 fd Linux raid autodetect </code>
<code>/dev/sda3 294 60801 486030510 fd Linux raid autodetect </code></pre>
<p>BUILDING RAID 1:</p>
<pre>
<code>root@server:~# cat /proc/mdstat </code>
<code>Personalities : [raid1] </code>
<code>md2 : active raid1 sda3[2] sdb3[1] 486030400 blocks [2/1] [_U] [==&gt;..................] recovery = 14.0% (68114752/486030400) finish=147.5min speed=47214K/sec </code>
<code>md1 : active raid1 sda2[0] sdb2[1] 2249024 blocks [2/2] [UU] </code>
<code>md0 : active raid1 sda1[0] sdb1[1] 104320 blocks [2/2] [UU] </code>
<code>unused devices: </code></pre>
<p>ALL DISKS UP AND RUNNING</p>
<pre>
<code>root@server:~# cat /proc/mdstat Personalities : [raid1] </code>
<code>md2 : active raid1 sda3[0] sdb3[1] 486030400 blocks [2/2] [UU] </code>
<code>md1 : active raid1 sda2[0] sdb2[1] 2249024 blocks [2/2] [UU] </code>
<code>md0 : active raid1 sda1[0] sdb1[1] 104320 blocks [2/2] [UU] </code>
<code>unused devices: </code></pre>
<p>UPDATE CONFIGURATION</p>
<pre><code># mdadm --examine --scan &gt; /etc/mdadm.conf</code></pre>
<p>GRUB INSTALL/UPDATE ON NEW DISK</p>
<pre>
<code># grub-install /dev/sda </code>
<code># update-grub /dev/sda </code></pre>
<p>Example of howto remove a failed disk from array:</p>
<pre>
<code># mdadm --fail /dev/md0 /dev/sdb3</code>
<code># mdadm --remove /dev/md0 /dev/sdb3 </code></pre>
<p>IF PROBLEMS WITH update-grub &#8230; update-grub failed with no such disk &#8230; </p>
<p>SOLUTION </p>
<pre><code># mv /boot/grub/device.map /boot/grub/device.map.old </code>
<code># update-grub </code></pre>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="https://blog.spanger.org/?cat=6" rel="category">Linux stuff</a> and tagged <a href="https://blog.spanger.org/?tag=bigger-drive" rel="tag">bigger drive</a>, <a href="https://blog.spanger.org/?tag=failed-drive" rel="tag">failed drive</a>, <a href="https://blog.spanger.org/?tag=fdisk" rel="tag">fdisk</a>, <a href="https://blog.spanger.org/?tag=mdadm" rel="tag">mdadm</a>, <a href="https://blog.spanger.org/?tag=raid-1" rel="tag">raid 1</a> on <a href="https://blog.spanger.org/?p=1138" title="6:34 am" rel="bookmark"><time class="entry-date" datetime="2012-09-30T06:34:23+01:00">30/09/2012</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="https://blog.spanger.org/?author=2" title="View all posts by alo" rel="author">alo</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
			
						<nav id="nav-below" class="navigation" role="navigation">
				<h3 class="assistive-text">Post navigation</h3>
				<div class="nav-previous"><a href="https://blog.spanger.org/?paged=2" ><span class="meta-nav">&larr;</span> Older posts</a></div>
				<div class="nav-next"></div>
			</nav><!-- .navigation -->
			
		
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary">
			<aside id="search-11" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="https://blog.spanger.org/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form></aside><aside id="tag_cloud-5" class="widget widget_tag_cloud"><h3 class="widget-title">Tags</h3><div class="tagcloud"><ul class='wp-tag-cloud' role='list'>
	<li><a href="https://blog.spanger.org/?tag=64bit" class="tag-cloud-link tag-link-14 tag-link-position-1" style="font-size: 8pt;" aria-label="64bit (1 item)">64bit</a></li>
	<li><a href="https://blog.spanger.org/?tag=activation" class="tag-cloud-link tag-link-63 tag-link-position-2" style="font-size: 14.3pt;" aria-label="activation (2 items)">activation</a></li>
	<li><a href="https://blog.spanger.org/?tag=adobe-reader" class="tag-cloud-link tag-link-47 tag-link-position-3" style="font-size: 8pt;" aria-label="Adobe Reader (1 item)">Adobe Reader</a></li>
	<li><a href="https://blog.spanger.org/?tag=arch-linux" class="tag-cloud-link tag-link-143 tag-link-position-4" style="font-size: 14.3pt;" aria-label="arch linux (2 items)">arch linux</a></li>
	<li><a href="https://blog.spanger.org/?tag=backup" class="tag-cloud-link tag-link-82 tag-link-position-5" style="font-size: 14.3pt;" aria-label="backup (2 items)">backup</a></li>
	<li><a href="https://blog.spanger.org/?tag=centos" class="tag-cloud-link tag-link-95 tag-link-position-6" style="font-size: 14.3pt;" aria-label="centos (2 items)">centos</a></li>
	<li><a href="https://blog.spanger.org/?tag=change-guest-configuration" class="tag-cloud-link tag-link-29 tag-link-position-7" style="font-size: 8pt;" aria-label="change guest configuration (1 item)">change guest configuration</a></li>
	<li><a href="https://blog.spanger.org/?tag=cisco-2" class="tag-cloud-link tag-link-79 tag-link-position-8" style="font-size: 22pt;" aria-label="cisco (4 items)">cisco</a></li>
	<li><a href="https://blog.spanger.org/?tag=ddrescue" class="tag-cloud-link tag-link-13 tag-link-position-9" style="font-size: 8pt;" aria-label="ddrescue (1 item)">ddrescue</a></li>
	<li><a href="https://blog.spanger.org/?tag=debian-upgrade" class="tag-cloud-link tag-link-34 tag-link-position-10" style="font-size: 8pt;" aria-label="debian upgrade (1 item)">debian upgrade</a></li>
	<li><a href="https://blog.spanger.org/?tag=flash-usb-drive" class="tag-cloud-link tag-link-17 tag-link-position-11" style="font-size: 8pt;" aria-label="flash usb drive (1 item)">flash usb drive</a></li>
	<li><a href="https://blog.spanger.org/?tag=flv-to-mp3" class="tag-cloud-link tag-link-27 tag-link-position-12" style="font-size: 8pt;" aria-label="flv to mp3 (1 item)">flv to mp3</a></li>
	<li><a href="https://blog.spanger.org/?tag=gnome-panel-reset" class="tag-cloud-link tag-link-36 tag-link-position-13" style="font-size: 8pt;" aria-label="gnome panel reset (1 item)">gnome panel reset</a></li>
	<li><a href="https://blog.spanger.org/?tag=gpo" class="tag-cloud-link tag-link-49 tag-link-position-14" style="font-size: 8pt;" aria-label="gpo (1 item)">gpo</a></li>
	<li><a href="https://blog.spanger.org/?tag=hdiutil" class="tag-cloud-link tag-link-42 tag-link-position-15" style="font-size: 8pt;" aria-label="hdiutil (1 item)">hdiutil</a></li>
	<li><a href="https://blog.spanger.org/?tag=linux" class="tag-cloud-link tag-link-44 tag-link-position-16" style="font-size: 18.5pt;" aria-label="linux (3 items)">linux</a></li>
	<li><a href="https://blog.spanger.org/?tag=manage-multiple-pc" class="tag-cloud-link tag-link-45 tag-link-position-17" style="font-size: 8pt;" aria-label="manage multiple pc (1 item)">manage multiple pc</a></li>
	<li><a href="https://blog.spanger.org/?tag=md" class="tag-cloud-link tag-link-50 tag-link-position-18" style="font-size: 8pt;" aria-label="md (1 item)">md</a></li>
	<li><a href="https://blog.spanger.org/?tag=mount-shared-folders" class="tag-cloud-link tag-link-19 tag-link-position-19" style="font-size: 8pt;" aria-label="mount shared folders (1 item)">mount shared folders</a></li>
	<li><a href="https://blog.spanger.org/?tag=msi" class="tag-cloud-link tag-link-48 tag-link-position-20" style="font-size: 8pt;" aria-label="msi (1 item)">msi</a></li>
	<li><a href="https://blog.spanger.org/?tag=mysql" class="tag-cloud-link tag-link-22 tag-link-position-21" style="font-size: 14.3pt;" aria-label="mysql (2 items)">mysql</a></li>
	<li><a href="https://blog.spanger.org/?tag=ntfs" class="tag-cloud-link tag-link-43 tag-link-position-22" style="font-size: 8pt;" aria-label="ntfs (1 item)">ntfs</a></li>
	<li><a href="https://blog.spanger.org/?tag=recovery" class="tag-cloud-link tag-link-12 tag-link-position-23" style="font-size: 8pt;" aria-label="recovery (1 item)">recovery</a></li>
	<li><a href="https://blog.spanger.org/?tag=registeredorganization" class="tag-cloud-link tag-link-38 tag-link-position-24" style="font-size: 8pt;" aria-label="RegisteredOrganization (1 item)">RegisteredOrganization</a></li>
	<li><a href="https://blog.spanger.org/?tag=registeredowner" class="tag-cloud-link tag-link-37 tag-link-position-25" style="font-size: 8pt;" aria-label="RegisteredOwner (1 item)">RegisteredOwner</a></li>
	<li><a href="https://blog.spanger.org/?tag=rescue" class="tag-cloud-link tag-link-16 tag-link-position-26" style="font-size: 8pt;" aria-label="rescue (1 item)">rescue</a></li>
	<li><a href="https://blog.spanger.org/?tag=reset-root-password" class="tag-cloud-link tag-link-40 tag-link-position-27" style="font-size: 8pt;" aria-label="reset root password (1 item)">reset root password</a></li>
	<li><a href="https://blog.spanger.org/?tag=snow-leopard" class="tag-cloud-link tag-link-15 tag-link-position-28" style="font-size: 18.5pt;" aria-label="snow leopard (3 items)">snow leopard</a></li>
	<li><a href="https://blog.spanger.org/?tag=snow-leopard-dns-problems" class="tag-cloud-link tag-link-30 tag-link-position-29" style="font-size: 8pt;" aria-label="Snow Leopard DNS problems (1 item)">Snow Leopard DNS problems</a></li>
	<li><a href="https://blog.spanger.org/?tag=ssh" class="tag-cloud-link tag-link-46 tag-link-position-30" style="font-size: 14.3pt;" aria-label="ssh (2 items)">ssh</a></li>
	<li><a href="https://blog.spanger.org/?tag=systeminfo" class="tag-cloud-link tag-link-23 tag-link-position-31" style="font-size: 8pt;" aria-label="systeminfo (1 item)">systeminfo</a></li>
	<li><a href="https://blog.spanger.org/?tag=terminal" class="tag-cloud-link tag-link-41 tag-link-position-32" style="font-size: 14.3pt;" aria-label="terminal (2 items)">terminal</a></li>
	<li><a href="https://blog.spanger.org/?tag=ubuntu" class="tag-cloud-link tag-link-21 tag-link-position-33" style="font-size: 14.3pt;" aria-label="Ubuntu (2 items)">Ubuntu</a></li>
	<li><a href="https://blog.spanger.org/?tag=unable-to-mount-usb-drive" class="tag-cloud-link tag-link-39 tag-link-position-34" style="font-size: 8pt;" aria-label="unable to mount usb drive (1 item)">unable to mount usb drive</a></li>
	<li><a href="https://blog.spanger.org/?tag=upgrade" class="tag-cloud-link tag-link-65 tag-link-position-35" style="font-size: 14.3pt;" aria-label="upgrade (2 items)">upgrade</a></li>
	<li><a href="https://blog.spanger.org/?tag=video" class="tag-cloud-link tag-link-26 tag-link-position-36" style="font-size: 8pt;" aria-label="video (1 item)">video</a></li>
	<li><a href="https://blog.spanger.org/?tag=virsh" class="tag-cloud-link tag-link-28 tag-link-position-37" style="font-size: 8pt;" aria-label="virsh (1 item)">virsh</a></li>
	<li><a href="https://blog.spanger.org/?tag=virtualbox" class="tag-cloud-link tag-link-20 tag-link-position-38" style="font-size: 8pt;" aria-label="VirtualBox (1 item)">VirtualBox</a></li>
	<li><a href="https://blog.spanger.org/?tag=vlan" class="tag-cloud-link tag-link-101 tag-link-position-39" style="font-size: 14.3pt;" aria-label="vlan (2 items)">vlan</a></li>
	<li><a href="https://blog.spanger.org/?tag=vlc" class="tag-cloud-link tag-link-25 tag-link-position-40" style="font-size: 8pt;" aria-label="vlc (1 item)">vlc</a></li>
	<li><a href="https://blog.spanger.org/?tag=youtube" class="tag-cloud-link tag-link-24 tag-link-position-41" style="font-size: 8pt;" aria-label="youtube (1 item)">youtube</a></li>
	<li><a href="https://blog.spanger.org/?tag=zimbra-2" class="tag-cloud-link tag-link-53 tag-link-position-42" style="font-size: 14.3pt;" aria-label="zimbra (2 items)">zimbra</a></li>
	<li><a href="https://blog.spanger.org/?tag=zimbra-7" class="tag-cloud-link tag-link-66 tag-link-position-43" style="font-size: 14.3pt;" aria-label="Zimbra 7 (2 items)">Zimbra 7</a></li>
	<li><a href="https://blog.spanger.org/?tag=zimbra-restore" class="tag-cloud-link tag-link-33 tag-link-position-44" style="font-size: 8pt;" aria-label="zimbra restore (1 item)">zimbra restore</a></li>
	<li><a href="https://blog.spanger.org/?tag=zmstatd" class="tag-cloud-link tag-link-32 tag-link-position-45" style="font-size: 14.3pt;" aria-label="zmstatd (2 items)">zmstatd</a></li>
</ul>
</div>
</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
									<a href="https://wordpress.org/" class="imprint" title="Semantic Personal Publishing Platform">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We'll assume you're ok with this, but you can opt-out if you wish.<a  data-cli_action="accept" id="cookie_action_close_header"  class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Accept</a> <a href='http://blog.spanger.org' id="CONSTANT_OPEN_URL" target="_blank"  class="cli-plugin-main-link"  style="display:inline-block;" >Read More</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal" id="cliSettingsPopup" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="cli-modal-dialog" role="document">
    <div class="cli-modal-content cli-bar-popup">
      <button type="button" class="cli-modal-close" id="cliModalClose">
        <svg class="" viewBox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg>
      </button>
      <div class="cli-modal-body">
        <div class="cli-container-fluid cli-tab-container">
    <div class="cli-row">
        <div class="cli-col-12 cli-align-items-stretch cli-px-0">
            <div class="cli-privacy-overview">
                                <h4></h4>                                         
                <div class="cli-privacy-content">
                    <p class="cli-privacy-content-text"></p>
                </div>
                <a class="cli-privacy-readmore" data-readmore-text="Show more" data-readless-text="Show less"></a>            </div>
        </div>  
        <div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container">
            <div class="cli-tab-section cli-privacy-tab">
                <div class="cli-tab-header">
                    <a class="cli-nav-link cli-settings-mobile" >
                                            </a>
                </div>
                <div class="cli-tab-content">
                    <div class="cli-tab-pane cli-fade">
                        <p></p>
                    </div>
                </div>

            </div>
                            <div class="cli-tab-section">
                <div class="cli-tab-header">
                    <a class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab" >
                        Necessary 
                    </a>
                
                    <span class="cli-necessary-caption">Always Enabled</span>                 </div>
                <div class="cli-tab-content">
                    <div class="cli-tab-pane cli-fade" data-id="necessary">
                        <p></p>
                    </div>
                </div>
                </div>
                            <div class="cli-tab-section">
                <div class="cli-tab-header">
                    <a class="cli-nav-link cli-settings-mobile" data-target="non-necessary" data-toggle="cli-toggle-tab" >
                        Non-necessary 
                    </a>
                <div class="cli-switch">
                        <input type="checkbox" id="checkbox-non-necessary" class="cli-user-preference-checkbox" data-id="checkbox-non-necessary" checked />
                        <label for="checkbox-non-necessary" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled">Non-necessary</label>
                    </div>                </div>
                <div class="cli-tab-content">
                    <div class="cli-tab-pane cli-fade" data-id="non-necessary">
                        <p></p>
                    </div>
                </div>
                </div>
                       
        </div>
    </div> 
</div> 
      </div>
    </div>
  </div>
</div>
<div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":true,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":true,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script><script type='text/javascript' src='http://blog.spanger.org/wp-content/themes/twentytwelve/js/navigation.js?ver=20140711'></script>
<script type='text/javascript' src='http://blog.spanger.org/wp-includes/js/wp-embed.min.js?ver=5.2.2'></script>
</body>
</html>
