<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>Pentadactyl小记及心得 - 人生のチェックインポイントを見つければ - 博客大巴</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="keywords" content="博客中国,中国博客,我的博客,私人日志,博客大巴,图片博客,社会热点,观点,生活,旅行,影像,自由,表达,城客,记录,分享,看法自由报,新媒体,博客研究,播客,BSP,个人门户,免费博客,空间,博客申请,中文博客,Blog,Blogger,网络日志,自媒体,社交网络,小清新,文艺范儿">
<meta name="description" content="（本文写作用时一周 黑线）  不知道大家还记不记得firefox的一个超好用的插件——Vimperator呢？这个插件把具有vim风格的模态控制方式引入到firefox里，令用户只需要键盘就能控制firefox，在某种程度上还提高了效率。闲话休提，Vimperator后来有了个新的分支叫Pentadactyl，很多本来活跃在Vimperator项目的程序员都转到了P...">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://pchu.blogbus.com/index.rdf">
<link href="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/346251.css" rel="stylesheet" type="text/css">
<script src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/log.js" async="" charset="utf-8"></script><script>if (top.location != self.location) {top.location=self.location;}</script><script src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/jquery.js"></script><link rel="stylesheet" href="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/picobox.css" type="text/css"><link rel="stylesheet" href="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/picobox_beauty.css" type="text/css"><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/picobox.js"></script><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/picobox_beauty.js"></script><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/m.js"></script><script type="text/javascript">BAIDU_CLB_preloadSlots("452847","452844");</script><script charset="utf-8" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/ecom"></script><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/checkSpam.js"></script><!-- google analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3848793-5");
pageTracker._initData();
pageTracker._trackPageview();
</script>

<!-- snap_shots -->
<!--
<script type="text/javascript" src="http://shots.snap.com/ss/f929b7e41eb364c98f32d0c830087dfb/snap_shots.js"></script>
-->

<!-- 51.la -->
<script language="javascript" type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/2432878.js"></script></head><body><a href="http://www.51.la/?2432878" target="_blank"><img alt="51.la 专业、免费、强健的访问统计" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/icon_0.gif" style="border:none"></a>
<img style="width:0px;height:0px" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/go.html">
<noscript><a href="http://www.51.la/?2432878" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/2432878.asp" style="border:none" /></a></noscript>

<meta name="keywords" content="prépa,数学,天文,linux,firefox,法国,华附,pchu"><script type="text/javascript"> 
function inputFocus(){ 
 for(var i = 0; i < document.forms.length; i++){ 
  var form = document.forms[i]; 
  for(var t = 0; t < form.elements.length; t++){ 
   form.elements[t].onfocus = function(){ this.className += " focus"; } 
   form.elements[t].onblur = function(){ this.className = this.className.replace(/\bfocus\b/, ""); } 
  } 
 } 
}

if (window.addEventListener)
	window.addEventListener("load", inputFocus, false);
else if (window.attachEvent)
	window.attachEvent("onload", inputFocus);

var content_img_width = 550;
</script>

<script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/resize.js"></script>

<!--[if lte IE 6]>

	<style type="text/css">
	 /* ie png hack */

	#sidebar { background-image: none; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, 

src=http://public.blogbus.com/blogbus/skin/5137/dot.png, sizingMethod=scale); }


	#content{ background-image: none; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, 

src=http://public.blogbus.com/blogbus/skin/5137/content-bg.png, sizingMethod=scale); }

	</style>

<![endif]-->
<div id="wrapper">
<div id="detail">
	<div id="container">
		<div id="header">
			<h1 class="blogName"><a href="http://pchu.blogbus.com/" title="http://pchu.blogbus.com">人生のチェックインポイントを見つければ</a></h1>
			<div class="description">开往北落师门的公交车，累了就在片星云里躺了会儿</div>
			<div class="clear"></div>
		</div>
       <div id="innerContainer">
           <div class="innerTop"></div>
            <div id="outerContent">
                <div id="content">
                    <div class="contentTop"></div>
                        <ul id="posts">
				<div class="postsTop"></div>
				<div class="context"><span class="pre"><a href="http://pchu.blogbus.com/logs/82078327.html">&lt;&lt;&nbsp;&nbsp;I'll be back</a></span> | <span class="top"><a href="http://pchu.blogbus.com/">首 页</a></span> | <span class="next"><a href="http://pchu.blogbus.com/logs/148072395.html">我胡汉三又回来啦&nbsp;&nbsp;&gt;&gt;</a></span></div>
				<!--list-->
				<li>
					<div class="postHeader">
						<h2>Pentadactyl小记及心得</h2>
						<h3>2011-07-16</h3>

					</div>
					<div class="clear"></div>
					<div class="postBody">
						<p class="cc-lisence" style="line-height:180%;">
<a href="http://creativecommons.org/licenses/by/3.0/deed.zh" target="_blank">版权声明</a>：转载时请以超链接形式标明文章原始出处和作者信息及<a href="http://bangzhuzhongxin.blogbus.com/logs/11205960.html" target="_blank">本声明</a><br><a href="http://pchu.blogbus.com/logs/148008347.html">http://pchu.blogbus.com/logs/148008347.html</a><br><br>
</p><p><font face="Courier New">（本文写作用时一周 黑线）</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">不
知道大家还记不记得firefox的一个超好用的插件——Vimperator呢？这个插件把具有vim风格的模态控制方式引入到firefox里，令用
户只需要键盘就能控制firefox，在某种程度上还提高了效率。闲话休提，Vimperator后来有了个新的分支叫Pentadactyl，很多本来
活跃在Vimperator项目的程序员都转到了Pentadactyl项目里继续贡献代码，主要是人和的问题，Vimperator原本的
maintainer好几年没什么大贡献了，而他的管理又多少导致开发进度减缓，所以很多人就新开一个fork Pentadactyl了。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">Pentadactyl
大部分功能和操作方式都和Vimperator一样，不过也有人说Pentadactyl比Vimperator更加适合Firefox 
4，而且也更快。要把已有的Vimperator配置转移到Pentadactyl上，只需用:mkp[entadactylrc]生成一个
在%USERPROFILE%目录下的 _pentadactylrc（Windows下），或在$HOME目录下的 
.pentadactyl（*nix下），然后选择性地把旧配置文件里的东西移过去就是了。需要注意的是guioptions, 
autocomplete, editor等等几个选项有微妙的变化。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">首</font><font face="Courier New">先
要介绍的是Pentadactyl的global extend hint mode。旧的extend hint 
mode就是比如按下;s后，键入数字或者英文首字母匹配，Vimperator就会选中你所指的链接，执行save its 
destination动作，把链接目标保存到当前目录（请用:pwd命令查看，用:cd命令更改）；而;a则会弹出“目标另存为”提示窗口。如果当前页
有大量链接目标需要保存的话，就必须用这样的按键序
列：;s1&lt;CR&gt;;s2&lt;CR&gt;;s3&lt;CR&gt;;s4&lt;CR&gt;...（&lt;CR&gt;表示回
车）。而是用新的global extend hint 
mode的话，就只是：g;s1&lt;CR&gt;2&lt;CR&gt;3&lt;CR&gt;4&lt;CR&gt;...进入了这个模式后必须用
Esc退出，否则Pentadactyl会一直等待你输入目标hint。顺带一提，在Pentadactyl下;a不是弹出“目标另存为”窗口，而是
add a bookmark的功能。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">这
个功能曾经让中文世界使用者一度感到不友好，不过Vimperator开发途中已经有人写了用拼音首字母序列来匹配的插件。现在Pentadactyl化
之后，你可以把这里的 pinyin-hints-mod.js 放到%USERPROFILE%\pentadactyl\plugins\下面：</font></p> <p><a href="https://github.com/dangoakachan/Script-Sets/blob/master/Javascript/Pentadactyl/pinyin-hints-mod.js"><font face="Courier New">https://github.com/dangoakachan/Script-Sets/blob/master/Javascript/Pentadactyl/pinyin-hints-mod.js</font></a></p> <p><font face="Courier New">原版在这里</font></p> <p><a href="http://code.google.com/p/pinyin-hints-vimperator/"><font face="Courier New">http://code.google.com/p/pinyin-hints-vimperator/</font></a></p> <p><font face="Courier New">另外Vimperator的很多插件依旧能用，只不过load的时候会给出warning，比如后文提到的 walk-input.js 。大量的插件可以在这里找到：</font></p> <p><a href="https://github.com/vimpr/vimperator-plugins"><font face="Courier New">https://github.com/vimpr/vimperator-plugins</font></a></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">另外，hint mode的数字匹配其实也不一定要用数字的，比如你设定 :set hintkeys=asdfg;lkjh 的话，在hint mode下链接旁的标签就不是1, 2, 3而是s, d, f了。默认hintkeys=0123456789</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">然</font><font face="Courier New">后
关于变量类型和options接受的值，我感觉Pentadactyl比Vimperator澄清了不少。首先是boolean，比如高亮搜索匹配
hlfind项（相当于Vimperator的hls），允许的赋值有hlf/hlfind/nohlf/nohlfind四种，易见赋值等于参数名称本
身表示True，加个no在前面就表示False。然后是常见的number和string两种类型，比如history项储存的是命令行保存曾键入的命
令的行数，默认是记住500条命令。你可以键入:map然后按上箭头来回顾你曾键入的、以map开头的命令，像bash一样。其次还有charlist和
stringlist两种类型，前者如guioptions项，赋值的每一个字母都代表一个要包含进去的东西，不过字母的顺序一般并不重要。后者则是用逗
号分隔开的string，而string内部的逗号则要用转义符\,来表示，转义符\还会帮反斜杠、空格、半角单引号、半角双引号进行转义，即用\\表示
一个反斜杠自身，用\␣空格表示空格，等等。不过还有另一种写法，就是显式地用单引号或双引号来表示每一项string，引用的部分以外就是正常的逗号
了，只是单引号和双引号的作用是不同的。单引号表示literal 
interpretation，引住的部分无论是空格、反斜杠还是双引号都不会被表达成其他东西，而要是想表达一个单引号的话，则用两个单引号''表示。
至于双引号，则表示所引住的部分需要进行转义，用\\表示反斜杠自身，用\"表示一个双引号，用\n表示换行符，\t是制表符，\uXXXX表示
unicode码为XXXX（16位）的字符。同时可以用\, \' \空格 
这些分别表示,'空格，只不过这些字符没有转义的必要，直接写就可以，比如\a\c\d就会被解读成acd（\b貌似会转义成backspace符）。跟
不使用引号时的转义不同，使用双引号的话\n、\t会被转义，而不使用引号的话\n、\t只会被解读成n、t，后者只会进行最小限度的转义（包括逗号、反
斜杠、空格和引号）。不过无论用哪一种方式，表示分隔string项的逗号前后不能有天然的空格，比如a, b或a ,b，而必须写成a,b或a,' 
b'或a," b"这样。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">这些内容在Pentadactyl的本地帮助文件里有写：</font></p> <p><a href="dactyl://help/cmdline#cmdline-arguments"><font face="Courier New">dactyl://help/cmdline#cmdline-arguments</font></a></p> <p><a href="dactyl://help/options"><font face="Courier New">dactyl://help/options</font></a></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">我们看一个例子：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">set
 
nextpattern='(下|后)一?(页|頁|篇|章|张)|次のページ|次へ','^\bnext\b','\bnext\b','
\bsuivant\b','^(&gt;|›)$','^(&gt;&gt;|»)$','^(&gt;|»)','(&gt;|»)$','\bmore\b'</font></p> <p><font face="Courier New">这里用单引号来保持反斜杠不被转义掉，如果不用引号或者用双引号的话，\s就变成只剩下s了，然而\s是要作为一个整体给javascript的RegEx表达成“空白字符”的，不能在赋值阶段就搞没了。</font></p> <p><font face="Courier New">再看</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">set editor='C:\\Progra~2\\Notepa~1\\notepad++.exe -multiInst -nosession'</font></p> <p><font face="Courier New">同
样是用单引号，两个反斜杠都会被原样保存到editor参数里（可以用:set editor? 
查看）。这是因为Pentadactyl需要分开程序执行路径和运行时参数，这两者用空格分开，而文件路径中的空格则需要用\空格来表示，因此分开两者后
Pentadactyl会对前者进行一次转义以获得正确的路径。所以其实不用8.3短路径名也是可以的，要写成</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">'C:\\Program\ Files\ (x86)\\Notepad++\\notepad++.exe -multiInst -nosession'</font></p> <p><font face="Courier New">这里Program\ Files\ (x86)的反斜杠会保证Pentadactyl不在这个位置割开而当后面的部分是运行时参数。（BTW，在Windows命令行下用dir /x可以获得8.3短路径名。）而如果不用引号就要写成</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">C:\\\\Progra~2\\\\Notepa~1\\\\notepad++.exe\ -multiInst\ -nosession</font></p> <p><font face="Courier New">顺带一提，:cd命令不需要这么臃肿，接受单个反斜杠表示目录路径，如:cd C:\Users\Username\Documents，而且可以用~表示%USERPROFILE%或$HOME。不过在Vimperator里曾经是使用斜杠（/）而不是反斜杠（\）的。</font></p> <p><font face="Courier New">还
有其他的类型，如regexplist和sitelist是跟stringlist类似的，不过对于不符合格式的取值会给出警告。事实上上面的
nextpattern就是regexplist的例子。还有的类型叫stringmap, 
regexpmap和sitemap，就是形如key:val,foo:bar这样类似于python 
dictionary类型的东西，用于把每种匹配的情况对应一种处理方式。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">虽
然前面说了:cd命令可以直接接受单个反斜杠，而不会被转义，但一般在command-line 
mode下使用字符串（而不同于:set给参数赋值），都必须用引号（像普通程序语句一样），但貌似都会自动当做双引号（即强制转义）处理，和
javascript默认一样。从而你键入:echo '\u9999'和:echo 
"\u9999"得到的都是“香”字。调用javascript的话:js var tmp='\u9999'+"\u9999"然后再:echo 
tmp或者:js alert(tmp)或者:js dactyl.echo(tmp)都会得到“香香”，两者都转义了。而如果是:set 
hf='\u9999'再用:set hf?查看的话，得到的是未转义的'\u9999'哟。测试完请用:set 
hf&amp;调回默认值。这一招可以用来简易查询unicode码表。因而还可以用类似</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">:echo encodeURIComponent("www.domain.com/query.php?name=凉拌苦瓜的忧郁&amp;type=light_novel")</font></p> <p><font face="Courier New">或
者decodeURIComponent()、encodeURI()、decodeURI()、escape()、unescape()来转换普通文本
和百分号编码（注意函数名大小写敏感）。当然这里是三种相近但不同的编码方式，escape会把unicode字符值超过255的用%uXXXX来编码，
而URI和URIComponent则是用%XX%YY%ZZ这样，另外URI不编码~!*()'@#$&amp;=:/,;?+，而
URIComponent仅仅不编码~!*()'。此外需要一提的是百度处理字符串默认使用的是GBK2312编码而不是UTF-8，所以每个中文字会变
成%XX%YY两位，而不是这里介绍的几个函数转成的%XX%YY%ZZ。这也是为什么当网页地址含有百分号编码时，Firefox一般能在地址栏显示对
应的Unicode字符（比如直接在地址栏显示中文），然而（譬如）在百度贴吧，Firefox地址栏显示的仍然是百分号编码。同样的，你可以在
Firefox地址栏手动写 http://zh.wikipedia.org/zh-cn/ 
后面打中文，这样也能正确进入维基页面，然而若是在地址栏写 http://tieba.baidu.com/f?kw= 
后面打中文，你就等着看乱码吧。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">再</font><font face="Courier New">说
说以前Vimperator貌似没有的text edit mode，方法是先进入某个文本框的insert 
mode，再按下&lt;C-t&gt;。咦？打开新分页了？如果你有这种疑惑，说明你和我一样把&lt;C-t&gt;按键在n,v,i,c,t全部模
式下都映射到&lt;Pass&gt;了，毕竟在写字的时候突然想开新分页查东西的事也经常会有。我text edit 
mode用得少，所以要用的时候就&lt;A-b&gt;&lt;C-t&gt;，这样&lt;C-t&gt;按键就传给Pentadactyl按照默认
方式（即忽视用户的按键映射）处理了，跟把按键直接传给Firefox处理的Pass-through模式不同。text edit 
mode存在的目的是给用户一个类似于vim的文本编辑环境，可以用dw, u, y, 
p之类进行编辑，只不过真的很简陋，dw之后不能p回来，只能y（没有Y）了才能p（没有P），d$也受文本框限制只能删到该行结尾，而不是真正意义上的
行尾。这么麻烦，还不如调用外部编辑器，也就是在insert mode或text edit 
mode下按&lt;C-i&gt;，则会调用editor参数定义的编辑器，比如上方我举过的例子就会调出notepad++（单独的
session），编辑完内容后Ctrl+s保存一下关掉notepad++（仅仅那个单独的实例就够了），Pentadactyl就会根据你所编辑的临
时文件的内容更新文本框。说到进入insert 
mode，一般做法都是鼠标点击文本框，又或者使用[count]gi进入前[count]个文本框。如果页面有多个文本框的话，一般就需要gi看看是不
是想进入的那个，错了就&lt;Esc&gt;退出再试2gi，错了就&lt;Esc&gt;3gi……为了简化这些动作，你可以使用walk-
input.js插件，这样就能在一个文本框内部通过&lt;M-i&gt;或&lt;A-i&gt;直接跳转到下一个文本框内部了。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">除</font><font face="Courier New">了
新功能我也很想提一下以前一直没完全搞清楚的quick marks, local marks和url 
marks。三者的共同点是用一个按键+一个数字/字母来mark，然后用一两个按键+那个数字/字母来recall，而且三者都不会因为退出
Firefox而丢失。quick 
marks很像普通bookmark，作用是mark住一个网页，然后用go在当前标签页打开或用gn在新标签页打开。url 
marks就强一些，是mark住一个网页的一个滚动位置，然后用'叫出来的时候，如果那页面已经打开则会转到那个标签页的指定位置，如果还没有该页面则
于新标签页打开并滚动到指定位置。最后local 
marks只会在单个页面内的不同位置跳转，但不同页面里同一个记号指定的是不同的位置，比如在页面1按'a会到页面顶端，而在页面2按'a则可能会到底
部。url mark和local mark都使用'来跳转，只不过'a-z的话是local mark，'A-Z的话是url 
mark。此外还有个特殊而且使用的local mark，按''的话会跳转到“上一个位置”，指Firefox上一个单方向页面滚动前的位置。url 
mark和local mark用的mark和recall的按键是m和'，所以很自然会猜quick mark应该用M和"才对。事实上quick 
mark居然使用gn和go……所以我设置了:noremap \" gn</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">玩</font><font face="Courier New">Pentadactyl，
免不了会遇到“怎样设置自动把个别按键交由Firefox本身处理”的问题，比如在gmail网页总是会想使用gmail自己的jk移动。这个问题的答案
只有三个人知道，一个是我，一个是鹿目圆（神），还有一个我不能说……说笑的啦……这个问题至少有四种解法。第一是用Vimperator沿袭下来的
feedSomeKey.js脚本，下略。第二种是Pentadactyl的新功能，使用方式例如：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">:set passkeys+=mail.google.com:jk/&lt;CR&gt;,gi,another.domain.com:hjkl,gt,gT</font></p> <p><font face="Courier New">这
是一个sitemap类型的参数，第一项用RegEx匹配的域名，冒号之后是charlist（即jk/&lt;CR&gt;），其中每个按键都会被
pass掉，逗号之后是stringlist（即gi），里面每一项都会被pass掉。第三种做法是用autocmd在每次LocationChange
事件发生是判断域名并修改mapping或直接进入Pass-through</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">:autocmd LocationChange '^https?://(www|mail)\.google\.com/' :normal! &lt;C-z&gt;</font></p> <p><font face="Courier New">当
此RegEx匹配到了域名时，就执行:normal! &lt;C-z&gt;，其作用是在command-line mode伪装出一个在normal
 mode下按&lt;C-z&gt;、而且忽视用户的mapping的按键event，跟:feedkeys! -mode n 
&lt;C-z&gt;效果一样。feedkey就是专门在command-line mode伪装按键event使用的，例如-js if 
(condition) dactyl.execute(":feedkey -mode v 
"+keystroke)这样。第四种方法是用group来进行更精细的调整，如：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">group google -loc reader.google.com</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map j &lt;Pass&gt;</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map k &lt;Pass&gt;</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map / &lt;Pass&gt;</font></p> <p><font face="Courier New">这些按键映射就是变成唯独在reader.google.com才会使用的了。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">其他有用的小技巧，我下面会从我的配置文件_pentadactylrc里选一些来讲。</font></p> <p><font face="Courier New" size="6">为</font><font face="Courier New">了易用性，我加了这些按键映射：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map -m n h gT</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map -m n l -builtin &lt;C-n&gt;</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map -m n w gT</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map -m n e -builtin &lt;C-n&gt;</font></p> <p><font face="Courier New">除了用h和l表示左右标签页跳转，也用了w和e，适合左手键盘右手鼠标的配置。同时映射到&lt;C-n&gt;上而不是gt，这样3e就表示往右三个标签页，而不是“第三个”标签页了。如果真需要跳转到第&lt;n&gt;个标签页的时候，就用&lt;n&gt;b吧。</font></p> <p><font face="Courier New">此外我把&lt;C-n&gt;和&lt;C-N&gt;也都映射掉了，变成gb和gB的意思。这样一来buffer搜索用b引发，用&lt;C-n&gt;和&lt;C-N&gt;跳转下一个/上一个，这就跟页面内搜索用"/"引发而用n和N跳转非常类似，易于记忆了。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">还</font><font face="Courier New">有我在 wanpeng.xxpp.ca 看到一个很不错的技术性映射：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map
 t -js content.getSelection().toString()!=""?dactyl.execute(":tabopen "+
 content.getSelection()):CommandExMode().open("tabopen ")</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map o -js content.getSelection().toString()!=""?dactyl.execute(":open "+ content.getSelection()):CommandExMode().open("open ")</font></p> <p><font face="Courier New">经过我的改良，现在我使用的是：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map
 t -js str=util.domToString(buffer.focusedFrame.getSelection()); 
str!=""?dactyl.open(str, {where: 
dactyl.NEW_TAB}):CommandExMode().open("tabopen ")</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map
 o -js str=util.domToString(buffer.focusedFrame.getSelection()); 
str!=""?dactyl.open(str, {where: 
dactyl.CURRENT_TAB}):CommandExMode().open("open ")</font></p> <p><font face="Courier New">这
样的效果是如果选择了一段文字再按下t键或o键的话，直接在新标签页或当前标签页打开所选文字，实在非常方便。对于我这个javascript半小白来
说，要改良原先的mapping来实现我想要的效果实在是一路辛酸，翻查Pentadactyl代码，寻找某些功能背后调用的函数。如果页面包含多个
frame的话，原先的content.getSelection()只会get到空字符串，所以需要用
buffer.focusedFrame.getSelection()。原先利用toString()方法会把换行符都变成空格，然后也便于在
command-line 
mode用:tabopen打开。为了保持所选文字的完整信息，就需要使用Pentadactyl给的util.domToString()函数，同
时:tabopen命令由于不能处理接收到的"\r\n"换行符，所以直接交由dactyl.open处理。其实我只是把Yank调用的
buffer.currentWord和Paste调用的dactyl.open()拆开接在一起而已。话说domToString函数还真是有趣，如果
用domToString(url, true)的方式调用的话，会把所选文字部分连带html tag一起给你，好像挺适合调试用的感觉。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">类似地还可以引申出其他的用法如：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map
 &lt;leader&gt;v -js 
str=util.domToString(buffer.focusedFrame.getSelection()).toLowerCase(); 
str.substr(0,2)=="av"?dactyl.execute(":tabopen 
www.bilibili.tv/video/"+str):str.substr(0,2)=="ac"?dactyl.execute(":tabopen
 www.acfun.tv/v/"+str):str.substr(0,2)=="sm"?dactyl.execute(":tabopen 
www.nicovideo.jp/watch/"+str):str.substr(0,6)=="mylist"?dactyl.execute(":tabopen
 www.bilibili.tv/"+str):dactyl.execute(":tabopen 
www.bilibili.tv/video/av"+str)</font></p> <p><font face="Courier New">其
中&lt;leader&gt;键默认为反斜杠（\），于是乎按下\v的时候，调用javascript，首先把选定文字保存在str里，，然后判断如果
前两位是av的话打开对应bilibili视频页，前两位是ac的话打开acfun页，前两位是sm的话打开nicovideo页，mylist的话则默
认为bilibili收藏列表，最后如果都不是，自动当成bilibili视频id号。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">另外说说发现的一个细节：如果把一些按键映射到-js上，javascript里用的变量都是局部变量；然而映射到:js上的话，就可以在那段javascript执行结束后仍能调用那些变量。例如：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map &lt;leader&gt;] -js var temp='a'</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map &lt;leader&gt;[ :js var temp='b'&lt;CR&gt;</font></p> <p><font face="Courier New">如果你按\]然后:echo temp的话只会得到undefined，但是按\[然后:echo temp的话就可以看到b了。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">浏</font><font face="Courier New">览网页时，有时会遇到没有形成超链接的url文字，明明是url却只是普通文本。对我来说，只需用caret mode或者鼠标把光标焦点放在那一行行，然后按O键，剩下的就交给map了：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map O i0v$yv&lt;Esc&gt;P</font></p> <p><font face="Courier New">解释一下：首先i进入caret mode，然后到行首，v进入visual mode（反白文字），然后跳到行尾，再把内容yank出来，v返回caret mode，&lt;Esc&gt;返回normal mode，最后把yank到的东西P到新标签页。</font></p> <p><font face="Courier New">于
是O键映射对于处理那些单独一行的链接文字还算有效，不过如果好几行都是没有超链接的url，一般想法是都反白选择了，再按YP、或者照前文说按t键（重
新映射过的版本）。只不过Pentadactyl默认使用竖线|分隔需要各自打开新标签页的url，比如:tabopen 
ikebukuro-dollars.com | www.nr.com | 
www.arxiv.org才会分开三个标签页打开，用换行符分隔开的url（比如选定多行文字，Y然后P的时候）还是会黏在一起当成一个网页的url。
这时候就需要自定义urlseparator参数了：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">set urlseparator='( {10,}\S|\n+(?!$)(?!\s)|(\s\S*|^\S+)http://)'</font></p> <p><font face="Courier New">↑这是我写这篇文章刚开始时的设定，现在我用这个↓</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">set
 
urlseparator='\s((?!http://)[\s\S])*http://|(((?!http://)\S)*[^u\s]rce:|((?!http://)\S)*[^r\s]ce:|((?!http://)\S)*[^c\s]e:|((?!http://)\S)*[^e\s]:|((?!http://)\S)*[^:\s])http://|\s{5,}((?!http://)\S)+((?!http://)[\s\S])*$|(\s((?!http://)\S)+((?!http://)[\s\S])*\n|\n((?!http://)[\s\S])*((?!http://)\S)+)((?!http://)[\s\S])*$'</font></p> <p><font face="Courier New">看懂了下面这个恐怕上面的就没问题了。首先要知道这是正则表达式，而我用竖线|分隔开了四种情况：</font></p> <p><font face="Courier New">第
一种 \s((?!http://)[\s\S])*http:// 
匹配的是从一个空白字符开始，后面接不是"http://"的若干任意字符，直到碰到http://为止，其中(?!http://)就是RegEx的
look 
ahead语法，匹配前方不是http://的情况。Pentadactyl在找到匹配的urlseparator之后，会把匹配部分扔掉，该部分前面的
字符作为url打开，后面的字符继续进行匹配。因而要不得把http://匹配出来截掉，留下后面网址部分打开，要不用look-ahead 
(?=http://)不匹配后面http://的部分，整个留下来，这样可以拓展成 (?=(https?|ftp)://)的用法。</font></p> <p><font face="Courier New">第
二种情况 
(((?!http://)\S)*[^u\s]rce:|((?!http://)\S)*[^r\s]ce:|((?!http://)\S)*[^c\s]e:|((?!http://)\S)*[^e\s]:|((?!http://)\S)*[^:\s])http://
 
匹配的是一系列连续的非空白字符（而且不包含http://，方法同上）直到碰到http://为止，除了urce:http://这种情况外。如果不是
要顾及view-source:http://... 这样的情况，写成 ((?!http://)\S)*http:// 
就够了。即使要顾及view-source，本来用look-behind 
(?&lt;!view-source:)就能排除http://前面是view-source:的情况，只是这天杀的javascript 
RegEx只支持look-ahead不支持look-behind……于是只好手动改写成这样（这样写应该会条理清楚点）：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">(((?!http://)\S)*[^u\s]rce:</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">|((?!http://)\S)*[^r\s]ce:</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">|((?!http://)\S)*[^c\s]e:</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">|((?!http://)\S)*[^e\s]:</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">|((?!http://)\S)*[^:\s]</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">)http://</font></p> <p><font face="Courier New">匹
配http://前面不是冒号，或者是冒号但冒号前面不是e，或者是e:但前面不是c，或者是ce:但前面不是r，或者是rce:但前面不是u。以
urce结尾的单词只有source和ressource，误杀率很低，不过还是有可能会误中某些用户id，譬如在以下情景（C洽），用户id叫
SonicBurce什么的话就中招了：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">推 chshsnail:http://i.imgur.com/N5ROl.jpg 笨蛋大小姐+大少爺 &nbsp; &nbsp; &nbsp; &nbsp;07/14 01:26</font></p> <p><font face="Courier New">第
三种情况 \s{5,}((?!http://)\S)+((?!http://)[\s\S])*$ 
匹配的是以至少五个空白字符打头、任意字符（除http://外）直到字符串结尾，而且至少包含一个非空字符。这样可以把跟在链接文字后面多余的东西去
掉，适用情景如（C洽）（打开此链接后果自负）：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">→
 yankeefat:那樓上這給你http://ppt.cc/Lh~~ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;07/16 17:11</font></p> <p><font face="Courier New">对
于这种短网址服务或者inspic之类图片站，打开后面有东西的网址“http://ppt.cc/Lh~~ &nbsp; &nbsp;07/16 
17:11”是会报错的。不过这RegEx有个副作用就是把多余的部分匹配出来扔掉以后，Pentadactyl会继续把后面剩下的部分（空字符串）当成
url打开，结果就是打开%USERPROFILE%或$HOME页面。因而为了减小副作用，就要求匹配部分必须含有非空字符，否则连trailing 
spaces都会引发urlseparator。至于开头要求的五个空白字符，是为了避免连</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">:tabopen 僕と契約して 魔法少女になってよ</font></p> <p><font face="Courier New">的时候，把后面“魔法少女になってよ”也当成垃圾匹配然后扔掉了。</font></p> <p><font face="Courier New">最
后第四种情况 
(\s((?!http://)\S)+((?!http://)[\s\S])*\n|\n((?!http://)[\s\S])*((?!http://)\S)+)((?!http://)[\s\S])*$
 
匹配的也是链接文字后面多余的东西，不过不要求五个空白字符打头，只需要一个空白字符打头，而后面包含换行符"\n"和非空字符那就足够了。包含换行符的
话总不可能是在:tabopen 
打开的嘛。于是匹配方式是先找空白字符\s再找非空字符\S+然后任意字符之后有换行符\n，或者是换行符\n打头然后任意字符再有非空字符\S+，两者
“或”一下之后接任意字符直到字符串结尾。</font></p> <p><font face="Courier New">这么一来，urlseparator就不仅仅是分开url的东西了，而成为了优化上网体验、增加Firefox自动化的一个工具。遇到类似于 </font><a href="http://www.ptt.cc/bbs/C_Chat/M.1310794620.A.FBD.html"><font face="Courier New">http://www.ptt.cc/bbs/C_Chat/M.1310794620.A.FBD.html</font></a><font face="Courier New"> 的网页内容，只需用鼠标把第一个http到最后jpg选中，然后按t键，urlseparator就开始工作，帮你自动把四个url地址分开，在四个标签页中打开，并忽略其余文字内容。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">继</font><font face="Courier New">续增加Firefox自动化，我还按照自己的习惯做了个autocommand：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">autocmd
 DownloadPost .* -js 
patt=/^C:\\Users\\Username\\Documents\\.+(mp3|wma)$/i; if 
(patt.test(file)) { result=io.system("move /-Y "+file+" 
c:\\users\\Username\\music\\"+file.substr(24)); if (result.returnValue 
!= 0) dactyl.echo("error while moving "+file) }</font></p> <p><font face="Courier New">大
家拿去用的时候记得换成自己常用的下载目录、以及放置音乐的目录，另外把24修改成下载目录的字符串长度。无论我从什么网站（正则.*）下载了文件，只要
Pentadactyl发现是放在了我临时下载目录而且是mp3/wma文件，那么就调用系统命令（move是Windows的例子，*nix系统请自行
改成mv）把文件移到适合的地方。这个只是例子，具体怎么用autocmd DownloadPost配合extend hint 
mode的;s快速下载并分类文件，还有很大发展空间。另外一提，只有当焦点还在Firefox的时候，autocmd才会起效，如果在下载完成的时候，
你仍然在其他窗口如记事本那里，那么autocmd不会有任何效果。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">不</font><font face="Courier New">像
新版本的Vimperator，Pentadactyl还是需要手动把几个常用快捷键pass掉，如:map -m n,v,i,c 
&lt;C-c&gt; 
&lt;Pass&gt;。不过提醒一下，其实黏贴除了用&lt;C-v&gt;，一直以来还有&lt;S-Insert&gt;这个选择的说。</font></p> <p><font face="Courier New">在command-line mode打开网页的小技巧映射：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">cnoremap &lt;S-Return&gt; &lt;End&gt;.org&lt;Home&gt;&lt;C-Right&gt;www.&lt;CR&gt;</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">cnoremap &lt;C-Return&gt; &lt;End&gt;.com&lt;Home&gt;&lt;C-Right&gt;www.&lt;CR&gt;</font></p> <p><font face="Courier New">在command-line mode有几个小巧的命令：</font></p> <p><font face="Courier New">:y[ank] 后面跟其他命令，可以把命令运行结果直接yank进去。</font></p> <p><font face="Courier New">:tab 后面跟其他命令，会在新标签页执行。适用情景如:tab h passkeys</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">有</font><font face="Courier New">时需要测试几个Pentadactyl的命令，是直接在万能冒号后测试，有时则需要看已有的配置文件整体会不会出问题，这时候最好就用:so[urce] path\to\_pentadactylrc 来重载配置了。为了方便调试，我还做了映射：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map &lt;leader&gt;s :source ~\\_pentadactylrc&lt;CR&gt;</font></p> <p><font face="Courier New">而
如果需要更彻底的测试，可以使用:reh[ash]，适用于往%USERPROFILE%\pentadactyl\plugins\内加入了新的插件，
又或者手动改写了Pentadactyl的javascript代码的情况，比方说打补丁。情景：有个命令:sanitize可以清除指定时间范围内的指
定对象（如下载历史、浏览历史、cookies等），用法如:sanitize cookies 
-timespan=30m。不过你亲手试试的话可能会有range not defined错误（</font><a href="http://code.google.com/p/dactyl/issues/detail?id=428"><font face="Courier New">http://code.google.com/p/dactyl/issues/detail?id=428</font></a><font face="Courier New">），是由于sanitizer.jsm里的一行代码导致的（</font><a href="http://code.google.com/p/dactyl/source/detail?r=48f6adfae8"><font face="Courier New">http://code.google.com/p/dactyl/source/detail?r=48f6adfae8</font></a><font face="Courier New">）。
所以只需到你的firefox 
profile的文件夹内找到extensions\pentadactyl@dactyl.googlecode.com.xpi。这文件其实是个
zip压缩包，解压开来找或者用Total 
Commander直接进入，找common\modules\sanitizer.jsm文件。文件复制出来修正，然后覆盖回去，再在firefox里
用:rehash，就能看到效果了。顺带一提，sanitize这命令看起来超实用的说，</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">:sa[nitize] -h=host -o[lder] -t[imespan]=10m/h/d/w/session downloads/history/cache/host/...</font></p> <p><font face="Courier New">可
以用来消除若干分钟/小时/天/星期内（又或者当前浏览进程）的、所有属于某个host的下载历史/浏览历史/缓存/保存密码/表单/cookies等
等，又或者-h=host 
all也是可以的，或者不指定host，而是若干分钟内的所有浏览历史之类，进而使用-older的话就是指定时间以前的相关项目被清理掉。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">另</font><font face="Courier New">外必须要提Pentadactyl和google有个地方有bug，估计跟Vimperator内部处理mode转换和&lt;Esc&gt;键的方式有关。比如我们这样映射</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">map -m n,v,i,c,t &lt;S-Esc&gt; -builtin j</font></p> <p><font face="Courier New">在
大部分网页都能正常工作，按下Shift+Esc相当于按j键。不过在www.google.com/search?q=...这样的页面里，嗯也能正常
工作，&lt;S-Esc&gt;映射成了j。只不过你用万能冒号:或者t或者o或者a之类进入command-line 
mode的话，会发现“咦？怎么它自动打了三个j？”。这时你用&lt;Tab&gt;键进行自动补完的话，会发现它又自动按了一下j。而
用&lt;Esc&gt;退回到normal mode的话，也会发现“咦？怎么页面突然下滚了一行，就像是按了一下j？”</font></p> <p><font face="Courier New">这
奇怪的bug貌似只在www.google.com的domain而且url后面还有文字的时候出现，在www.google.com本身是没问题的，还
有什么mail.google.com, docs.google.com也都没问题。另外这bug还超霸道，即使你把这个映射pass掉：</font></p> <p style="margin-left:36.0pt" cs_indent_replace_tag=""></p><p><font face="Courier New">set passkeys+=www.google.com:&lt;S-Esc&gt;</font></p> <p><font face="Courier New">这
样经测试，无论在www.google.com还是www.google.com/search?q=...的normal 
mode下，按键&lt;S-Esc&gt;已经被忽略了，只不过bug依然存在，进入command-line 
mode的时候会自动出来三个j，回到normal mode的时候也会无视passkeys传一个j键event给firefox。</font></p> <p><font face="Courier New">vimperator的2011-04-21更新提到过&lt;S-Esc&gt;的问题：</font></p> <p><a href="http://vimperator-labs.googlecode.com/hg/vimperator/NEWS"><font face="Courier New">http://vimperator-labs.googlecode.com/hg/vimperator/NEWS</font></a></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New" size="6">最</font><font face="Courier New">后，我的_pentadactylrc文件（适用Win7）：</font></p> <p><a href="http://pastebin.com/LXVz4Lfg"><font face="Courier New">http://pastebin.com/LXVz4Lfg</font></a></p> <p><font face="Courier New">我记不记得去更新那是另一回事了</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">本来还想拿一段说说用Pentadactyl配合javascript的方式调戏Firefox以及一众后宫（Firefox插件）的，因为只要知道了获取Object的方法和需要调用的函数的名称，Firefox的本质就很容易被看清。嘛还是以后再说吧。</font></p> <p><font face="Courier New"><br></font></p> <p><font face="Courier New">后记：写完这篇之后，我真想有个软件能把.tex编译成blog风格的html然后跟菊子曰无缝接合自动发布……暂时只好全篇改成courrier new字体，跟我在notepad++设置一样，看着还算顺眼</font></p><div class="addfav"><br>收藏到：<span class="delicious"><a href="http://delicious.com/save?url=http%3A%2F%2Fpchu.blogbus.comhttp%3A%2F%2Fpchu.blogbus.com%2Flogs%2F148008347.html&amp;title=Pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97" target="_blank">Del.icio.us</a></span></div><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/google_service.js">
</script>
<script type="text/javascript">
GS_googleAddAdSenseService("ca-pub-1133838214619276");
GS_googleEnableAllServices();
</script>
<script type="text/javascript">
GA_googleAddSlot("ca-pub-1133838214619276", "blogbus_user_detail");
GA_googleFetchAds();
</script>
<br><br><br>
<div style="width:468px;">
<script type="text/javascript">
GA_googleFillSlot("blogbus_user_detail");
</script>
</div>
<br>
						<div class="clear"></div>
					</div>
						<div class="tags">Tag：<a href="http://pchu.blogbus.com/tag/firefox/">firefox</a> <a href="http://pchu.blogbus.com/tag/pentadactyl/">pentadactyl</a> <a href="http://pchu.blogbus.com/tag/vimperator/">vimperator</a> </div>
					<div class="postFooter">
						<div class="tb_url">引用地址：<input id="trackback_url" value="http://www.blogbus.com/public/tb.php/4480387/148008347/63a1dd2e56f7af1a8b088e5c6d592296" onmouseover="document.getElementById('trackback_url').select()" type="text"></div>
						<div class="menubar"><span class="author"><a href="http://home.blogbus.com/profile/ipchu">pchu</a></span> 发表于<span class="time">17:31:31</span> | 日志分类：<a href="http://pchu.blogbus.com/c1907830/">电脑生活</a>  | <a href="http://blog.home.blogbus.com/4480387/posts/148008347/form" class="edit">编辑</a> | <a href="javascript:;" class="dig" target="_blank" onclick="share_click('share_d17df1bf5cb309cc215ea65afad3cae2'); Picobox.showIFrameBox('分享文章','http://app.home.blogbus.com/share?url=http%3A%2F%2Fpchu.blogbus.com%2Flogs%2F148008347.html&amp;from=blogbus&amp;back=http%3A%2F%2Fpchu.blogbus.com',{width:400,height:260}); return false;">分享<span id="share_d17df1bf5cb309cc215ea65afad3cae2"> 1</span></a></div>
					</div>
				</li>
				<!--/list-->
				<div class="postsBottom"></div>
</ul><a name="cmt"></a><ul id="comments"><h2>评论</h2>
<li><div class="cmtBody">楼主如何看vimperator？v与p哪个更有前途一些？<br>
</div>

<div class="menubar"><span class="author">hi_lucky | </span> 发表于<span class="time">2011-12-27 22:00:21</span>
<span>[<a href="#" onclick="Picobox.showIFrameBox('回复评论', 'http://blog.home.blogbus.com/4480387/comments/148008347/reply?cmid=83145454', {width:310, height:200});return false;" rel="facebox">回复</a>]</span></div></li>
<li><div class="cmtBody">本来是找 Vimperator 有没有 Readabilty 的插件，没想到找到了这篇研究 Pentadactyl 的长文=.=<br>
<br>
不过还是发现很多可以借鉴的技巧，谢谢作者的分享哟</div>

<div class="menubar"><span class="author"><a href="http://elnode.com/" rel="nofollow" target="_blank">vayn</a> | </span> 发表于<span class="time">2011-08-21 14:01:52</span>
<span>[<a href="#" onclick="Picobox.showIFrameBox('回复评论', 'http://blog.home.blogbus.com/4480387/comments/148008347/reply?cmid=82610279', {width:310, height:200});return false;" rel="facebox">回复</a>]</span></div></li>
<li><div class="cmtBody">顺便说下，这里有修改好的walk-input.js：<br>
https://github.com/grassofhust/dotfiles/blob/master/.pentadactyl/archives/walk-input.js<br>
grassofhust 还写了很多不错的Pentadactyl脚本，都可以在那里找到，比如dict.js很不错用。</div>

<div class="menubar"><span class="author">harnack | </span> 发表于<span class="time">2011-07-27 11:12:38</span>
<span>[<a href="#" onclick="Picobox.showIFrameBox('回复评论', 'http://blog.home.blogbus.com/4480387/comments/148008347/reply?cmid=82445064', {width:310, height:200});return false;" rel="facebox">回复</a>]</span></div></li>
<li><div class="cmtBody">写的不错，和Xiao Shan那篇一样都是大部头作品。</div>

<div class="menubar"><span class="author">harnack | </span> 发表于<span class="time">2011-07-27 02:08:01</span>
<span>[<a href="#" onclick="Picobox.showIFrameBox('回复评论', 'http://blog.home.blogbus.com/4480387/comments/148008347/reply?cmid=82444597', {width:310, height:200});return false;" rel="facebox">回复</a>]</span></div></li>
<li><div class="cmtBody">估计在wordpress显示格式更好：<br>
http://astropchu.wordpress.com/2011/07/17/pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97/</div>

<div class="menubar"><span class="author"><a href="http://pchu.blogbus.com/" target="_blank">pchu</a> | </span> 发表于<span class="time">2011-07-18 16:57:07</span>
<span>[<a href="#" onclick="Picobox.showIFrameBox('回复评论', 'http://blog.home.blogbus.com/4480387/comments/148008347/reply?cmid=82396197', {width:310, height:200});return false;" rel="facebox">回复</a>]</span></div></li>
<li><div class="cmtBody">菊子曰和blogbus的配合真是让人绝望……算了，这文章格式也还能看……不修改了……</div>

<div class="menubar"><span class="author"><a href="http://pchu.blogbus.com/" target="_blank">pchu</a> | </span> 发表于<span class="time">2011-07-17 02:56:50</span>
<span>[<a href="#" onclick="Picobox.showIFrameBox('回复评论', 'http://blog.home.blogbus.com/4480387/comments/148008347/reply?cmid=82388239', {width:310, height:200});return false;" rel="facebox">回复</a>]</span></div></li></ul>
<div id="commentForm"><h2>发表评论</h2>
<a name="cmt_form"></a>
<form target="ifr_login" method="post" name="cform" action="http://passport.blogbus.com/login?passport=1&amp;app=blogbus&amp;goto=http%3A%2F%2Fhome.blogbus.com%2Fpassport%3F_pspt%3D1%26_data%3D%5Bdata%5D%26_sign%3D%5Bsign%5D%26forward%3Dhttp%253A%252F%252Fpchu.blogbus.com%252Fpassport.html%26return%3D1&amp;once=7243507c70c8d5ed&amp;sign=uBv2NUchA2P.d25ubcfsKg&amp;return=1" onsubmit="return check_cmt(this);">
<fieldset style="margin:0;padding:0;border:none;display:none;" id="fs_nologin">
<div><label for="cname">姓　名</label><input class="textField" id="cname" name="cname" type="text">
<span style="color:#ccc;margin-left:5px;" class="emailnotice"><a href="#" title="登录后评论" style="text-decoration:underline;" onclick="return login_mode();">登录后评论</a></span></div>
<div><label for="cemail">E-Mail</label><input class="textField" id="cemail" name="email" type="text">
<span style="color:#ccc;margin-left:5px;" class="emailnotice">您将收到博主的回复邮件</span>
</div>
<div><label for="chomepage">地　址</label><input class="textField" id="chomepage" name="homepage" type="text"></div>
</fieldset>
<fieldset style="margin: 0px; padding: 0px; border: medium none; display: block;" id="fs_login">
<div><label for="username">用户名</label><input class="textField" id="username" name="username" tabindex="1" type="text">
    </div>
<div><label for="password">密　码</label><input class="textField" id="password" name="password" value="" tabindex="2" type="password"></div>
</fieldset>
<div><textarea name="content" rows="8" tabindex="3"></textarea></div>
<div class="submit">
<input name="login" value="0" type="hidden">
<input name="postId" value="148008347" type="hidden">
<input name="blogId" value="4480387" type="hidden">
<input name="checksum" value="1cb3a8d0f7ec621l6ee3b4a4a920c3ba" type="hidden">
<input name="name" value="" type="hidden">
<table>
<tbody><tr>
<td><input class="button" name="addsub" value="提交" id="submit_comment" type="submit"></td>
<td id="share_check">

</td>
</tr>
</tbody></table>
</div>
</form>
<iframe src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/a.html" style="display:none;width:1px;height:1px;" name="ifr_login" id="ifr_login"></iframe></div>
<script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/cmt_form.html"></script>
<script type="text/javascript">var post_ids='148008347';</script><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/number.html"></script><script>function share_click(id){var num = parseInt(document.getElementById(id).innerHTML);	num++;document.getElementById(id).innerHTML= ' '+num;}</script><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/helper1.js"></script>
                    <div class="contentBottom"></div>                    
                </div>
            </div>
            <div id="outerSidebar">
                <div id="sidebar">
                    <div class="sideTop"></div>
                        
<div id="custom2"><a href="http://pchu.blogbus.com/logs/30451289.html">GOTO 学习成绩记录</a><br>
<a href="http://pchu.blogbus.com/logs/30451273.html">GOTO 财务结余</a><br>
<a href="http://pchu.blogbus.com/logs/20226972.html">GOTO 我的日程</a><br>
<a href="http://pchu.blogbus.com/logs/22496952.html">GOTO pchu的留言本</a><br>
</div>
<div id="custom"><script type="text/javascript"><!--
google_ad_client = "pub-2318262631801178";
/* 7blog, firefox try, 125x125button，创建于 08-3-11 */
google_ad_slot = "6326245029";
google_ad_width = 125;
google_ad_height = 125;
google_cpa_choice = ""; // on file
//-->
</script>
<script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/show_ads.js">
</script></div><div id="search" class="module">
	<div class="modTop"></div>
	<h2>搜索</h2>
	<div class="modBody">
	    <form action="http://www.google.com/cse" id="cse-search-box" target="_blank">
		<input name="cx" value="000579218792228101724:tvuzu9tzfs0" type="hidden">
		<input name="ie" value="UTF-8" type="hidden">
		<input name="q" class="textField" type="text">
		<input class="button" value="搜索" type="submit">
		<div class="clear"></div>
	    </form>
	</div>
	<div class="modBottom"></div>
</div><div id="nPosts" class="module">
	<div class="modTop"></div>
	<h2>最新日志</h2>
	<div class="modBody">
		<ul><li><a href="http://pchu.blogbus.com/logs/156300307.html">人生のチェックインポイントを見つければ...</a></li>
<li><a href="http://pchu.blogbus.com/logs/148356784.html">随便乱扯</a></li>
<li><a href="http://pchu.blogbus.com/logs/148072395.html">我胡汉三又回来啦</a></li>
<li><a href="http://pchu.blogbus.com/logs/148008347.html">Pentadactyl小记及心得</a></li>
<li><a href="http://pchu.blogbus.com/logs/82078327.html">I'll be back</a></li>
<li><a href="http://pchu.blogbus.com/logs/42085731.html">口试即将结束，下期预告</a></li>
<li><a href="http://pchu.blogbus.com/logs/36873645.html">ubuntu,小小小脚本</a></li>
<li><a href="http://pchu.blogbus.com/logs/36870556.html">.vimperatorrc</a></li>
<li><a href="http://pchu.blogbus.com/logs/36868454.html">在ubuntu下用netcat偷网实例</a></li>
<li><a href="http://pchu.blogbus.com/logs/36652298.html">当今的教育部绝对是扼杀人才的侩子手</a></li>
</ul>
		<div class="more"><a href="http://pchu.blogbus.com/logs/">全部日志&gt;&gt;</a></div>
	</div>
	<div class="modBottom"></div>
</div><div id="nComments" class="module">
	<div class="modTop"></div>
	<h2>最新评论</h2>
	<div class="modBody">
		<ul><li><span class="author"><a href="http://styr.blogbus.com/" target="_blank">styr</a></span>：<a href="http://pchu.blogbus.com/logs/30451289.html#cmt">bonjour!
colle啊，其实还蛮好玩的。...</a></li><li><span class="author">hi_lucky</span>：<a href="http://pchu.blogbus.com/logs/148008347.html#cmt">楼主如何看vimperator？v与p哪个更有前途一些？...</a></li><li><span class="author"><a href="http://elnode.com/" target="_blank">vayn</a></span>：<a href="http://pchu.blogbus.com/logs/148008347.html#cmt">本来是找 Vimperator 有没有 Readabil...</a></li><li><span class="author">harnack</span>：<a href="http://pchu.blogbus.com/logs/148008347.html#cmt">顺便说下，这里有修改好的walk-input.js：
...</a></li><li><span class="author">harnack</span>：<a href="http://pchu.blogbus.com/logs/148008347.html#cmt">写的不错，和Xiao Shan那篇一样都是大部头作品。...</a></li><li><span class="author"><a href="http://pchu.blogbus.com/" target="_blank">pchu</a></span>：<a href="http://pchu.blogbus.com/logs/148008347.html#cmt">估计在wordpress显示格式更好：
http://...</a></li><li><span class="author"><a href="http://pchu.blogbus.com/" target="_blank">pchu</a></span>：<a href="http://pchu.blogbus.com/logs/148008347.html#cmt">菊子曰和blogbus的配合真是让人绝望……算了，这文章...</a></li><li><span class="author">rachel</span>：<a href="http://pchu.blogbus.com/logs/20226900.html#cmt">请问，你是怎么进的prepa，是在那边读了高中吗，谢谢...</a></li><li><span class="author">helloworld</span>：<a href="http://pchu.blogbus.com/logs/22558098.html#cmt">noremap &lt;Leader&gt;dict :...</a></li><li><span class="author"><a href="http://Inside%20a%20Computer" target="_blank">helloworld</a></span>：<a href="http://pchu.blogbus.com/logs/22558098.html#cmt">请问博主，如果用 vimperator，不想显示书签栏，...</a></li></ul>
	</div>
	<div class="modBottom"></div>
</div><div id="tags" class="module">
	<div class="modTop"></div>
	<h2>Tag</h2>
	<div class="modBody">
		<ul><li><a href="http://pchu.blogbus.com/tag/futura-science/">futura-science<span class="count">[29]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/%E5%A4%A9%E6%96%87/">天文<span class="count">[27]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/prepa/">prepa<span class="count">[14]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/firefox/">firefox<span class="count">[8]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/ubuntu/">ubuntu<span class="count">[7]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/%E5%8D%8E%E5%B8%88%E9%99%84%E4%B8%AD/">华师附中<span class="count">[6]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88/">网页浏览<span class="count">[5]</span></a></li>
<li><a href="http://pchu.blogbus.com/tag/%E5%8D%8E%E9%99%84/">华附<span class="count">[5]</span></a></li>
</ul>
		<div class="more"><a href="http://pchu.blogbus.com/tags/">More..</a></div>
	</div>
	<div class="modBottom"></div>
</div>
                        <div id="meta" class="module">
                            <div class="modTop"></div>
                            <div class="modBody">
                                <ul>
<li class="subscribe" style="line-height:180%;"><div><a href="http://feedsky.blogbus.com/pchu_blogbus_com"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/rss.gif" alt="RSS"></a> <a href="http://bangzhuzhongxin.blogbus.com/logs/5452786.html" target="_blank">什么是RSS？</a></div><div class="feedsky" style="margin:.5em 0"><a href="http://feedsky.blogbus.com/pchu_blogbus_com"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/gif.gif"></a></div><div class="inezha" style="margin:.5em 0"><a href="http://inezha.com/add2?hid=2320&amp;url=http://feedsky.blogbus.com/pchu_blogbus_com" title="此博客内容更新用IM提醒我" target="_blank"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/anothr.gif" alt="用IM提醒我内容更新"></a></div><div class="qqmail" style="margin:.5em 0"><a href="http://mail.qq.com/cgi-bin/feed?u=http://feedsky.blogbus.com/pchu_blogbus_com" title="订阅到QQ邮箱" target="_blank"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/qqmail.png" alt="订阅到QQ邮箱"></a></div><div class="xiangguo" style="margin:.5em 0"><a href="http://www.xianguo.com/subscribe.php?url=http://feedsky.blogbus.com/pchu_blogbus_com" title="订阅到鲜果阅读器" target="_blank"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/xianguo.png" alt="订阅到鲜果阅读器"></a></div><div class="g-reader" style="margin:.5em 0"><a href="http://fusion.google.com/add?feedurl=http://feedsky.blogbus.com/pchu_blogbus_com" title="订阅到Google阅读器" target="_blank"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/google.png" alt="订阅到Google阅读器"></a></div><div class="zhuaxia" style="margin:.5em 0"><a href="http://www.zhuaxia.com/add_channel.php?url=http://feedsky.blogbus.com/pchu_blogbus_com" title="订阅到抓虾阅读器" target="_blank"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/zhuaxia.png" alt="订阅到抓虾阅读器"></a></div><div class="feedsky" style="margin:.5em 0"><a href="http://wap.feedsky.com/blogbus.com/pchu_blogbus_com"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/icon_mobi_c1s1.gif"></a></div></li>
                                    <li class="poweredBy">
                                        <a href="http://www.blogbus.com/" target="_blank"><img src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/link_blogbus.gif" alt="博客大巴"></a><div><a href="http://bangzhuzhongxin.blogbus.com/" target="_blank" title="博客大巴使用指南">博客大巴使用指南</a></div><div><a href="http://www.blogbus.com/skin/" target="_blank" title="博客大巴模板中心">博客大巴模板中心</a></div><div><a href="http://passport.blogbus.com/register_form" target="_blank" title="免费注册博客大巴">免费注册博客大巴</a></div><div><a href="http://banjia.blogbus.com/" target="_blank" title="一键博客搬家工具">一键博客搬家工具</a></div><div><a href="http://www.icity.cn/" target="_blank" title="中文互动杂志城客">中文互动杂志城客</a></div>
                                    </li>
                                </ul>
                            </div>
                            <div class="modBottom"></div>
                        </div>
                    <div class="sideBottom"></div>
                </div>
            </div>
            <div class="innerBottom"></div>
        </div>        
		<div class="clear"></div>
		<div id="footer">
				<div class="copyright">Copyright © 2002-2013 BlogBus.com, All Rights Reserved. <a href="http://www.blogbus.com/" target="_blank">博客大巴</a> 版权所有
<br><a href="http://new-skin137.blogbus.com/">博客大巴模板设计：春暖花开 | 作者： 小明</a>
</div>
		</div>
	</div>
</div>
</div><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/helper1_002.js"></script><script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol)?"https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script><script src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/ga.js" type="text/javascript"></script>
        <script type="text/javascript">
        var pageTracker = _gat._getTracker("UA-2120146-1");
        pageTracker._setDomainName(".blogbus.com");
        pageTracker._addOrganic("baidu","word");
        pageTracker._addOrganic("baidu","wd");
        pageTracker._addOrganic("soso","w");
        pageTracker._addOrganic("vnet","kw");
        pageTracker._initData();
        pageTracker._trackPageview();
	</script><div style="display:none;"><script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F8452dbf205b0f6608661b0fdea22c741' type='text/javascript'%3E%3C/script%3E"));
</script><script src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/h.js" type="text/javascript"></script><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=8452dbf205b0f6608661b0fdea22c741" target="_blank">网站统计</a></div><script type="text/javascript" src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/counter.html"></script><script src="pentadactyl%E5%B0%8F%E8%AE%B0%E5%8F%8A%E5%BF%83%E5%BE%97_files/counter_more.html"></script><div style="height: 768px; width: 1024px;" id="picoboxMask"></div><div id="picobox" style="display:none;"><table style="width:100%;height:100%" cellpadding="0" cellspacing="0"><tbody><tr><td class="rc_lt"></td><td class="top"></td><td class="rc_rt"></td></tr><tr><td class="left"></td><td class="content"><div id="picoboxInner"><h1 class="picoboxTitle"><div><span></span><a class="close" href="#" onclick="Picobox.hide();return false;">X</a></div></h1><div class="picoboxBody"></div></div></td><td class="right"></td></tr><tr><td class="rc_lb"></td><td class="bottom"></td><td class="rc_rb"></td></tr></tbody></table></div></body></html>